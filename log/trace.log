2021-04-16 00:00:10.531 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:00:10.531 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:00:10.542 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find/1 GET
2021-04-16 00:00:10.542 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2021-04-16 00:00:10.542 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.find
2021-04-16 00:00:10.542 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.findContent
2021-04-16 00:00:10.542 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:00:10.543 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:00:10.543 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [1]
2021-04-16 00:00:10.543 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [1]
2021-04-16 00:00:10.545 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},"success":true}
2021-04-16 00:00:10.545 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":"<blockquote>äº‰åšå›½å†…ä½¿ç”¨ä½“éªŒæœ€å¥½çš„å¼€æº Web å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ï¼</blockquote><h1>ä¸ºä½•é€‰æ‹© wangEditor</h1><ul><li>ç®€æ´ã€è½»é‡çº§ã€<a href=\"https://doc.wangeditor.com/\">æ–‡æ¡£</a>é½å…¨</li><li>ä¸‡æ˜Ÿé¡¹ç›®&nbsp;<a href=\"https://github.com/wangeditor-team/wangEditor/releases\">Github Star 1w+</a></li><li>npm å‘¨ä¸‹è½½é‡ 1w+</li><li>CDN æœˆä¸‹è½½é‡ç™¾ä¸‡+ï¼ˆæ¥è‡ª&nbsp;<a href=\"https://www.jsdelivr.com/package/npm/wangeditor\">jsdelivr</a>ï¼‰</li><li>QQ ç¾¤åŠæ—¶ç­”ç–‘</li><li><a href=\"https://doc.wangeditor.com/#%E5%BC%80%E5%8F%91%E4%BA%BA%E5%91%98\">å¼€æºå›¢é˜Ÿ</a>ç»´æŠ¤ï¼Œéä¸ªäººå•å…µä½œæˆ˜</li></ul><h1>åˆè§</h1><p>npm å®‰è£…&nbsp;<code>npm i wangeditor --save</code>&nbsp;ï¼Œå‡ è¡Œä»£ç å³å¯åˆ›å»ºä¸€ä¸ªç¼–è¾‘å™¨ã€‚</p><pre><code>import E from 'wangeditor'\nconst editor = new E('#div1')\neditor.create()</code></pre><p>æ›´å¤šä½¿ç”¨é…ç½®ï¼Œè¯·é˜…è¯»<a href=\"https://doc.wangeditor.com/\">ä½¿ç”¨æ–‡æ¡£</a>ã€‚</p><h1>demo</h1><p>åœ¨çº¿ä½“éªŒ demo å¯åˆ°&nbsp;<a href=\"https://codepen.io/collection/DNmPQV\">codepen.io/collection/DNmPQV</a>&nbsp;ã€‚</p><p>æ³¨æ„ï¼Œå¦‚æœæ‰“ä¸å¼€ï¼Œå¯ä»¥å»æŸ¥çœ‹&nbsp;<a href=\"https://github.com/wangeditor-team/wangEditor/tree/master/examples\">github examples</a>&nbsp;çš„æºç ã€‚</p><h1>æµè§ˆå™¨å…¼å®¹æ€§</h1><ul><li>å…¼å®¹ä¸»æµ PC æµè§ˆå™¨ï¼ŒIE11+</li><li>ä¸æ”¯æŒç§»åŠ¨ç«¯å’Œ ipad</li></ul><h1>é‡åˆ°é—®é¢˜</h1><ul><li>åŠ å…¥ QQ ç¾¤ï¼š164999061(äººå·²æ»¡)ï¼Œ710646022(äººå·²æ»¡)ï¼Œ901247714</li><li><a href=\"https://github.com/wangeditor-team/wangEditor/issues\" target=\"_blank\">æäº¤é—®é¢˜å’Œå»ºè®®</a></li></ul><h1>è´¡çŒ®ä»£ç </h1><p>æ¬¢è¿éå›¢é˜Ÿæˆå‘˜è´¡çŒ®ä»£ç ï¼Œæäº¤ Pull Requestï¼Œè¯·ä¸€å®šå‚è€ƒ<a href=\"https://github.com/wangeditor-team/wangEditor/blob/master/docs/contribution.md\" target=\"_blank\">è´¡çŒ®ä»£ç æµç¨‹</a>ã€‚</p><h1>è°åœ¨ç»´æŠ¤</h1><p>wangEditor ç°æœ‰ä¸€ä¸ªå¼€æºå›¢é˜Ÿåœ¨ç»´æŠ¤ï¼Œå›¢é˜Ÿå¯ä»¥ä¿è¯ç­”ç–‘ã€bug ä¿®å¤å’Œè¿­ä»£æ•ˆç‡ã€‚</p><p><a href=\"https://doc.wangeditor.com/#%E5%BC%80%E5%8F%91%E4%BA%BA%E5%91%98\">æŸ¥çœ‹å¼€å‘å›¢é˜Ÿï¼Œæˆ–æƒ³åŠ å…¥å¼€å‘å›¢é˜Ÿ</a></p><h1>ä¸ºæˆ‘ä»¬ç‚¹èµ</h1><p>å¦‚æœä½ æ„Ÿè§‰æœ‰æ”¶è·ï¼Œæ¬¢è¿ç»™æˆ‘æ‰“èµï¼Œä»¥æ¿€åŠ±æˆ‘ä»¬æ›´å¤šè¾“å‡ºä¼˜è´¨å¼€æºå†…å®¹ã€‚</p><p><img src=\"https://www.wangeditor.com/imgs/ali-pay.jpeg\"/>&nbsp;<img src=\"https://www.wangeditor.com/imgs/wechat-pay.jpeg\"/></p><p><br/></p>","success":true}
2021-04-16 00:00:10.545 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š14 ms -------------
2021-04-16 00:00:10.545 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š14 ms -------------
2021-04-16 00:00:15.566 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:00:15.566 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:00:15.566 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2021-04-16 00:00:15.566 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find/1 GET
2021-04-16 00:00:15.566 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.findContent
2021-04-16 00:00:15.566 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.find
2021-04-16 00:00:15.566 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:00:15.566 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:00:15.566 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [1]
2021-04-16 00:00:15.566 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [1]
2021-04-16 00:00:15.569 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},"success":true}
2021-04-16 00:00:15.569 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š3 ms -------------
2021-04-16 00:00:15.569 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":"<blockquote>äº‰åšå›½å†…ä½¿ç”¨ä½“éªŒæœ€å¥½çš„å¼€æº Web å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ï¼</blockquote><h1>ä¸ºä½•é€‰æ‹© wangEditor</h1><ul><li>ç®€æ´ã€è½»é‡çº§ã€<a href=\"https://doc.wangeditor.com/\">æ–‡æ¡£</a>é½å…¨</li><li>ä¸‡æ˜Ÿé¡¹ç›®&nbsp;<a href=\"https://github.com/wangeditor-team/wangEditor/releases\">Github Star 1w+</a></li><li>npm å‘¨ä¸‹è½½é‡ 1w+</li><li>CDN æœˆä¸‹è½½é‡ç™¾ä¸‡+ï¼ˆæ¥è‡ª&nbsp;<a href=\"https://www.jsdelivr.com/package/npm/wangeditor\">jsdelivr</a>ï¼‰</li><li>QQ ç¾¤åŠæ—¶ç­”ç–‘</li><li><a href=\"https://doc.wangeditor.com/#%E5%BC%80%E5%8F%91%E4%BA%BA%E5%91%98\">å¼€æºå›¢é˜Ÿ</a>ç»´æŠ¤ï¼Œéä¸ªäººå•å…µä½œæˆ˜</li></ul><h1>åˆè§</h1><p>npm å®‰è£…&nbsp;<code>npm i wangeditor --save</code>&nbsp;ï¼Œå‡ è¡Œä»£ç å³å¯åˆ›å»ºä¸€ä¸ªç¼–è¾‘å™¨ã€‚</p><pre><code>import E from 'wangeditor'\nconst editor = new E('#div1')\neditor.create()</code></pre><p>æ›´å¤šä½¿ç”¨é…ç½®ï¼Œè¯·é˜…è¯»<a href=\"https://doc.wangeditor.com/\">ä½¿ç”¨æ–‡æ¡£</a>ã€‚</p><h1>demo</h1><p>åœ¨çº¿ä½“éªŒ demo å¯åˆ°&nbsp;<a href=\"https://codepen.io/collection/DNmPQV\">codepen.io/collection/DNmPQV</a>&nbsp;ã€‚</p><p>æ³¨æ„ï¼Œå¦‚æœæ‰“ä¸å¼€ï¼Œå¯ä»¥å»æŸ¥çœ‹&nbsp;<a href=\"https://github.com/wangeditor-team/wangEditor/tree/master/examples\">github examples</a>&nbsp;çš„æºç ã€‚</p><h1>æµè§ˆå™¨å…¼å®¹æ€§</h1><ul><li>å…¼å®¹ä¸»æµ PC æµè§ˆå™¨ï¼ŒIE11+</li><li>ä¸æ”¯æŒç§»åŠ¨ç«¯å’Œ ipad</li></ul><h1>é‡åˆ°é—®é¢˜</h1><ul><li>åŠ å…¥ QQ ç¾¤ï¼š164999061(äººå·²æ»¡)ï¼Œ710646022(äººå·²æ»¡)ï¼Œ901247714</li><li><a href=\"https://github.com/wangeditor-team/wangEditor/issues\" target=\"_blank\">æäº¤é—®é¢˜å’Œå»ºè®®</a></li></ul><h1>è´¡çŒ®ä»£ç </h1><p>æ¬¢è¿éå›¢é˜Ÿæˆå‘˜è´¡çŒ®ä»£ç ï¼Œæäº¤ Pull Requestï¼Œè¯·ä¸€å®šå‚è€ƒ<a href=\"https://github.com/wangeditor-team/wangEditor/blob/master/docs/contribution.md\" target=\"_blank\">è´¡çŒ®ä»£ç æµç¨‹</a>ã€‚</p><h1>è°åœ¨ç»´æŠ¤</h1><p>wangEditor ç°æœ‰ä¸€ä¸ªå¼€æºå›¢é˜Ÿåœ¨ç»´æŠ¤ï¼Œå›¢é˜Ÿå¯ä»¥ä¿è¯ç­”ç–‘ã€bug ä¿®å¤å’Œè¿­ä»£æ•ˆç‡ã€‚</p><p><a href=\"https://doc.wangeditor.com/#%E5%BC%80%E5%8F%91%E4%BA%BA%E5%91%98\">æŸ¥çœ‹å¼€å‘å›¢é˜Ÿï¼Œæˆ–æƒ³åŠ å…¥å¼€å‘å›¢é˜Ÿ</a></p><h1>ä¸ºæˆ‘ä»¬ç‚¹èµ</h1><p>å¦‚æœä½ æ„Ÿè§‰æœ‰æ”¶è·ï¼Œæ¬¢è¿ç»™æˆ‘æ‰“èµï¼Œä»¥æ¿€åŠ±æˆ‘ä»¬æ›´å¤šè¾“å‡ºä¼˜è´¨å¼€æºå†…å®¹ã€‚</p><p><img src=\"https://www.wangeditor.com/imgs/ali-pay.jpeg\"/>&nbsp;<img src=\"https://www.wangeditor.com/imgs/wechat-pay.jpeg\"/></p><p><br/></p>","success":true}
2021-04-16 00:00:15.570 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2021-04-16 00:00:33.125 INFO  io.lettuce.core.protocol.ConnectionWatchdog       :171  [32m                  [0;39m Reconnecting, last destination was r-uf6ljbcdaxobsifyctpd.redis.rds.aliyuncs.com/47.103.172.100:6379
2021-04-16 00:00:33.340 INFO  io.lettuce.core.protocol.ReconnectionHandler      :164  [32m                  [0;39m Reconnected to r-uf6ljbcdaxobsifyctpd.redis.rds.aliyuncs.com:6379
2021-04-16 00:05:33.426 INFO  io.lettuce.core.protocol.ConnectionWatchdog       :171  [32m                  [0;39m Reconnecting, last destination was r-uf6ljbcdaxobsifyctpd.redis.rds.aliyuncs.com/47.103.172.100:6379
2021-04-16 00:05:33.485 INFO  io.lettuce.core.protocol.ReconnectionHandler      :164  [32m                  [0;39m Reconnected to r-uf6ljbcdaxobsifyctpd.redis.rds.aliyuncs.com:6379
2021-04-16 00:10:33.526 INFO  io.lettuce.core.protocol.ConnectionWatchdog       :171  [32m                  [0;39m Reconnecting, last destination was r-uf6ljbcdaxobsifyctpd.redis.rds.aliyuncs.com/47.103.172.100:6379
2021-04-16 00:10:33.635 INFO  io.lettuce.core.protocol.ReconnectionHandler      :164  [32m                  [0;39m Reconnected to r-uf6ljbcdaxobsifyctpd.redis.rds.aliyuncs.com:6379
2021-04-16 00:15:33.752 INFO  io.lettuce.core.protocol.ConnectionWatchdog       :171  [32m                  [0;39m Reconnecting, last destination was r-uf6ljbcdaxobsifyctpd.redis.rds.aliyuncs.com/47.103.172.100:6379
2021-04-16 00:15:33.831 INFO  io.lettuce.core.protocol.ReconnectionHandler      :164  [32m                  [0;39m Reconnected to r-uf6ljbcdaxobsifyctpd.redis.rds.aliyuncs.com:6379
2021-04-16 00:19:20.367 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:19:20.367 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:19:20.372 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2021-04-16 00:19:20.372 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find/1 GET
2021-04-16 00:19:20.372 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.findContent
2021-04-16 00:19:20.372 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.find
2021-04-16 00:19:20.372 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:19:20.372 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:19:20.373 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [1]
2021-04-16 00:19:20.373 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [1]
2021-04-16 00:19:20.493 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":"<blockquote>äº‰åšå›½å†…ä½¿ç”¨ä½“éªŒæœ€å¥½çš„å¼€æº Web å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ï¼</blockquote><h1>ä¸ºä½•é€‰æ‹© wangEditor</h1><ul><li>ç®€æ´ã€è½»é‡çº§ã€<a href=\"https://doc.wangeditor.com/\">æ–‡æ¡£</a>é½å…¨</li><li>ä¸‡æ˜Ÿé¡¹ç›®&nbsp;<a href=\"https://github.com/wangeditor-team/wangEditor/releases\">Github Star 1w+</a></li><li>npm å‘¨ä¸‹è½½é‡ 1w+</li><li>CDN æœˆä¸‹è½½é‡ç™¾ä¸‡+ï¼ˆæ¥è‡ª&nbsp;<a href=\"https://www.jsdelivr.com/package/npm/wangeditor\">jsdelivr</a>ï¼‰</li><li>QQ ç¾¤åŠæ—¶ç­”ç–‘</li><li><a href=\"https://doc.wangeditor.com/#%E5%BC%80%E5%8F%91%E4%BA%BA%E5%91%98\">å¼€æºå›¢é˜Ÿ</a>ç»´æŠ¤ï¼Œéä¸ªäººå•å…µä½œæˆ˜</li></ul><h1>åˆè§</h1><p>npm å®‰è£…&nbsp;<code>npm i wangeditor --save</code>&nbsp;ï¼Œå‡ è¡Œä»£ç å³å¯åˆ›å»ºä¸€ä¸ªç¼–è¾‘å™¨ã€‚</p><pre><code>import E from 'wangeditor'\nconst editor = new E('#div1')\neditor.create()</code></pre><p>æ›´å¤šä½¿ç”¨é…ç½®ï¼Œè¯·é˜…è¯»<a href=\"https://doc.wangeditor.com/\">ä½¿ç”¨æ–‡æ¡£</a>ã€‚</p><h1>demo</h1><p>åœ¨çº¿ä½“éªŒ demo å¯åˆ°&nbsp;<a href=\"https://codepen.io/collection/DNmPQV\">codepen.io/collection/DNmPQV</a>&nbsp;ã€‚</p><p>æ³¨æ„ï¼Œå¦‚æœæ‰“ä¸å¼€ï¼Œå¯ä»¥å»æŸ¥çœ‹&nbsp;<a href=\"https://github.com/wangeditor-team/wangEditor/tree/master/examples\">github examples</a>&nbsp;çš„æºç ã€‚</p><h1>æµè§ˆå™¨å…¼å®¹æ€§</h1><ul><li>å…¼å®¹ä¸»æµ PC æµè§ˆå™¨ï¼ŒIE11+</li><li>ä¸æ”¯æŒç§»åŠ¨ç«¯å’Œ ipad</li></ul><h1>é‡åˆ°é—®é¢˜</h1><ul><li>åŠ å…¥ QQ ç¾¤ï¼š164999061(äººå·²æ»¡)ï¼Œ710646022(äººå·²æ»¡)ï¼Œ901247714</li><li><a href=\"https://github.com/wangeditor-team/wangEditor/issues\" target=\"_blank\">æäº¤é—®é¢˜å’Œå»ºè®®</a></li></ul><h1>è´¡çŒ®ä»£ç </h1><p>æ¬¢è¿éå›¢é˜Ÿæˆå‘˜è´¡çŒ®ä»£ç ï¼Œæäº¤ Pull Requestï¼Œè¯·ä¸€å®šå‚è€ƒ<a href=\"https://github.com/wangeditor-team/wangEditor/blob/master/docs/contribution.md\" target=\"_blank\">è´¡çŒ®ä»£ç æµç¨‹</a>ã€‚</p><h1>è°åœ¨ç»´æŠ¤</h1><p>wangEditor ç°æœ‰ä¸€ä¸ªå¼€æºå›¢é˜Ÿåœ¨ç»´æŠ¤ï¼Œå›¢é˜Ÿå¯ä»¥ä¿è¯ç­”ç–‘ã€bug ä¿®å¤å’Œè¿­ä»£æ•ˆç‡ã€‚</p><p><a href=\"https://doc.wangeditor.com/#%E5%BC%80%E5%8F%91%E4%BA%BA%E5%91%98\">æŸ¥çœ‹å¼€å‘å›¢é˜Ÿï¼Œæˆ–æƒ³åŠ å…¥å¼€å‘å›¢é˜Ÿ</a></p><h1>ä¸ºæˆ‘ä»¬ç‚¹èµ</h1><p>å¦‚æœä½ æ„Ÿè§‰æœ‰æ”¶è·ï¼Œæ¬¢è¿ç»™æˆ‘æ‰“èµï¼Œä»¥æ¿€åŠ±æˆ‘ä»¬æ›´å¤šè¾“å‡ºä¼˜è´¨å¼€æºå†…å®¹ã€‚</p><p><img src=\"https://www.wangeditor.com/imgs/ali-pay.jpeg\"/>&nbsp;<img src=\"https://www.wangeditor.com/imgs/wechat-pay.jpeg\"/></p><p><br/></p>","success":true}
2021-04-16 00:19:20.493 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š127 ms -------------
2021-04-16 00:19:20.494 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},"success":true}
2021-04-16 00:19:20.494 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š128 ms -------------
2021-04-16 00:19:56.040 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:19:56.040 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:19:56.040 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2021-04-16 00:19:56.040 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find/1 GET
2021-04-16 00:19:56.041 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.findContent
2021-04-16 00:19:56.041 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.find
2021-04-16 00:19:56.041 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:19:56.041 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:19:56.041 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [1]
2021-04-16 00:19:56.041 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [1]
2021-04-16 00:19:56.045 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":"<blockquote>äº‰åšå›½å†…ä½¿ç”¨ä½“éªŒæœ€å¥½çš„å¼€æº Web å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ï¼</blockquote><h1>ä¸ºä½•é€‰æ‹© wangEditor</h1><ul><li>ç®€æ´ã€è½»é‡çº§ã€<a href=\"https://doc.wangeditor.com/\">æ–‡æ¡£</a>é½å…¨</li><li>ä¸‡æ˜Ÿé¡¹ç›®&nbsp;<a href=\"https://github.com/wangeditor-team/wangEditor/releases\">Github Star 1w+</a></li><li>npm å‘¨ä¸‹è½½é‡ 1w+</li><li>CDN æœˆä¸‹è½½é‡ç™¾ä¸‡+ï¼ˆæ¥è‡ª&nbsp;<a href=\"https://www.jsdelivr.com/package/npm/wangeditor\">jsdelivr</a>ï¼‰</li><li>QQ ç¾¤åŠæ—¶ç­”ç–‘</li><li><a href=\"https://doc.wangeditor.com/#%E5%BC%80%E5%8F%91%E4%BA%BA%E5%91%98\">å¼€æºå›¢é˜Ÿ</a>ç»´æŠ¤ï¼Œéä¸ªäººå•å…µä½œæˆ˜</li></ul><h1>åˆè§</h1><p>npm å®‰è£…&nbsp;<code>npm i wangeditor --save</code>&nbsp;ï¼Œå‡ è¡Œä»£ç å³å¯åˆ›å»ºä¸€ä¸ªç¼–è¾‘å™¨ã€‚</p><pre><code>import E from 'wangeditor'\nconst editor = new E('#div1')\neditor.create()</code></pre><p>æ›´å¤šä½¿ç”¨é…ç½®ï¼Œè¯·é˜…è¯»<a href=\"https://doc.wangeditor.com/\">ä½¿ç”¨æ–‡æ¡£</a>ã€‚</p><h1>demo</h1><p>åœ¨çº¿ä½“éªŒ demo å¯åˆ°&nbsp;<a href=\"https://codepen.io/collection/DNmPQV\">codepen.io/collection/DNmPQV</a>&nbsp;ã€‚</p><p>æ³¨æ„ï¼Œå¦‚æœæ‰“ä¸å¼€ï¼Œå¯ä»¥å»æŸ¥çœ‹&nbsp;<a href=\"https://github.com/wangeditor-team/wangEditor/tree/master/examples\">github examples</a>&nbsp;çš„æºç ã€‚</p><h1>æµè§ˆå™¨å…¼å®¹æ€§</h1><ul><li>å…¼å®¹ä¸»æµ PC æµè§ˆå™¨ï¼ŒIE11+</li><li>ä¸æ”¯æŒç§»åŠ¨ç«¯å’Œ ipad</li></ul><h1>é‡åˆ°é—®é¢˜</h1><ul><li>åŠ å…¥ QQ ç¾¤ï¼š164999061(äººå·²æ»¡)ï¼Œ710646022(äººå·²æ»¡)ï¼Œ901247714</li><li><a href=\"https://github.com/wangeditor-team/wangEditor/issues\" target=\"_blank\">æäº¤é—®é¢˜å’Œå»ºè®®</a></li></ul><h1>è´¡çŒ®ä»£ç </h1><p>æ¬¢è¿éå›¢é˜Ÿæˆå‘˜è´¡çŒ®ä»£ç ï¼Œæäº¤ Pull Requestï¼Œè¯·ä¸€å®šå‚è€ƒ<a href=\"https://github.com/wangeditor-team/wangEditor/blob/master/docs/contribution.md\" target=\"_blank\">è´¡çŒ®ä»£ç æµç¨‹</a>ã€‚</p><h1>è°åœ¨ç»´æŠ¤</h1><p>wangEditor ç°æœ‰ä¸€ä¸ªå¼€æºå›¢é˜Ÿåœ¨ç»´æŠ¤ï¼Œå›¢é˜Ÿå¯ä»¥ä¿è¯ç­”ç–‘ã€bug ä¿®å¤å’Œè¿­ä»£æ•ˆç‡ã€‚</p><p><a href=\"https://doc.wangeditor.com/#%E5%BC%80%E5%8F%91%E4%BA%BA%E5%91%98\">æŸ¥çœ‹å¼€å‘å›¢é˜Ÿï¼Œæˆ–æƒ³åŠ å…¥å¼€å‘å›¢é˜Ÿ</a></p><h1>ä¸ºæˆ‘ä»¬ç‚¹èµ</h1><p>å¦‚æœä½ æ„Ÿè§‰æœ‰æ”¶è·ï¼Œæ¬¢è¿ç»™æˆ‘æ‰“èµï¼Œä»¥æ¿€åŠ±æˆ‘ä»¬æ›´å¤šè¾“å‡ºä¼˜è´¨å¼€æºå†…å®¹ã€‚</p><p><img src=\"https://www.wangeditor.com/imgs/ali-pay.jpeg\"/>&nbsp;<img src=\"https://www.wangeditor.com/imgs/wechat-pay.jpeg\"/></p><p><br/></p>","success":true}
2021-04-16 00:19:56.045 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2021-04-16 00:19:56.063 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},"success":true}
2021-04-16 00:19:56.063 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š23 ms -------------
2021-04-16 00:20:33.954 INFO  io.lettuce.core.protocol.ConnectionWatchdog       :171  [32m                  [0;39m Reconnecting, last destination was r-uf6ljbcdaxobsifyctpd.redis.rds.aliyuncs.com/47.103.172.100:6379
2021-04-16 00:20:34.112 INFO  io.lettuce.core.protocol.ReconnectionHandler      :164  [32m                  [0;39m Reconnected to r-uf6ljbcdaxobsifyctpd.redis.rds.aliyuncs.com:6379
2021-04-16 00:23:16.949 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:23:16.951 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/list GET
2021-04-16 00:23:16.951 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.list
2021-04-16 00:23:16.952 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:23:16.952 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":4}]
2021-04-16 00:23:16.973 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"list":[{"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Vue å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":2,"name":"Vue å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Python å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":3,"name":"Python å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Mysql å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":4,"name":"Mysql å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0}],"total":7},"success":true}
2021-04-16 00:23:16.973 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š24 ms -------------
2021-04-16 00:23:27.426 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:23:27.426 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/user/list GET
2021-04-16 00:23:27.426 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.UserController.list
2021-04-16 00:23:27.427 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:23:27.427 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":1000}]
2021-04-16 00:23:27.435 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"list":[{"id":2,"loginName":"admin","name":"ç®¡ç†å‘˜"},{"id":37798874252972032,"loginName":"guest","name":"ä¸€èˆ¬ç”¨æˆ·"}],"total":2},"success":true}
2021-04-16 00:23:27.435 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š9 ms -------------
2021-04-16 00:23:27.626 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:23:27.626 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/user/list GET
2021-04-16 00:23:27.626 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.UserController.list
2021-04-16 00:23:27.626 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:23:27.626 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":1000}]
2021-04-16 00:23:27.630 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"list":[{"id":2,"loginName":"admin","name":"ç®¡ç†å‘˜"},{"id":37798874252972032,"loginName":"guest","name":"ä¸€èˆ¬ç”¨æˆ·"}],"total":2},"success":true}
2021-04-16 00:23:27.630 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2021-04-16 00:23:28.434 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:23:28.435 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/list GET
2021-04-16 00:23:28.436 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.list
2021-04-16 00:23:28.436 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:23:28.436 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":5}]
2021-04-16 00:23:28.447 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"list":[{"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Vue å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":2,"name":"Vue å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Python å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":3,"name":"Python å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Mysql å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":4,"name":"Mysql å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"c++çœŸçš„å¾ˆå®¹æ˜“ï¼Œä¸ä¼šæœ‰äººä¸ä¼šå§ï¼Ÿ","docCount":0,"id":5,"name":"21 å¤©å­¦ä¼šC++","viewCount":0,"voteCount":0}],"total":7},"success":true}
2021-04-16 00:23:28.447 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š13 ms -------------
2021-04-16 00:23:28.661 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:23:28.662 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/list GET
2021-04-16 00:23:28.662 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.list
2021-04-16 00:23:28.662 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:23:28.662 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":5}]
2021-04-16 00:23:28.666 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"list":[{"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Vue å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":2,"name":"Vue å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Python å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":3,"name":"Python å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Mysql å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":4,"name":"Mysql å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"c++çœŸçš„å¾ˆå®¹æ˜“ï¼Œä¸ä¼šæœ‰äººä¸ä¼šå§ï¼Ÿ","docCount":0,"id":5,"name":"21 å¤©å­¦ä¼šC++","viewCount":0,"voteCount":0}],"total":7},"success":true}
2021-04-16 00:23:28.666 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2021-04-16 00:23:30.477 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:23:30.477 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/list GET
2021-04-16 00:23:30.478 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.list
2021-04-16 00:23:30.479 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:23:30.479 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [{"page":2,"size":5}]
2021-04-16 00:23:30.485 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"list":[{"description":"å¡é‡Œå¤æ‹‰æ–‡ç« é“¾æ¥","docCount":0,"id":36754863593492480,"name":"å¡é‡Œå¤æ‹‰","viewCount":0,"voteCount":0},{"description":" python,2å¤©å°±å¤Ÿäº†","docCount":0,"id":36776384114331648,"name":"2å¤©å­¦ä¼špython","viewCount":0,"voteCount":0}],"total":7},"success":true}
2021-04-16 00:23:30.485 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2021-04-16 00:23:31.790 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:23:31.791 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/list GET
2021-04-16 00:23:31.791 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.list
2021-04-16 00:23:31.791 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:23:31.791 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":5}]
2021-04-16 00:23:31.795 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"list":[{"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Vue å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":2,"name":"Vue å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Python å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":3,"name":"Python å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Mysql å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":4,"name":"Mysql å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"c++çœŸçš„å¾ˆå®¹æ˜“ï¼Œä¸ä¼šæœ‰äººä¸ä¼šå§ï¼Ÿ","docCount":0,"id":5,"name":"21 å¤©å­¦ä¼šC++","viewCount":0,"voteCount":0}],"total":7},"success":true}
2021-04-16 00:23:31.796 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2021-04-16 00:23:33.752 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:23:33.752 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/user/logout/37918735939538944 GET
2021-04-16 00:23:33.753 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.UserController.logout
2021-04-16 00:23:33.753 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:23:33.753 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: ["37918735939538944"]
2021-04-16 00:23:33.793 INFO  blog.controller.UserController                    :155  [32m                  [0;39m ä» redis ä¸­åˆ é™¤ TOKEN
2021-04-16 00:23:33.794 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"success":true}
2021-04-16 00:23:33.794 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š42 ms -------------
2021-04-16 00:23:37.625 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:23:37.626 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/list GET
2021-04-16 00:23:37.626 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.list
2021-04-16 00:23:37.626 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:23:37.626 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":5}]
2021-04-16 00:23:37.633 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"list":[{"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Vue å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":2,"name":"Vue å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Python å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":3,"name":"Python å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Mysql å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":4,"name":"Mysql å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"c++çœŸçš„å¾ˆå®¹æ˜“ï¼Œä¸ä¼šæœ‰äººä¸ä¼šå§ï¼Ÿ","docCount":0,"id":5,"name":"21 å¤©å­¦ä¼šC++","viewCount":0,"voteCount":0}],"total":7},"success":true}
2021-04-16 00:23:37.633 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2021-04-16 00:23:38.791 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:23:38.791 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/user/list GET
2021-04-16 00:23:38.791 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.UserController.list
2021-04-16 00:23:38.792 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:23:38.792 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":1000}]
2021-04-16 00:23:38.797 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"list":[{"id":2,"loginName":"admin","name":"ç®¡ç†å‘˜"},{"id":37798874252972032,"loginName":"guest","name":"ä¸€èˆ¬ç”¨æˆ·"}],"total":2},"success":true}
2021-04-16 00:23:38.797 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2021-04-16 00:23:39.025 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:23:39.025 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/user/list GET
2021-04-16 00:23:39.026 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.UserController.list
2021-04-16 00:23:39.026 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:23:39.026 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":1000}]
2021-04-16 00:23:39.034 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"list":[{"id":2,"loginName":"admin","name":"ç®¡ç†å‘˜"},{"id":37798874252972032,"loginName":"guest","name":"ä¸€èˆ¬ç”¨æˆ·"}],"total":2},"success":true}
2021-04-16 00:23:39.034 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š9 ms -------------
2021-04-16 00:23:49.703 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:23:49.703 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/user/list GET
2021-04-16 00:23:49.704 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.UserController.list
2021-04-16 00:23:49.704 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:23:49.704 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":1000}]
2021-04-16 00:23:49.709 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"list":[{"id":2,"loginName":"admin","name":"ç®¡ç†å‘˜"},{"id":37798874252972032,"loginName":"guest","name":"ä¸€èˆ¬ç”¨æˆ·"}],"total":2},"success":true}
2021-04-16 00:23:49.710 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2021-04-16 00:23:50.137 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:23:50.138 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/user/list GET
2021-04-16 00:23:50.138 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.UserController.list
2021-04-16 00:23:50.138 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:23:50.138 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":1000}]
2021-04-16 00:23:50.141 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"list":[{"id":2,"loginName":"admin","name":"ç®¡ç†å‘˜"},{"id":37798874252972032,"loginName":"guest","name":"ä¸€èˆ¬ç”¨æˆ·"}],"total":2},"success":true}
2021-04-16 00:23:50.141 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2021-04-16 00:23:51.349 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:23:51.350 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/list GET
2021-04-16 00:23:51.350 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.list
2021-04-16 00:23:51.351 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:23:51.351 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":5}]
2021-04-16 00:23:51.358 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"list":[{"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Vue å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":2,"name":"Vue å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Python å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":3,"name":"Python å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Mysql å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":4,"name":"Mysql å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"c++çœŸçš„å¾ˆå®¹æ˜“ï¼Œä¸ä¼šæœ‰äººä¸ä¼šå§ï¼Ÿ","docCount":0,"id":5,"name":"21 å¤©å­¦ä¼šC++","viewCount":0,"voteCount":0}],"total":7},"success":true}
2021-04-16 00:23:51.358 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š9 ms -------------
2021-04-16 00:23:51.608 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:23:51.608 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/list GET
2021-04-16 00:23:51.608 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.list
2021-04-16 00:23:51.609 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:23:51.609 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":5}]
2021-04-16 00:23:51.612 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"list":[{"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Vue å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":2,"name":"Vue å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Python å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":3,"name":"Python å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Mysql å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":4,"name":"Mysql å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"c++çœŸçš„å¾ˆå®¹æ˜“ï¼Œä¸ä¼šæœ‰äººä¸ä¼šå§ï¼Ÿ","docCount":0,"id":5,"name":"21 å¤©å­¦ä¼šC++","viewCount":0,"voteCount":0}],"total":7},"success":true}
2021-04-16 00:23:51.612 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2021-04-16 00:23:53.772 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:23:53.773 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/list GET
2021-04-16 00:23:53.773 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.list
2021-04-16 00:23:53.774 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:23:53.774 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":4}]
2021-04-16 00:23:53.783 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"list":[{"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Vue å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":2,"name":"Vue å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Python å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":3,"name":"Python å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Mysql å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":4,"name":"Mysql å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0}],"total":7},"success":true}
2021-04-16 00:23:53.783 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š11 ms -------------
2021-04-16 00:23:54.009 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:23:54.009 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/list GET
2021-04-16 00:23:54.009 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.list
2021-04-16 00:23:54.009 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:23:54.010 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":4}]
2021-04-16 00:23:54.013 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"list":[{"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Vue å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":2,"name":"Vue å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Python å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":3,"name":"Python å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Mysql å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":4,"name":"Mysql å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0}],"total":7},"success":true}
2021-04-16 00:23:54.014 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2021-04-16 00:28:33.855 INFO  io.lettuce.core.protocol.ConnectionWatchdog       :171  [32m                  [0;39m Reconnecting, last destination was r-uf6ljbcdaxobsifyctpd.redis.rds.aliyuncs.com/47.103.172.100:6379
2021-04-16 00:28:34.140 INFO  io.lettuce.core.protocol.ReconnectionHandler      :164  [32m                  [0;39m Reconnected to r-uf6ljbcdaxobsifyctpd.redis.rds.aliyuncs.com:6379
2021-04-16 00:33:34.283 INFO  io.lettuce.core.protocol.ConnectionWatchdog       :171  [32m                  [0;39m Reconnecting, last destination was r-uf6ljbcdaxobsifyctpd.redis.rds.aliyuncs.com/47.103.172.100:6379
2021-04-16 00:33:34.357 INFO  io.lettuce.core.protocol.ReconnectionHandler      :164  [32m                  [0;39m Reconnected to r-uf6ljbcdaxobsifyctpd.redis.rds.aliyuncs.com:6379
2021-04-16 00:35:21.201 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:35:21.204 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/list GET
2021-04-16 00:35:21.204 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.list
2021-04-16 00:35:21.204 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:35:21.205 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":4}]
2021-04-16 00:35:21.222 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"list":[{"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Vue å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":2,"name":"Vue å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Python å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":3,"name":"Python å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Mysql å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":4,"name":"Mysql å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0}],"total":7},"success":true}
2021-04-16 00:35:21.222 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š21 ms -------------
2021-04-16 00:35:21.709 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:35:21.709 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/list GET
2021-04-16 00:35:21.710 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.list
2021-04-16 00:35:21.710 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:35:21.710 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":4}]
2021-04-16 00:35:21.714 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"list":[{"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Vue å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":2,"name":"Vue å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Python å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":3,"name":"Python å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Mysql å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":4,"name":"Mysql å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0}],"total":7},"success":true}
2021-04-16 00:35:21.714 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2021-04-16 00:35:24.813 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:35:24.814 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/list GET
2021-04-16 00:35:24.814 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.list
2021-04-16 00:35:24.814 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:35:24.814 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [{"page":2,"size":4}]
2021-04-16 00:35:24.819 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"list":[{"description":"c++çœŸçš„å¾ˆå®¹æ˜“ï¼Œä¸ä¼šæœ‰äººä¸ä¼šå§ï¼Ÿ","docCount":0,"id":5,"name":"21 å¤©å­¦ä¼šC++","viewCount":0,"voteCount":0},{"description":"å¡é‡Œå¤æ‹‰æ–‡ç« é“¾æ¥","docCount":0,"id":36754863593492480,"name":"å¡é‡Œå¤æ‹‰","viewCount":0,"voteCount":0},{"description":" python,2å¤©å°±å¤Ÿäº†","docCount":0,"id":36776384114331648,"name":"2å¤©å­¦ä¼špython","viewCount":0,"voteCount":0}],"total":7},"success":true}
2021-04-16 00:35:24.819 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2021-04-16 00:35:26.088 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:35:26.088 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:35:26.089 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find/36754863593492480 GET
2021-04-16 00:35:26.089 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/36754863593492480 GET
2021-04-16 00:35:26.089 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.find
2021-04-16 00:35:26.089 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.findContent
2021-04-16 00:35:26.089 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:35:26.089 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:35:26.089 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [36754863593492480]
2021-04-16 00:35:26.089 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [36754863593492480]
2021-04-16 00:35:26.092 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"description":"å¡é‡Œå¤æ‹‰æ–‡ç« é“¾æ¥","docCount":0,"id":36754863593492480,"name":"å¡é‡Œå¤æ‹‰","viewCount":0,"voteCount":0},"success":true}
2021-04-16 00:35:26.092 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":"# Java æ¥å£\n\nè¿™é‡Œä¸è®²ä¸ºä»€ä¹ˆéœ€è¦ä½¿ç”¨æ¥å£ï¼Œå› ä¸ºå¤§éƒ¨åˆ†äººå¼€å‘é‚£ä¹ˆä¹…ï¼Œåº”è¯¥éƒ½äº†è§£ä½¿ç”¨æ¥å£çš„åŸå› å’Œå¥½å¤„äº†å§\n\n\n\n## **1. æ¥å£ä¸­çš„æ–¹æ³•ä¸ç”¨å£°æ˜ä¸º`public`**\n\nè™½ç„¶å†™ä¸Šä¸ä¼šæŠ¥é”™ï¼Œä½†æ˜¯å®Œå…¨æ²¡æœ‰å¿…è¦ï¼Œå› ä¸ºæ¥å£å®ç°çš„æ—¶å€™ï¼Œåªèƒ½æ˜¯`public`\n\næ›´åˆ«æå°†æ¥å£æ–¹æ³•å£°æ˜ä¸º`private`ï¼Œ`protected`äº†ï¼Œç›´æ¥æŠ¥é”™\n\n![image-20210317235222474](https://gitee.com/faro/images/raw/master/img/20210317235222.png)\n\n\n\n## **2. å› ä¸ºæ¥å£å®ç°çš„æ—¶å€™ï¼Œåªèƒ½æ˜¯`public`**\n\né™¤äº†`public`ï¼Œå…¶ä»–ç±»å‹å‡†æŠ¥é”™\n\nä½•å†µä½ å†æƒ³æƒ³ï¼Œå¦‚æœè¦å°†æ¥å£æ–¹æ³•ç”³æ˜ä¸º`private`ï¼Œé‚£å†™è¿™ä¸ªæ¥å£ï¼Œè¿˜æœ‰ä»€ä¹ˆæ„ä¹‰ï¼Ÿ\n\næ¥å£çš„ç›®çš„ï¼Œæœ¬æ¥å°±æ˜¯ä¸ºäº†æ¾è€¦åˆï¼Œå†™æˆ`private`åˆ°å¥½ï¼Œè®©æ–¹æ³•åªèƒ½åœ¨ç±»å†…éƒ¨ä½¿ç”¨äº†ï¼Œé‚£è¿˜æ¾è€¦åˆæ¾ä¸ªé¬¼å•Šã€‚\n\n![image-20210317235447384](https://gitee.com/faro/images/raw/master/img/20210317235447.png)\n\n\n\n## **3. å®ç°å¤šä¸ªæ¥å£çš„é‡åé—®é¢˜**\n\n### 3.1 ä¸¤ä¸ªæ–¹æ³•ä¸€æ¨¡ä¸€æ ·\n\nè¿™é‡Œå®šä¹‰ä¸¤ä¸ªæ¥å£ï¼Œå…¶è‡ªå¸¦çš„æ–¹æ³•ï¼Œ**ä¸€æ¨¡ä¸€æ ·**ï¼ˆä¸€æ¨¡ä¸€æ ·ï¼Œå³æŒ‡`å‡½æ•°å`ï¼Œ`è¿”å›å€¼`ï¼Œ`å‚æ•°ç±»å‹`ï¼Œ`å‚æ•°ä¸ªæ•°`å’Œ`ä¸åŒç±»å‹å‚æ•°çš„æ’åˆ—é¡ºåº`éƒ½ä¸€æ¨¡ä¸€æ ·ï¼Œè¿™äº›æ¡ä»¶ï¼Œ<font color=\"red\">é™¤äº†è¿”å›å€¼</font>å’Œå‡½æ•°åï¼Œå…¶ä½™ä¸‰æ ·ï¼Œæ¯ä¸€æ ·éƒ½æ˜¯ä¿è¯å‡½æ•°èƒ½å¤Ÿé‡è½½çš„æ¡ä»¶ï¼‰\n\n![image-20210318000412331](https://gitee.com/faro/images/raw/master/img/20210318000412.png)\n\n![image-20210318000424942](https://gitee.com/faro/images/raw/master/img/20210318000424.png)\n\né‚£æœ€åå¤šæ¥å£å®ç°çš„æ—¶å€™ï¼Œå…¶å®å°±ç›¸å½“äºåªå®ç°ä¸€ä¸ªæ–¹æ³•ï¼Œæ²¡æœ‰ä»€ä¹ˆå½±å“ï¼Œä¸”éƒ½å¯ä»¥å®ç°å¤šæ€ï¼š\n\n![image-20210318000627167](https://gitee.com/faro/images/raw/master/img/20210318000627.png)\n\n\n\n### 3.2 åªæœ‰è¿”å›ç±»å‹ä¸ä¸€æ ·\n\nä½†æ˜¯ï¼Œå¦‚æœä¸¤ä¸ªæ¥å£å‡½æ•°åå’Œå‚æ•°ä¸ªæ•°éƒ½ä¸€æ ·ï¼Œ**åªæœ‰è¿”å›å€¼ä¸ä¸€æ ·**ï¼Œæ¢å¥è¯è¯´ï¼Œå°±æ˜¯<font color=\"blue\">ä¸æ»¡è¶³åŒºåˆ†å‡½æ•°é‡è½½çš„æ¡ä»¶</font>ï¼Œé‚£ç¼–è¯‘å™¨å°±ä¼šæŠ¥é”™ï¼š\n\n![image-20210318000846017](https://gitee.com/faro/images/raw/master/img/20210318000846.png)\n\n![image-20210318000859682](https://gitee.com/faro/images/raw/master/img/20210318000859.png)\n\næ­¤æ—¶ï¼Œå› ä¸ºä¸€ä¸ªè¿”å›`int`ï¼Œä¸€ä¸ªä¸è¿”å›ï¼Œé‚£æ¥å£å®ç°å†™`int`ä¹Ÿä¸æ˜¯ï¼Œå†™`void`ä¹Ÿä¸æ˜¯ï¼Œ\n\n![image-20210318000931012](https://gitee.com/faro/images/raw/master/img/20210318000931.png)\n\nåˆå› ä¸ºï¼Œ<font color=\"blue\">æ–¹æ³•è¿”å›çš„ç±»å‹ä¸èƒ½ä½œä¸ºé‡è½½çš„æ ‡å¿—</font>ï¼Œæ‰€ä»¥ï¼Œä¸‹é¢è¿™ç§å†™æ³•ä¹Ÿæ— æµäºäº‹...\n\n![image-20210318001053987](https://gitee.com/faro/images/raw/master/img/20210318001054.png)\n\n\n\n### 3.3 åªæœ‰æ»¡è¶³å‡½æ•°é‡è½½çš„æ¡ä»¶ï¼Œæ¥å£æ‰å¯é‡å\n\nåœ¨  3.1  ä¹Ÿæåˆ°è¿‡ï¼Œ`å‚æ•°ç±»å‹ï¼Œå‚æ•°ä¸ªæ•°ã€ä¸åŒç±»å‹å‚æ•°çš„æ’åˆ—é¡ºåº`è¿™ä¸‰æ ·ï¼Œæ¯æ ·éƒ½å¯ä»¥æˆä¸ºé‡è½½çš„æ¡ä»¶ï¼Œåªè¦æ»¡è¶³ä»»ä½•ä¸€æ ·ï¼Œå°±èƒ½å®ç°åŒå‡½æ•°åæ¥å£çš„å¤šç»§æ‰¿åŠå®ç°ã€‚\n\n","success":true}
2021-04-16 00:35:26.092 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2021-04-16 00:35:26.092 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2021-04-16 00:36:30.966 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:36:30.966 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:36:30.967 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find/36754863593492480 GET
2021-04-16 00:36:30.967 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/36754863593492480 GET
2021-04-16 00:36:30.967 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.find
2021-04-16 00:36:30.967 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.findContent
2021-04-16 00:36:30.968 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:36:30.968 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:36:30.968 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [36754863593492480]
2021-04-16 00:36:30.968 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [36754863593492480]
2021-04-16 00:36:30.973 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"description":"å¡é‡Œå¤æ‹‰æ–‡ç« é“¾æ¥","docCount":0,"id":36754863593492480,"name":"å¡é‡Œå¤æ‹‰","viewCount":0,"voteCount":0},"success":true}
2021-04-16 00:36:30.973 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":"# Java æ¥å£\n\nè¿™é‡Œä¸è®²ä¸ºä»€ä¹ˆéœ€è¦ä½¿ç”¨æ¥å£ï¼Œå› ä¸ºå¤§éƒ¨åˆ†äººå¼€å‘é‚£ä¹ˆä¹…ï¼Œåº”è¯¥éƒ½äº†è§£ä½¿ç”¨æ¥å£çš„åŸå› å’Œå¥½å¤„äº†å§\n\n\n\n## **1. æ¥å£ä¸­çš„æ–¹æ³•ä¸ç”¨å£°æ˜ä¸º`public`**\n\nè™½ç„¶å†™ä¸Šä¸ä¼šæŠ¥é”™ï¼Œä½†æ˜¯å®Œå…¨æ²¡æœ‰å¿…è¦ï¼Œå› ä¸ºæ¥å£å®ç°çš„æ—¶å€™ï¼Œåªèƒ½æ˜¯`public`\n\næ›´åˆ«æå°†æ¥å£æ–¹æ³•å£°æ˜ä¸º`private`ï¼Œ`protected`äº†ï¼Œç›´æ¥æŠ¥é”™\n\n![image-20210317235222474](https://gitee.com/faro/images/raw/master/img/20210317235222.png)\n\n\n\n## **2. å› ä¸ºæ¥å£å®ç°çš„æ—¶å€™ï¼Œåªèƒ½æ˜¯`public`**\n\né™¤äº†`public`ï¼Œå…¶ä»–ç±»å‹å‡†æŠ¥é”™\n\nä½•å†µä½ å†æƒ³æƒ³ï¼Œå¦‚æœè¦å°†æ¥å£æ–¹æ³•ç”³æ˜ä¸º`private`ï¼Œé‚£å†™è¿™ä¸ªæ¥å£ï¼Œè¿˜æœ‰ä»€ä¹ˆæ„ä¹‰ï¼Ÿ\n\næ¥å£çš„ç›®çš„ï¼Œæœ¬æ¥å°±æ˜¯ä¸ºäº†æ¾è€¦åˆï¼Œå†™æˆ`private`åˆ°å¥½ï¼Œè®©æ–¹æ³•åªèƒ½åœ¨ç±»å†…éƒ¨ä½¿ç”¨äº†ï¼Œé‚£è¿˜æ¾è€¦åˆæ¾ä¸ªé¬¼å•Šã€‚\n\n![image-20210317235447384](https://gitee.com/faro/images/raw/master/img/20210317235447.png)\n\n\n\n## **3. å®ç°å¤šä¸ªæ¥å£çš„é‡åé—®é¢˜**\n\n### 3.1 ä¸¤ä¸ªæ–¹æ³•ä¸€æ¨¡ä¸€æ ·\n\nè¿™é‡Œå®šä¹‰ä¸¤ä¸ªæ¥å£ï¼Œå…¶è‡ªå¸¦çš„æ–¹æ³•ï¼Œ**ä¸€æ¨¡ä¸€æ ·**ï¼ˆä¸€æ¨¡ä¸€æ ·ï¼Œå³æŒ‡`å‡½æ•°å`ï¼Œ`è¿”å›å€¼`ï¼Œ`å‚æ•°ç±»å‹`ï¼Œ`å‚æ•°ä¸ªæ•°`å’Œ`ä¸åŒç±»å‹å‚æ•°çš„æ’åˆ—é¡ºåº`éƒ½ä¸€æ¨¡ä¸€æ ·ï¼Œè¿™äº›æ¡ä»¶ï¼Œ<font color=\"red\">é™¤äº†è¿”å›å€¼</font>å’Œå‡½æ•°åï¼Œå…¶ä½™ä¸‰æ ·ï¼Œæ¯ä¸€æ ·éƒ½æ˜¯ä¿è¯å‡½æ•°èƒ½å¤Ÿé‡è½½çš„æ¡ä»¶ï¼‰\n\n![image-20210318000412331](https://gitee.com/faro/images/raw/master/img/20210318000412.png)\n\n![image-20210318000424942](https://gitee.com/faro/images/raw/master/img/20210318000424.png)\n\né‚£æœ€åå¤šæ¥å£å®ç°çš„æ—¶å€™ï¼Œå…¶å®å°±ç›¸å½“äºåªå®ç°ä¸€ä¸ªæ–¹æ³•ï¼Œæ²¡æœ‰ä»€ä¹ˆå½±å“ï¼Œä¸”éƒ½å¯ä»¥å®ç°å¤šæ€ï¼š\n\n![image-20210318000627167](https://gitee.com/faro/images/raw/master/img/20210318000627.png)\n\n\n\n### 3.2 åªæœ‰è¿”å›ç±»å‹ä¸ä¸€æ ·\n\nä½†æ˜¯ï¼Œå¦‚æœä¸¤ä¸ªæ¥å£å‡½æ•°åå’Œå‚æ•°ä¸ªæ•°éƒ½ä¸€æ ·ï¼Œ**åªæœ‰è¿”å›å€¼ä¸ä¸€æ ·**ï¼Œæ¢å¥è¯è¯´ï¼Œå°±æ˜¯<font color=\"blue\">ä¸æ»¡è¶³åŒºåˆ†å‡½æ•°é‡è½½çš„æ¡ä»¶</font>ï¼Œé‚£ç¼–è¯‘å™¨å°±ä¼šæŠ¥é”™ï¼š\n\n![image-20210318000846017](https://gitee.com/faro/images/raw/master/img/20210318000846.png)\n\n![image-20210318000859682](https://gitee.com/faro/images/raw/master/img/20210318000859.png)\n\næ­¤æ—¶ï¼Œå› ä¸ºä¸€ä¸ªè¿”å›`int`ï¼Œä¸€ä¸ªä¸è¿”å›ï¼Œé‚£æ¥å£å®ç°å†™`int`ä¹Ÿä¸æ˜¯ï¼Œå†™`void`ä¹Ÿä¸æ˜¯ï¼Œ\n\n![image-20210318000931012](https://gitee.com/faro/images/raw/master/img/20210318000931.png)\n\nåˆå› ä¸ºï¼Œ<font color=\"blue\">æ–¹æ³•è¿”å›çš„ç±»å‹ä¸èƒ½ä½œä¸ºé‡è½½çš„æ ‡å¿—</font>ï¼Œæ‰€ä»¥ï¼Œä¸‹é¢è¿™ç§å†™æ³•ä¹Ÿæ— æµäºäº‹...\n\n![image-20210318001053987](https://gitee.com/faro/images/raw/master/img/20210318001054.png)\n\n\n\n### 3.3 åªæœ‰æ»¡è¶³å‡½æ•°é‡è½½çš„æ¡ä»¶ï¼Œæ¥å£æ‰å¯é‡å\n\nåœ¨  3.1  ä¹Ÿæåˆ°è¿‡ï¼Œ`å‚æ•°ç±»å‹ï¼Œå‚æ•°ä¸ªæ•°ã€ä¸åŒç±»å‹å‚æ•°çš„æ’åˆ—é¡ºåº`è¿™ä¸‰æ ·ï¼Œæ¯æ ·éƒ½å¯ä»¥æˆä¸ºé‡è½½çš„æ¡ä»¶ï¼Œåªè¦æ»¡è¶³ä»»ä½•ä¸€æ ·ï¼Œå°±èƒ½å®ç°åŒå‡½æ•°åæ¥å£çš„å¤šç»§æ‰¿åŠå®ç°ã€‚\n\n","success":true}
2021-04-16 00:36:30.973 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2021-04-16 00:36:30.973 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2021-04-16 00:36:36.353 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:36:36.353 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:36:36.354 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find/36754863593492480 GET
2021-04-16 00:36:36.354 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/36754863593492480 GET
2021-04-16 00:36:36.354 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.find
2021-04-16 00:36:36.354 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.findContent
2021-04-16 00:36:36.354 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:36:36.354 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:36:36.355 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [36754863593492480]
2021-04-16 00:36:36.355 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [36754863593492480]
2021-04-16 00:36:36.357 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"description":"å¡é‡Œå¤æ‹‰æ–‡ç« é“¾æ¥","docCount":0,"id":36754863593492480,"name":"å¡é‡Œå¤æ‹‰","viewCount":0,"voteCount":0},"success":true}
2021-04-16 00:36:36.357 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":"# Java æ¥å£\n\nè¿™é‡Œä¸è®²ä¸ºä»€ä¹ˆéœ€è¦ä½¿ç”¨æ¥å£ï¼Œå› ä¸ºå¤§éƒ¨åˆ†äººå¼€å‘é‚£ä¹ˆä¹…ï¼Œåº”è¯¥éƒ½äº†è§£ä½¿ç”¨æ¥å£çš„åŸå› å’Œå¥½å¤„äº†å§\n\n\n\n## **1. æ¥å£ä¸­çš„æ–¹æ³•ä¸ç”¨å£°æ˜ä¸º`public`**\n\nè™½ç„¶å†™ä¸Šä¸ä¼šæŠ¥é”™ï¼Œä½†æ˜¯å®Œå…¨æ²¡æœ‰å¿…è¦ï¼Œå› ä¸ºæ¥å£å®ç°çš„æ—¶å€™ï¼Œåªèƒ½æ˜¯`public`\n\næ›´åˆ«æå°†æ¥å£æ–¹æ³•å£°æ˜ä¸º`private`ï¼Œ`protected`äº†ï¼Œç›´æ¥æŠ¥é”™\n\n![image-20210317235222474](https://gitee.com/faro/images/raw/master/img/20210317235222.png)\n\n\n\n## **2. å› ä¸ºæ¥å£å®ç°çš„æ—¶å€™ï¼Œåªèƒ½æ˜¯`public`**\n\né™¤äº†`public`ï¼Œå…¶ä»–ç±»å‹å‡†æŠ¥é”™\n\nä½•å†µä½ å†æƒ³æƒ³ï¼Œå¦‚æœè¦å°†æ¥å£æ–¹æ³•ç”³æ˜ä¸º`private`ï¼Œé‚£å†™è¿™ä¸ªæ¥å£ï¼Œè¿˜æœ‰ä»€ä¹ˆæ„ä¹‰ï¼Ÿ\n\næ¥å£çš„ç›®çš„ï¼Œæœ¬æ¥å°±æ˜¯ä¸ºäº†æ¾è€¦åˆï¼Œå†™æˆ`private`åˆ°å¥½ï¼Œè®©æ–¹æ³•åªèƒ½åœ¨ç±»å†…éƒ¨ä½¿ç”¨äº†ï¼Œé‚£è¿˜æ¾è€¦åˆæ¾ä¸ªé¬¼å•Šã€‚\n\n![image-20210317235447384](https://gitee.com/faro/images/raw/master/img/20210317235447.png)\n\n\n\n## **3. å®ç°å¤šä¸ªæ¥å£çš„é‡åé—®é¢˜**\n\n### 3.1 ä¸¤ä¸ªæ–¹æ³•ä¸€æ¨¡ä¸€æ ·\n\nè¿™é‡Œå®šä¹‰ä¸¤ä¸ªæ¥å£ï¼Œå…¶è‡ªå¸¦çš„æ–¹æ³•ï¼Œ**ä¸€æ¨¡ä¸€æ ·**ï¼ˆä¸€æ¨¡ä¸€æ ·ï¼Œå³æŒ‡`å‡½æ•°å`ï¼Œ`è¿”å›å€¼`ï¼Œ`å‚æ•°ç±»å‹`ï¼Œ`å‚æ•°ä¸ªæ•°`å’Œ`ä¸åŒç±»å‹å‚æ•°çš„æ’åˆ—é¡ºåº`éƒ½ä¸€æ¨¡ä¸€æ ·ï¼Œè¿™äº›æ¡ä»¶ï¼Œ<font color=\"red\">é™¤äº†è¿”å›å€¼</font>å’Œå‡½æ•°åï¼Œå…¶ä½™ä¸‰æ ·ï¼Œæ¯ä¸€æ ·éƒ½æ˜¯ä¿è¯å‡½æ•°èƒ½å¤Ÿé‡è½½çš„æ¡ä»¶ï¼‰\n\n![image-20210318000412331](https://gitee.com/faro/images/raw/master/img/20210318000412.png)\n\n![image-20210318000424942](https://gitee.com/faro/images/raw/master/img/20210318000424.png)\n\né‚£æœ€åå¤šæ¥å£å®ç°çš„æ—¶å€™ï¼Œå…¶å®å°±ç›¸å½“äºåªå®ç°ä¸€ä¸ªæ–¹æ³•ï¼Œæ²¡æœ‰ä»€ä¹ˆå½±å“ï¼Œä¸”éƒ½å¯ä»¥å®ç°å¤šæ€ï¼š\n\n![image-20210318000627167](https://gitee.com/faro/images/raw/master/img/20210318000627.png)\n\n\n\n### 3.2 åªæœ‰è¿”å›ç±»å‹ä¸ä¸€æ ·\n\nä½†æ˜¯ï¼Œå¦‚æœä¸¤ä¸ªæ¥å£å‡½æ•°åå’Œå‚æ•°ä¸ªæ•°éƒ½ä¸€æ ·ï¼Œ**åªæœ‰è¿”å›å€¼ä¸ä¸€æ ·**ï¼Œæ¢å¥è¯è¯´ï¼Œå°±æ˜¯<font color=\"blue\">ä¸æ»¡è¶³åŒºåˆ†å‡½æ•°é‡è½½çš„æ¡ä»¶</font>ï¼Œé‚£ç¼–è¯‘å™¨å°±ä¼šæŠ¥é”™ï¼š\n\n![image-20210318000846017](https://gitee.com/faro/images/raw/master/img/20210318000846.png)\n\n![image-20210318000859682](https://gitee.com/faro/images/raw/master/img/20210318000859.png)\n\næ­¤æ—¶ï¼Œå› ä¸ºä¸€ä¸ªè¿”å›`int`ï¼Œä¸€ä¸ªä¸è¿”å›ï¼Œé‚£æ¥å£å®ç°å†™`int`ä¹Ÿä¸æ˜¯ï¼Œå†™`void`ä¹Ÿä¸æ˜¯ï¼Œ\n\n![image-20210318000931012](https://gitee.com/faro/images/raw/master/img/20210318000931.png)\n\nåˆå› ä¸ºï¼Œ<font color=\"blue\">æ–¹æ³•è¿”å›çš„ç±»å‹ä¸èƒ½ä½œä¸ºé‡è½½çš„æ ‡å¿—</font>ï¼Œæ‰€ä»¥ï¼Œä¸‹é¢è¿™ç§å†™æ³•ä¹Ÿæ— æµäºäº‹...\n\n![image-20210318001053987](https://gitee.com/faro/images/raw/master/img/20210318001054.png)\n\n\n\n### 3.3 åªæœ‰æ»¡è¶³å‡½æ•°é‡è½½çš„æ¡ä»¶ï¼Œæ¥å£æ‰å¯é‡å\n\nåœ¨  3.1  ä¹Ÿæåˆ°è¿‡ï¼Œ`å‚æ•°ç±»å‹ï¼Œå‚æ•°ä¸ªæ•°ã€ä¸åŒç±»å‹å‚æ•°çš„æ’åˆ—é¡ºåº`è¿™ä¸‰æ ·ï¼Œæ¯æ ·éƒ½å¯ä»¥æˆä¸ºé‡è½½çš„æ¡ä»¶ï¼Œåªè¦æ»¡è¶³ä»»ä½•ä¸€æ ·ï¼Œå°±èƒ½å®ç°åŒå‡½æ•°åæ¥å£çš„å¤šç»§æ‰¿åŠå®ç°ã€‚\n\n","success":true}
2021-04-16 00:36:36.358 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2021-04-16 00:36:36.358 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2021-04-16 00:37:01.025 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:37:01.025 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:37:01.025 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/36754863593492480 GET
2021-04-16 00:37:01.025 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find/36754863593492480 GET
2021-04-16 00:37:01.025 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.findContent
2021-04-16 00:37:01.026 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:37:01.026 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.find
2021-04-16 00:37:01.026 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:37:01.026 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [36754863593492480]
2021-04-16 00:37:01.026 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [36754863593492480]
2021-04-16 00:37:01.028 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"description":"å¡é‡Œå¤æ‹‰æ–‡ç« é“¾æ¥","docCount":0,"id":36754863593492480,"name":"å¡é‡Œå¤æ‹‰","viewCount":0,"voteCount":0},"success":true}
2021-04-16 00:37:01.029 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2021-04-16 00:37:01.029 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":"# Java æ¥å£\n\nè¿™é‡Œä¸è®²ä¸ºä»€ä¹ˆéœ€è¦ä½¿ç”¨æ¥å£ï¼Œå› ä¸ºå¤§éƒ¨åˆ†äººå¼€å‘é‚£ä¹ˆä¹…ï¼Œåº”è¯¥éƒ½äº†è§£ä½¿ç”¨æ¥å£çš„åŸå› å’Œå¥½å¤„äº†å§\n\n\n\n## **1. æ¥å£ä¸­çš„æ–¹æ³•ä¸ç”¨å£°æ˜ä¸º`public`**\n\nè™½ç„¶å†™ä¸Šä¸ä¼šæŠ¥é”™ï¼Œä½†æ˜¯å®Œå…¨æ²¡æœ‰å¿…è¦ï¼Œå› ä¸ºæ¥å£å®ç°çš„æ—¶å€™ï¼Œåªèƒ½æ˜¯`public`\n\næ›´åˆ«æå°†æ¥å£æ–¹æ³•å£°æ˜ä¸º`private`ï¼Œ`protected`äº†ï¼Œç›´æ¥æŠ¥é”™\n\n![image-20210317235222474](https://gitee.com/faro/images/raw/master/img/20210317235222.png)\n\n\n\n## **2. å› ä¸ºæ¥å£å®ç°çš„æ—¶å€™ï¼Œåªèƒ½æ˜¯`public`**\n\né™¤äº†`public`ï¼Œå…¶ä»–ç±»å‹å‡†æŠ¥é”™\n\nä½•å†µä½ å†æƒ³æƒ³ï¼Œå¦‚æœè¦å°†æ¥å£æ–¹æ³•ç”³æ˜ä¸º`private`ï¼Œé‚£å†™è¿™ä¸ªæ¥å£ï¼Œè¿˜æœ‰ä»€ä¹ˆæ„ä¹‰ï¼Ÿ\n\næ¥å£çš„ç›®çš„ï¼Œæœ¬æ¥å°±æ˜¯ä¸ºäº†æ¾è€¦åˆï¼Œå†™æˆ`private`åˆ°å¥½ï¼Œè®©æ–¹æ³•åªèƒ½åœ¨ç±»å†…éƒ¨ä½¿ç”¨äº†ï¼Œé‚£è¿˜æ¾è€¦åˆæ¾ä¸ªé¬¼å•Šã€‚\n\n![image-20210317235447384](https://gitee.com/faro/images/raw/master/img/20210317235447.png)\n\n\n\n## **3. å®ç°å¤šä¸ªæ¥å£çš„é‡åé—®é¢˜**\n\n### 3.1 ä¸¤ä¸ªæ–¹æ³•ä¸€æ¨¡ä¸€æ ·\n\nè¿™é‡Œå®šä¹‰ä¸¤ä¸ªæ¥å£ï¼Œå…¶è‡ªå¸¦çš„æ–¹æ³•ï¼Œ**ä¸€æ¨¡ä¸€æ ·**ï¼ˆä¸€æ¨¡ä¸€æ ·ï¼Œå³æŒ‡`å‡½æ•°å`ï¼Œ`è¿”å›å€¼`ï¼Œ`å‚æ•°ç±»å‹`ï¼Œ`å‚æ•°ä¸ªæ•°`å’Œ`ä¸åŒç±»å‹å‚æ•°çš„æ’åˆ—é¡ºåº`éƒ½ä¸€æ¨¡ä¸€æ ·ï¼Œè¿™äº›æ¡ä»¶ï¼Œ<font color=\"red\">é™¤äº†è¿”å›å€¼</font>å’Œå‡½æ•°åï¼Œå…¶ä½™ä¸‰æ ·ï¼Œæ¯ä¸€æ ·éƒ½æ˜¯ä¿è¯å‡½æ•°èƒ½å¤Ÿé‡è½½çš„æ¡ä»¶ï¼‰\n\n![image-20210318000412331](https://gitee.com/faro/images/raw/master/img/20210318000412.png)\n\n![image-20210318000424942](https://gitee.com/faro/images/raw/master/img/20210318000424.png)\n\né‚£æœ€åå¤šæ¥å£å®ç°çš„æ—¶å€™ï¼Œå…¶å®å°±ç›¸å½“äºåªå®ç°ä¸€ä¸ªæ–¹æ³•ï¼Œæ²¡æœ‰ä»€ä¹ˆå½±å“ï¼Œä¸”éƒ½å¯ä»¥å®ç°å¤šæ€ï¼š\n\n![image-20210318000627167](https://gitee.com/faro/images/raw/master/img/20210318000627.png)\n\n\n\n### 3.2 åªæœ‰è¿”å›ç±»å‹ä¸ä¸€æ ·\n\nä½†æ˜¯ï¼Œå¦‚æœä¸¤ä¸ªæ¥å£å‡½æ•°åå’Œå‚æ•°ä¸ªæ•°éƒ½ä¸€æ ·ï¼Œ**åªæœ‰è¿”å›å€¼ä¸ä¸€æ ·**ï¼Œæ¢å¥è¯è¯´ï¼Œå°±æ˜¯<font color=\"blue\">ä¸æ»¡è¶³åŒºåˆ†å‡½æ•°é‡è½½çš„æ¡ä»¶</font>ï¼Œé‚£ç¼–è¯‘å™¨å°±ä¼šæŠ¥é”™ï¼š\n\n![image-20210318000846017](https://gitee.com/faro/images/raw/master/img/20210318000846.png)\n\n![image-20210318000859682](https://gitee.com/faro/images/raw/master/img/20210318000859.png)\n\næ­¤æ—¶ï¼Œå› ä¸ºä¸€ä¸ªè¿”å›`int`ï¼Œä¸€ä¸ªä¸è¿”å›ï¼Œé‚£æ¥å£å®ç°å†™`int`ä¹Ÿä¸æ˜¯ï¼Œå†™`void`ä¹Ÿä¸æ˜¯ï¼Œ\n\n![image-20210318000931012](https://gitee.com/faro/images/raw/master/img/20210318000931.png)\n\nåˆå› ä¸ºï¼Œ<font color=\"blue\">æ–¹æ³•è¿”å›çš„ç±»å‹ä¸èƒ½ä½œä¸ºé‡è½½çš„æ ‡å¿—</font>ï¼Œæ‰€ä»¥ï¼Œä¸‹é¢è¿™ç§å†™æ³•ä¹Ÿæ— æµäºäº‹...\n\n![image-20210318001053987](https://gitee.com/faro/images/raw/master/img/20210318001054.png)\n\n\n\n### 3.3 åªæœ‰æ»¡è¶³å‡½æ•°é‡è½½çš„æ¡ä»¶ï¼Œæ¥å£æ‰å¯é‡å\n\nåœ¨  3.1  ä¹Ÿæåˆ°è¿‡ï¼Œ`å‚æ•°ç±»å‹ï¼Œå‚æ•°ä¸ªæ•°ã€ä¸åŒç±»å‹å‚æ•°çš„æ’åˆ—é¡ºåº`è¿™ä¸‰æ ·ï¼Œæ¯æ ·éƒ½å¯ä»¥æˆä¸ºé‡è½½çš„æ¡ä»¶ï¼Œåªè¦æ»¡è¶³ä»»ä½•ä¸€æ ·ï¼Œå°±èƒ½å®ç°åŒå‡½æ•°åæ¥å£çš„å¤šç»§æ‰¿åŠå®ç°ã€‚\n\n","success":true}
2021-04-16 00:37:01.029 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2021-04-16 00:38:34.331 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:38:34.331 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/list GET
2021-04-16 00:38:34.332 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.list
2021-04-16 00:38:34.332 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:38:34.332 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":4}]
2021-04-16 00:38:34.339 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"list":[{"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Vue å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":2,"name":"Vue å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Python å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":3,"name":"Python å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Mysql å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":4,"name":"Mysql å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0}],"total":7},"success":true}
2021-04-16 00:38:34.339 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2021-04-16 00:38:34.384 INFO  io.lettuce.core.protocol.ConnectionWatchdog       :171  [32m                  [0;39m Reconnecting, last destination was r-uf6ljbcdaxobsifyctpd.redis.rds.aliyuncs.com/47.103.172.100:6379
2021-04-16 00:38:34.639 INFO  io.lettuce.core.protocol.ReconnectionHandler      :164  [32m                  [0;39m Reconnected to r-uf6ljbcdaxobsifyctpd.redis.rds.aliyuncs.com:6379
2021-04-16 00:38:36.771 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:38:36.772 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:38:36.772 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2021-04-16 00:38:36.772 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find/1 GET
2021-04-16 00:38:36.772 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.findContent
2021-04-16 00:38:36.772 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.find
2021-04-16 00:38:36.772 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:38:36.772 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:38:36.772 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [1]
2021-04-16 00:38:36.772 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [1]
2021-04-16 00:38:36.774 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},"success":true}
2021-04-16 00:38:36.774 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š2 ms -------------
2021-04-16 00:38:36.776 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":"<blockquote>äº‰åšå›½å†…ä½¿ç”¨ä½“éªŒæœ€å¥½çš„å¼€æº Web å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ï¼</blockquote><h1>ä¸ºä½•é€‰æ‹© wangEditor</h1><ul><li>ç®€æ´ã€è½»é‡çº§ã€<a href=\"https://doc.wangeditor.com/\">æ–‡æ¡£</a>é½å…¨</li><li>ä¸‡æ˜Ÿé¡¹ç›®&nbsp;<a href=\"https://github.com/wangeditor-team/wangEditor/releases\">Github Star 1w+</a></li><li>npm å‘¨ä¸‹è½½é‡ 1w+</li><li>CDN æœˆä¸‹è½½é‡ç™¾ä¸‡+ï¼ˆæ¥è‡ª&nbsp;<a href=\"https://www.jsdelivr.com/package/npm/wangeditor\">jsdelivr</a>ï¼‰</li><li>QQ ç¾¤åŠæ—¶ç­”ç–‘</li><li><a href=\"https://doc.wangeditor.com/#%E5%BC%80%E5%8F%91%E4%BA%BA%E5%91%98\">å¼€æºå›¢é˜Ÿ</a>ç»´æŠ¤ï¼Œéä¸ªäººå•å…µä½œæˆ˜</li></ul><h1>åˆè§</h1><p>npm å®‰è£…&nbsp;<code>npm i wangeditor --save</code>&nbsp;ï¼Œå‡ è¡Œä»£ç å³å¯åˆ›å»ºä¸€ä¸ªç¼–è¾‘å™¨ã€‚</p><pre><code>import E from 'wangeditor'\nconst editor = new E('#div1')\neditor.create()</code></pre><p>æ›´å¤šä½¿ç”¨é…ç½®ï¼Œè¯·é˜…è¯»<a href=\"https://doc.wangeditor.com/\">ä½¿ç”¨æ–‡æ¡£</a>ã€‚</p><h1>demo</h1><p>åœ¨çº¿ä½“éªŒ demo å¯åˆ°&nbsp;<a href=\"https://codepen.io/collection/DNmPQV\">codepen.io/collection/DNmPQV</a>&nbsp;ã€‚</p><p>æ³¨æ„ï¼Œå¦‚æœæ‰“ä¸å¼€ï¼Œå¯ä»¥å»æŸ¥çœ‹&nbsp;<a href=\"https://github.com/wangeditor-team/wangEditor/tree/master/examples\">github examples</a>&nbsp;çš„æºç ã€‚</p><h1>æµè§ˆå™¨å…¼å®¹æ€§</h1><ul><li>å…¼å®¹ä¸»æµ PC æµè§ˆå™¨ï¼ŒIE11+</li><li>ä¸æ”¯æŒç§»åŠ¨ç«¯å’Œ ipad</li></ul><h1>é‡åˆ°é—®é¢˜</h1><ul><li>åŠ å…¥ QQ ç¾¤ï¼š164999061(äººå·²æ»¡)ï¼Œ710646022(äººå·²æ»¡)ï¼Œ901247714</li><li><a href=\"https://github.com/wangeditor-team/wangEditor/issues\" target=\"_blank\">æäº¤é—®é¢˜å’Œå»ºè®®</a></li></ul><h1>è´¡çŒ®ä»£ç </h1><p>æ¬¢è¿éå›¢é˜Ÿæˆå‘˜è´¡çŒ®ä»£ç ï¼Œæäº¤ Pull Requestï¼Œè¯·ä¸€å®šå‚è€ƒ<a href=\"https://github.com/wangeditor-team/wangEditor/blob/master/docs/contribution.md\" target=\"_blank\">è´¡çŒ®ä»£ç æµç¨‹</a>ã€‚</p><h1>è°åœ¨ç»´æŠ¤</h1><p>wangEditor ç°æœ‰ä¸€ä¸ªå¼€æºå›¢é˜Ÿåœ¨ç»´æŠ¤ï¼Œå›¢é˜Ÿå¯ä»¥ä¿è¯ç­”ç–‘ã€bug ä¿®å¤å’Œè¿­ä»£æ•ˆç‡ã€‚</p><p><a href=\"https://doc.wangeditor.com/#%E5%BC%80%E5%8F%91%E4%BA%BA%E5%91%98\">æŸ¥çœ‹å¼€å‘å›¢é˜Ÿï¼Œæˆ–æƒ³åŠ å…¥å¼€å‘å›¢é˜Ÿ</a></p><h1>ä¸ºæˆ‘ä»¬ç‚¹èµ</h1><p>å¦‚æœä½ æ„Ÿè§‰æœ‰æ”¶è·ï¼Œæ¬¢è¿ç»™æˆ‘æ‰“èµï¼Œä»¥æ¿€åŠ±æˆ‘ä»¬æ›´å¤šè¾“å‡ºä¼˜è´¨å¼€æºå†…å®¹ã€‚</p><p><img src=\"https://www.wangeditor.com/imgs/ali-pay.jpeg\"/>&nbsp;<img src=\"https://www.wangeditor.com/imgs/wechat-pay.jpeg\"/></p><p><br/></p>","success":true}
2021-04-16 00:38:36.776 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2021-04-16 00:38:39.181 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:38:39.182 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/list GET
2021-04-16 00:38:39.182 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.list
2021-04-16 00:38:39.182 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:38:39.182 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":4}]
2021-04-16 00:38:39.189 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"list":[{"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Vue å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":2,"name":"Vue å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Python å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":3,"name":"Python å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Mysql å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":4,"name":"Mysql å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0}],"total":7},"success":true}
2021-04-16 00:38:39.190 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š9 ms -------------
2021-04-16 00:38:39.625 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:38:39.625 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/list GET
2021-04-16 00:38:39.626 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.list
2021-04-16 00:38:39.626 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:38:39.626 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":4}]
2021-04-16 00:38:39.631 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"list":[{"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Vue å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":2,"name":"Vue å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Python å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":3,"name":"Python å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Mysql å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":4,"name":"Mysql å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0}],"total":7},"success":true}
2021-04-16 00:38:39.631 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2021-04-16 00:38:42.278 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:38:42.278 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/list GET
2021-04-16 00:38:42.278 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.list
2021-04-16 00:38:42.279 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:38:42.279 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [{"page":2,"size":4}]
2021-04-16 00:38:42.284 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"list":[{"description":"c++çœŸçš„å¾ˆå®¹æ˜“ï¼Œä¸ä¼šæœ‰äººä¸ä¼šå§ï¼Ÿ","docCount":0,"id":5,"name":"21 å¤©å­¦ä¼šC++","viewCount":0,"voteCount":0},{"description":"å¡é‡Œå¤æ‹‰æ–‡ç« é“¾æ¥","docCount":0,"id":36754863593492480,"name":"å¡é‡Œå¤æ‹‰","viewCount":0,"voteCount":0},{"description":" python,2å¤©å°±å¤Ÿäº†","docCount":0,"id":36776384114331648,"name":"2å¤©å­¦ä¼špython","viewCount":0,"voteCount":0}],"total":7},"success":true}
2021-04-16 00:38:42.285 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2021-04-16 00:38:43.545 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:38:43.547 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:38:43.566 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find/36754863593492480 GET
2021-04-16 00:38:43.567 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/36754863593492480 GET
2021-04-16 00:38:43.568 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.findContent
2021-04-16 00:38:43.568 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.find
2021-04-16 00:38:43.568 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:38:43.568 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:38:43.569 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [36754863593492480]
2021-04-16 00:38:43.569 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [36754863593492480]
2021-04-16 00:38:43.571 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"description":"å¡é‡Œå¤æ‹‰æ–‡ç« é“¾æ¥","docCount":0,"id":36754863593492480,"name":"å¡é‡Œå¤æ‹‰","viewCount":0,"voteCount":0},"success":true}
2021-04-16 00:38:43.571 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":"# Java æ¥å£\n\nè¿™é‡Œä¸è®²ä¸ºä»€ä¹ˆéœ€è¦ä½¿ç”¨æ¥å£ï¼Œå› ä¸ºå¤§éƒ¨åˆ†äººå¼€å‘é‚£ä¹ˆä¹…ï¼Œåº”è¯¥éƒ½äº†è§£ä½¿ç”¨æ¥å£çš„åŸå› å’Œå¥½å¤„äº†å§\n\n\n\n## **1. æ¥å£ä¸­çš„æ–¹æ³•ä¸ç”¨å£°æ˜ä¸º`public`**\n\nè™½ç„¶å†™ä¸Šä¸ä¼šæŠ¥é”™ï¼Œä½†æ˜¯å®Œå…¨æ²¡æœ‰å¿…è¦ï¼Œå› ä¸ºæ¥å£å®ç°çš„æ—¶å€™ï¼Œåªèƒ½æ˜¯`public`\n\næ›´åˆ«æå°†æ¥å£æ–¹æ³•å£°æ˜ä¸º`private`ï¼Œ`protected`äº†ï¼Œç›´æ¥æŠ¥é”™\n\n![image-20210317235222474](https://gitee.com/faro/images/raw/master/img/20210317235222.png)\n\n\n\n## **2. å› ä¸ºæ¥å£å®ç°çš„æ—¶å€™ï¼Œåªèƒ½æ˜¯`public`**\n\né™¤äº†`public`ï¼Œå…¶ä»–ç±»å‹å‡†æŠ¥é”™\n\nä½•å†µä½ å†æƒ³æƒ³ï¼Œå¦‚æœè¦å°†æ¥å£æ–¹æ³•ç”³æ˜ä¸º`private`ï¼Œé‚£å†™è¿™ä¸ªæ¥å£ï¼Œè¿˜æœ‰ä»€ä¹ˆæ„ä¹‰ï¼Ÿ\n\næ¥å£çš„ç›®çš„ï¼Œæœ¬æ¥å°±æ˜¯ä¸ºäº†æ¾è€¦åˆï¼Œå†™æˆ`private`åˆ°å¥½ï¼Œè®©æ–¹æ³•åªèƒ½åœ¨ç±»å†…éƒ¨ä½¿ç”¨äº†ï¼Œé‚£è¿˜æ¾è€¦åˆæ¾ä¸ªé¬¼å•Šã€‚\n\n![image-20210317235447384](https://gitee.com/faro/images/raw/master/img/20210317235447.png)\n\n\n\n## **3. å®ç°å¤šä¸ªæ¥å£çš„é‡åé—®é¢˜**\n\n### 3.1 ä¸¤ä¸ªæ–¹æ³•ä¸€æ¨¡ä¸€æ ·\n\nè¿™é‡Œå®šä¹‰ä¸¤ä¸ªæ¥å£ï¼Œå…¶è‡ªå¸¦çš„æ–¹æ³•ï¼Œ**ä¸€æ¨¡ä¸€æ ·**ï¼ˆä¸€æ¨¡ä¸€æ ·ï¼Œå³æŒ‡`å‡½æ•°å`ï¼Œ`è¿”å›å€¼`ï¼Œ`å‚æ•°ç±»å‹`ï¼Œ`å‚æ•°ä¸ªæ•°`å’Œ`ä¸åŒç±»å‹å‚æ•°çš„æ’åˆ—é¡ºåº`éƒ½ä¸€æ¨¡ä¸€æ ·ï¼Œè¿™äº›æ¡ä»¶ï¼Œ<font color=\"red\">é™¤äº†è¿”å›å€¼</font>å’Œå‡½æ•°åï¼Œå…¶ä½™ä¸‰æ ·ï¼Œæ¯ä¸€æ ·éƒ½æ˜¯ä¿è¯å‡½æ•°èƒ½å¤Ÿé‡è½½çš„æ¡ä»¶ï¼‰\n\n![image-20210318000412331](https://gitee.com/faro/images/raw/master/img/20210318000412.png)\n\n![image-20210318000424942](https://gitee.com/faro/images/raw/master/img/20210318000424.png)\n\né‚£æœ€åå¤šæ¥å£å®ç°çš„æ—¶å€™ï¼Œå…¶å®å°±ç›¸å½“äºåªå®ç°ä¸€ä¸ªæ–¹æ³•ï¼Œæ²¡æœ‰ä»€ä¹ˆå½±å“ï¼Œä¸”éƒ½å¯ä»¥å®ç°å¤šæ€ï¼š\n\n![image-20210318000627167](https://gitee.com/faro/images/raw/master/img/20210318000627.png)\n\n\n\n### 3.2 åªæœ‰è¿”å›ç±»å‹ä¸ä¸€æ ·\n\nä½†æ˜¯ï¼Œå¦‚æœä¸¤ä¸ªæ¥å£å‡½æ•°åå’Œå‚æ•°ä¸ªæ•°éƒ½ä¸€æ ·ï¼Œ**åªæœ‰è¿”å›å€¼ä¸ä¸€æ ·**ï¼Œæ¢å¥è¯è¯´ï¼Œå°±æ˜¯<font color=\"blue\">ä¸æ»¡è¶³åŒºåˆ†å‡½æ•°é‡è½½çš„æ¡ä»¶</font>ï¼Œé‚£ç¼–è¯‘å™¨å°±ä¼šæŠ¥é”™ï¼š\n\n![image-20210318000846017](https://gitee.com/faro/images/raw/master/img/20210318000846.png)\n\n![image-20210318000859682](https://gitee.com/faro/images/raw/master/img/20210318000859.png)\n\næ­¤æ—¶ï¼Œå› ä¸ºä¸€ä¸ªè¿”å›`int`ï¼Œä¸€ä¸ªä¸è¿”å›ï¼Œé‚£æ¥å£å®ç°å†™`int`ä¹Ÿä¸æ˜¯ï¼Œå†™`void`ä¹Ÿä¸æ˜¯ï¼Œ\n\n![image-20210318000931012](https://gitee.com/faro/images/raw/master/img/20210318000931.png)\n\nåˆå› ä¸ºï¼Œ<font color=\"blue\">æ–¹æ³•è¿”å›çš„ç±»å‹ä¸èƒ½ä½œä¸ºé‡è½½çš„æ ‡å¿—</font>ï¼Œæ‰€ä»¥ï¼Œä¸‹é¢è¿™ç§å†™æ³•ä¹Ÿæ— æµäºäº‹...\n\n![image-20210318001053987](https://gitee.com/faro/images/raw/master/img/20210318001054.png)\n\n\n\n### 3.3 åªæœ‰æ»¡è¶³å‡½æ•°é‡è½½çš„æ¡ä»¶ï¼Œæ¥å£æ‰å¯é‡å\n\nåœ¨  3.1  ä¹Ÿæåˆ°è¿‡ï¼Œ`å‚æ•°ç±»å‹ï¼Œå‚æ•°ä¸ªæ•°ã€ä¸åŒç±»å‹å‚æ•°çš„æ’åˆ—é¡ºåº`è¿™ä¸‰æ ·ï¼Œæ¯æ ·éƒ½å¯ä»¥æˆä¸ºé‡è½½çš„æ¡ä»¶ï¼Œåªè¦æ»¡è¶³ä»»ä½•ä¸€æ ·ï¼Œå°±èƒ½å®ç°åŒå‡½æ•°åæ¥å£çš„å¤šç»§æ‰¿åŠå®ç°ã€‚\n\n","success":true}
2021-04-16 00:38:43.572 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š27 ms -------------
2021-04-16 00:38:43.572 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š25 ms -------------
2021-04-16 00:40:21.106 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:40:21.106 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:40:21.114 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find/36754863593492480 GET
2021-04-16 00:40:21.114 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/36754863593492480 GET
2021-04-16 00:40:21.115 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.find
2021-04-16 00:40:21.115 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.findContent
2021-04-16 00:40:21.115 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:40:21.115 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:40:21.115 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [36754863593492480]
2021-04-16 00:40:21.115 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [36754863593492480]
2021-04-16 00:40:21.137 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":"# Java æ¥å£\n\nè¿™é‡Œä¸è®²ä¸ºä»€ä¹ˆéœ€è¦ä½¿ç”¨æ¥å£ï¼Œå› ä¸ºå¤§éƒ¨åˆ†äººå¼€å‘é‚£ä¹ˆä¹…ï¼Œåº”è¯¥éƒ½äº†è§£ä½¿ç”¨æ¥å£çš„åŸå› å’Œå¥½å¤„äº†å§\n\n\n\n## **1. æ¥å£ä¸­çš„æ–¹æ³•ä¸ç”¨å£°æ˜ä¸º`public`**\n\nè™½ç„¶å†™ä¸Šä¸ä¼šæŠ¥é”™ï¼Œä½†æ˜¯å®Œå…¨æ²¡æœ‰å¿…è¦ï¼Œå› ä¸ºæ¥å£å®ç°çš„æ—¶å€™ï¼Œåªèƒ½æ˜¯`public`\n\næ›´åˆ«æå°†æ¥å£æ–¹æ³•å£°æ˜ä¸º`private`ï¼Œ`protected`äº†ï¼Œç›´æ¥æŠ¥é”™\n\n![image-20210317235222474](https://gitee.com/faro/images/raw/master/img/20210317235222.png)\n\n\n\n## **2. å› ä¸ºæ¥å£å®ç°çš„æ—¶å€™ï¼Œåªèƒ½æ˜¯`public`**\n\né™¤äº†`public`ï¼Œå…¶ä»–ç±»å‹å‡†æŠ¥é”™\n\nä½•å†µä½ å†æƒ³æƒ³ï¼Œå¦‚æœè¦å°†æ¥å£æ–¹æ³•ç”³æ˜ä¸º`private`ï¼Œé‚£å†™è¿™ä¸ªæ¥å£ï¼Œè¿˜æœ‰ä»€ä¹ˆæ„ä¹‰ï¼Ÿ\n\næ¥å£çš„ç›®çš„ï¼Œæœ¬æ¥å°±æ˜¯ä¸ºäº†æ¾è€¦åˆï¼Œå†™æˆ`private`åˆ°å¥½ï¼Œè®©æ–¹æ³•åªèƒ½åœ¨ç±»å†…éƒ¨ä½¿ç”¨äº†ï¼Œé‚£è¿˜æ¾è€¦åˆæ¾ä¸ªé¬¼å•Šã€‚\n\n![image-20210317235447384](https://gitee.com/faro/images/raw/master/img/20210317235447.png)\n\n\n\n## **3. å®ç°å¤šä¸ªæ¥å£çš„é‡åé—®é¢˜**\n\n### 3.1 ä¸¤ä¸ªæ–¹æ³•ä¸€æ¨¡ä¸€æ ·\n\nè¿™é‡Œå®šä¹‰ä¸¤ä¸ªæ¥å£ï¼Œå…¶è‡ªå¸¦çš„æ–¹æ³•ï¼Œ**ä¸€æ¨¡ä¸€æ ·**ï¼ˆä¸€æ¨¡ä¸€æ ·ï¼Œå³æŒ‡`å‡½æ•°å`ï¼Œ`è¿”å›å€¼`ï¼Œ`å‚æ•°ç±»å‹`ï¼Œ`å‚æ•°ä¸ªæ•°`å’Œ`ä¸åŒç±»å‹å‚æ•°çš„æ’åˆ—é¡ºåº`éƒ½ä¸€æ¨¡ä¸€æ ·ï¼Œè¿™äº›æ¡ä»¶ï¼Œ<font color=\"red\">é™¤äº†è¿”å›å€¼</font>å’Œå‡½æ•°åï¼Œå…¶ä½™ä¸‰æ ·ï¼Œæ¯ä¸€æ ·éƒ½æ˜¯ä¿è¯å‡½æ•°èƒ½å¤Ÿé‡è½½çš„æ¡ä»¶ï¼‰\n\n![image-20210318000412331](https://gitee.com/faro/images/raw/master/img/20210318000412.png)\n\n![image-20210318000424942](https://gitee.com/faro/images/raw/master/img/20210318000424.png)\n\né‚£æœ€åå¤šæ¥å£å®ç°çš„æ—¶å€™ï¼Œå…¶å®å°±ç›¸å½“äºåªå®ç°ä¸€ä¸ªæ–¹æ³•ï¼Œæ²¡æœ‰ä»€ä¹ˆå½±å“ï¼Œä¸”éƒ½å¯ä»¥å®ç°å¤šæ€ï¼š\n\n![image-20210318000627167](https://gitee.com/faro/images/raw/master/img/20210318000627.png)\n\n\n\n### 3.2 åªæœ‰è¿”å›ç±»å‹ä¸ä¸€æ ·\n\nä½†æ˜¯ï¼Œå¦‚æœä¸¤ä¸ªæ¥å£å‡½æ•°åå’Œå‚æ•°ä¸ªæ•°éƒ½ä¸€æ ·ï¼Œ**åªæœ‰è¿”å›å€¼ä¸ä¸€æ ·**ï¼Œæ¢å¥è¯è¯´ï¼Œå°±æ˜¯<font color=\"blue\">ä¸æ»¡è¶³åŒºåˆ†å‡½æ•°é‡è½½çš„æ¡ä»¶</font>ï¼Œé‚£ç¼–è¯‘å™¨å°±ä¼šæŠ¥é”™ï¼š\n\n![image-20210318000846017](https://gitee.com/faro/images/raw/master/img/20210318000846.png)\n\n![image-20210318000859682](https://gitee.com/faro/images/raw/master/img/20210318000859.png)\n\næ­¤æ—¶ï¼Œå› ä¸ºä¸€ä¸ªè¿”å›`int`ï¼Œä¸€ä¸ªä¸è¿”å›ï¼Œé‚£æ¥å£å®ç°å†™`int`ä¹Ÿä¸æ˜¯ï¼Œå†™`void`ä¹Ÿä¸æ˜¯ï¼Œ\n\n![image-20210318000931012](https://gitee.com/faro/images/raw/master/img/20210318000931.png)\n\nåˆå› ä¸ºï¼Œ<font color=\"blue\">æ–¹æ³•è¿”å›çš„ç±»å‹ä¸èƒ½ä½œä¸ºé‡è½½çš„æ ‡å¿—</font>ï¼Œæ‰€ä»¥ï¼Œä¸‹é¢è¿™ç§å†™æ³•ä¹Ÿæ— æµäºäº‹...\n\n![image-20210318001053987](https://gitee.com/faro/images/raw/master/img/20210318001054.png)\n\n\n\n### 3.3 åªæœ‰æ»¡è¶³å‡½æ•°é‡è½½çš„æ¡ä»¶ï¼Œæ¥å£æ‰å¯é‡å\n\nåœ¨  3.1  ä¹Ÿæåˆ°è¿‡ï¼Œ`å‚æ•°ç±»å‹ï¼Œå‚æ•°ä¸ªæ•°ã€ä¸åŒç±»å‹å‚æ•°çš„æ’åˆ—é¡ºåº`è¿™ä¸‰æ ·ï¼Œæ¯æ ·éƒ½å¯ä»¥æˆä¸ºé‡è½½çš„æ¡ä»¶ï¼Œåªè¦æ»¡è¶³ä»»ä½•ä¸€æ ·ï¼Œå°±èƒ½å®ç°åŒå‡½æ•°åæ¥å£çš„å¤šç»§æ‰¿åŠå®ç°ã€‚\n\n","success":true}
2021-04-16 00:40:21.137 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š31 ms -------------
2021-04-16 00:40:21.137 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"description":"å¡é‡Œå¤æ‹‰æ–‡ç« é“¾æ¥","docCount":0,"id":36754863593492480,"name":"å¡é‡Œå¤æ‹‰","viewCount":0,"voteCount":0},"success":true}
2021-04-16 00:40:21.137 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š31 ms -------------
2021-04-16 00:41:11.472 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:41:11.472 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:41:11.472 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/36754863593492480 GET
2021-04-16 00:41:11.472 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find/36754863593492480 GET
2021-04-16 00:41:11.472 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.find
2021-04-16 00:41:11.472 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.findContent
2021-04-16 00:41:11.473 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:41:11.473 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:41:11.473 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [36754863593492480]
2021-04-16 00:41:11.473 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [36754863593492480]
2021-04-16 00:41:11.475 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"description":"å¡é‡Œå¤æ‹‰æ–‡ç« é“¾æ¥","docCount":0,"id":36754863593492480,"name":"å¡é‡Œå¤æ‹‰","viewCount":0,"voteCount":0},"success":true}
2021-04-16 00:41:11.475 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":"# Java æ¥å£\n\nè¿™é‡Œä¸è®²ä¸ºä»€ä¹ˆéœ€è¦ä½¿ç”¨æ¥å£ï¼Œå› ä¸ºå¤§éƒ¨åˆ†äººå¼€å‘é‚£ä¹ˆä¹…ï¼Œåº”è¯¥éƒ½äº†è§£ä½¿ç”¨æ¥å£çš„åŸå› å’Œå¥½å¤„äº†å§\n\n\n\n## **1. æ¥å£ä¸­çš„æ–¹æ³•ä¸ç”¨å£°æ˜ä¸º`public`**\n\nè™½ç„¶å†™ä¸Šä¸ä¼šæŠ¥é”™ï¼Œä½†æ˜¯å®Œå…¨æ²¡æœ‰å¿…è¦ï¼Œå› ä¸ºæ¥å£å®ç°çš„æ—¶å€™ï¼Œåªèƒ½æ˜¯`public`\n\næ›´åˆ«æå°†æ¥å£æ–¹æ³•å£°æ˜ä¸º`private`ï¼Œ`protected`äº†ï¼Œç›´æ¥æŠ¥é”™\n\n![image-20210317235222474](https://gitee.com/faro/images/raw/master/img/20210317235222.png)\n\n\n\n## **2. å› ä¸ºæ¥å£å®ç°çš„æ—¶å€™ï¼Œåªèƒ½æ˜¯`public`**\n\né™¤äº†`public`ï¼Œå…¶ä»–ç±»å‹å‡†æŠ¥é”™\n\nä½•å†µä½ å†æƒ³æƒ³ï¼Œå¦‚æœè¦å°†æ¥å£æ–¹æ³•ç”³æ˜ä¸º`private`ï¼Œé‚£å†™è¿™ä¸ªæ¥å£ï¼Œè¿˜æœ‰ä»€ä¹ˆæ„ä¹‰ï¼Ÿ\n\næ¥å£çš„ç›®çš„ï¼Œæœ¬æ¥å°±æ˜¯ä¸ºäº†æ¾è€¦åˆï¼Œå†™æˆ`private`åˆ°å¥½ï¼Œè®©æ–¹æ³•åªèƒ½åœ¨ç±»å†…éƒ¨ä½¿ç”¨äº†ï¼Œé‚£è¿˜æ¾è€¦åˆæ¾ä¸ªé¬¼å•Šã€‚\n\n![image-20210317235447384](https://gitee.com/faro/images/raw/master/img/20210317235447.png)\n\n\n\n## **3. å®ç°å¤šä¸ªæ¥å£çš„é‡åé—®é¢˜**\n\n### 3.1 ä¸¤ä¸ªæ–¹æ³•ä¸€æ¨¡ä¸€æ ·\n\nè¿™é‡Œå®šä¹‰ä¸¤ä¸ªæ¥å£ï¼Œå…¶è‡ªå¸¦çš„æ–¹æ³•ï¼Œ**ä¸€æ¨¡ä¸€æ ·**ï¼ˆä¸€æ¨¡ä¸€æ ·ï¼Œå³æŒ‡`å‡½æ•°å`ï¼Œ`è¿”å›å€¼`ï¼Œ`å‚æ•°ç±»å‹`ï¼Œ`å‚æ•°ä¸ªæ•°`å’Œ`ä¸åŒç±»å‹å‚æ•°çš„æ’åˆ—é¡ºåº`éƒ½ä¸€æ¨¡ä¸€æ ·ï¼Œè¿™äº›æ¡ä»¶ï¼Œ<font color=\"red\">é™¤äº†è¿”å›å€¼</font>å’Œå‡½æ•°åï¼Œå…¶ä½™ä¸‰æ ·ï¼Œæ¯ä¸€æ ·éƒ½æ˜¯ä¿è¯å‡½æ•°èƒ½å¤Ÿé‡è½½çš„æ¡ä»¶ï¼‰\n\n![image-20210318000412331](https://gitee.com/faro/images/raw/master/img/20210318000412.png)\n\n![image-20210318000424942](https://gitee.com/faro/images/raw/master/img/20210318000424.png)\n\né‚£æœ€åå¤šæ¥å£å®ç°çš„æ—¶å€™ï¼Œå…¶å®å°±ç›¸å½“äºåªå®ç°ä¸€ä¸ªæ–¹æ³•ï¼Œæ²¡æœ‰ä»€ä¹ˆå½±å“ï¼Œä¸”éƒ½å¯ä»¥å®ç°å¤šæ€ï¼š\n\n![image-20210318000627167](https://gitee.com/faro/images/raw/master/img/20210318000627.png)\n\n\n\n### 3.2 åªæœ‰è¿”å›ç±»å‹ä¸ä¸€æ ·\n\nä½†æ˜¯ï¼Œå¦‚æœä¸¤ä¸ªæ¥å£å‡½æ•°åå’Œå‚æ•°ä¸ªæ•°éƒ½ä¸€æ ·ï¼Œ**åªæœ‰è¿”å›å€¼ä¸ä¸€æ ·**ï¼Œæ¢å¥è¯è¯´ï¼Œå°±æ˜¯<font color=\"blue\">ä¸æ»¡è¶³åŒºåˆ†å‡½æ•°é‡è½½çš„æ¡ä»¶</font>ï¼Œé‚£ç¼–è¯‘å™¨å°±ä¼šæŠ¥é”™ï¼š\n\n![image-20210318000846017](https://gitee.com/faro/images/raw/master/img/20210318000846.png)\n\n![image-20210318000859682](https://gitee.com/faro/images/raw/master/img/20210318000859.png)\n\næ­¤æ—¶ï¼Œå› ä¸ºä¸€ä¸ªè¿”å›`int`ï¼Œä¸€ä¸ªä¸è¿”å›ï¼Œé‚£æ¥å£å®ç°å†™`int`ä¹Ÿä¸æ˜¯ï¼Œå†™`void`ä¹Ÿä¸æ˜¯ï¼Œ\n\n![image-20210318000931012](https://gitee.com/faro/images/raw/master/img/20210318000931.png)\n\nåˆå› ä¸ºï¼Œ<font color=\"blue\">æ–¹æ³•è¿”å›çš„ç±»å‹ä¸èƒ½ä½œä¸ºé‡è½½çš„æ ‡å¿—</font>ï¼Œæ‰€ä»¥ï¼Œä¸‹é¢è¿™ç§å†™æ³•ä¹Ÿæ— æµäºäº‹...\n\n![image-20210318001053987](https://gitee.com/faro/images/raw/master/img/20210318001054.png)\n\n\n\n### 3.3 åªæœ‰æ»¡è¶³å‡½æ•°é‡è½½çš„æ¡ä»¶ï¼Œæ¥å£æ‰å¯é‡å\n\nåœ¨  3.1  ä¹Ÿæåˆ°è¿‡ï¼Œ`å‚æ•°ç±»å‹ï¼Œå‚æ•°ä¸ªæ•°ã€ä¸åŒç±»å‹å‚æ•°çš„æ’åˆ—é¡ºåº`è¿™ä¸‰æ ·ï¼Œæ¯æ ·éƒ½å¯ä»¥æˆä¸ºé‡è½½çš„æ¡ä»¶ï¼Œåªè¦æ»¡è¶³ä»»ä½•ä¸€æ ·ï¼Œå°±èƒ½å®ç°åŒå‡½æ•°åæ¥å£çš„å¤šç»§æ‰¿åŠå®ç°ã€‚\n\n","success":true}
2021-04-16 00:41:11.475 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š3 ms -------------
2021-04-16 00:41:11.475 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š3 ms -------------
2021-04-16 00:41:33.558 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:41:33.558 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:41:33.559 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find/36754863593492480 GET
2021-04-16 00:41:33.559 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/36754863593492480 GET
2021-04-16 00:41:33.559 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.find
2021-04-16 00:41:33.559 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.findContent
2021-04-16 00:41:33.559 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:41:33.559 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:41:33.559 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [36754863593492480]
2021-04-16 00:41:33.559 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [36754863593492480]
2021-04-16 00:41:33.561 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"description":"å¡é‡Œå¤æ‹‰æ–‡ç« é“¾æ¥","docCount":0,"id":36754863593492480,"name":"å¡é‡Œå¤æ‹‰","viewCount":0,"voteCount":0},"success":true}
2021-04-16 00:41:33.561 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š3 ms -------------
2021-04-16 00:41:33.568 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":"# Java æ¥å£\n\nè¿™é‡Œä¸è®²ä¸ºä»€ä¹ˆéœ€è¦ä½¿ç”¨æ¥å£ï¼Œå› ä¸ºå¤§éƒ¨åˆ†äººå¼€å‘é‚£ä¹ˆä¹…ï¼Œåº”è¯¥éƒ½äº†è§£ä½¿ç”¨æ¥å£çš„åŸå› å’Œå¥½å¤„äº†å§\n\n\n\n## **1. æ¥å£ä¸­çš„æ–¹æ³•ä¸ç”¨å£°æ˜ä¸º`public`**\n\nè™½ç„¶å†™ä¸Šä¸ä¼šæŠ¥é”™ï¼Œä½†æ˜¯å®Œå…¨æ²¡æœ‰å¿…è¦ï¼Œå› ä¸ºæ¥å£å®ç°çš„æ—¶å€™ï¼Œåªèƒ½æ˜¯`public`\n\næ›´åˆ«æå°†æ¥å£æ–¹æ³•å£°æ˜ä¸º`private`ï¼Œ`protected`äº†ï¼Œç›´æ¥æŠ¥é”™\n\n![image-20210317235222474](https://gitee.com/faro/images/raw/master/img/20210317235222.png)\n\n\n\n## **2. å› ä¸ºæ¥å£å®ç°çš„æ—¶å€™ï¼Œåªèƒ½æ˜¯`public`**\n\né™¤äº†`public`ï¼Œå…¶ä»–ç±»å‹å‡†æŠ¥é”™\n\nä½•å†µä½ å†æƒ³æƒ³ï¼Œå¦‚æœè¦å°†æ¥å£æ–¹æ³•ç”³æ˜ä¸º`private`ï¼Œé‚£å†™è¿™ä¸ªæ¥å£ï¼Œè¿˜æœ‰ä»€ä¹ˆæ„ä¹‰ï¼Ÿ\n\næ¥å£çš„ç›®çš„ï¼Œæœ¬æ¥å°±æ˜¯ä¸ºäº†æ¾è€¦åˆï¼Œå†™æˆ`private`åˆ°å¥½ï¼Œè®©æ–¹æ³•åªèƒ½åœ¨ç±»å†…éƒ¨ä½¿ç”¨äº†ï¼Œé‚£è¿˜æ¾è€¦åˆæ¾ä¸ªé¬¼å•Šã€‚\n\n![image-20210317235447384](https://gitee.com/faro/images/raw/master/img/20210317235447.png)\n\n\n\n## **3. å®ç°å¤šä¸ªæ¥å£çš„é‡åé—®é¢˜**\n\n### 3.1 ä¸¤ä¸ªæ–¹æ³•ä¸€æ¨¡ä¸€æ ·\n\nè¿™é‡Œå®šä¹‰ä¸¤ä¸ªæ¥å£ï¼Œå…¶è‡ªå¸¦çš„æ–¹æ³•ï¼Œ**ä¸€æ¨¡ä¸€æ ·**ï¼ˆä¸€æ¨¡ä¸€æ ·ï¼Œå³æŒ‡`å‡½æ•°å`ï¼Œ`è¿”å›å€¼`ï¼Œ`å‚æ•°ç±»å‹`ï¼Œ`å‚æ•°ä¸ªæ•°`å’Œ`ä¸åŒç±»å‹å‚æ•°çš„æ’åˆ—é¡ºåº`éƒ½ä¸€æ¨¡ä¸€æ ·ï¼Œè¿™äº›æ¡ä»¶ï¼Œ<font color=\"red\">é™¤äº†è¿”å›å€¼</font>å’Œå‡½æ•°åï¼Œå…¶ä½™ä¸‰æ ·ï¼Œæ¯ä¸€æ ·éƒ½æ˜¯ä¿è¯å‡½æ•°èƒ½å¤Ÿé‡è½½çš„æ¡ä»¶ï¼‰\n\n![image-20210318000412331](https://gitee.com/faro/images/raw/master/img/20210318000412.png)\n\n![image-20210318000424942](https://gitee.com/faro/images/raw/master/img/20210318000424.png)\n\né‚£æœ€åå¤šæ¥å£å®ç°çš„æ—¶å€™ï¼Œå…¶å®å°±ç›¸å½“äºåªå®ç°ä¸€ä¸ªæ–¹æ³•ï¼Œæ²¡æœ‰ä»€ä¹ˆå½±å“ï¼Œä¸”éƒ½å¯ä»¥å®ç°å¤šæ€ï¼š\n\n![image-20210318000627167](https://gitee.com/faro/images/raw/master/img/20210318000627.png)\n\n\n\n### 3.2 åªæœ‰è¿”å›ç±»å‹ä¸ä¸€æ ·\n\nä½†æ˜¯ï¼Œå¦‚æœä¸¤ä¸ªæ¥å£å‡½æ•°åå’Œå‚æ•°ä¸ªæ•°éƒ½ä¸€æ ·ï¼Œ**åªæœ‰è¿”å›å€¼ä¸ä¸€æ ·**ï¼Œæ¢å¥è¯è¯´ï¼Œå°±æ˜¯<font color=\"blue\">ä¸æ»¡è¶³åŒºåˆ†å‡½æ•°é‡è½½çš„æ¡ä»¶</font>ï¼Œé‚£ç¼–è¯‘å™¨å°±ä¼šæŠ¥é”™ï¼š\n\n![image-20210318000846017](https://gitee.com/faro/images/raw/master/img/20210318000846.png)\n\n![image-20210318000859682](https://gitee.com/faro/images/raw/master/img/20210318000859.png)\n\næ­¤æ—¶ï¼Œå› ä¸ºä¸€ä¸ªè¿”å›`int`ï¼Œä¸€ä¸ªä¸è¿”å›ï¼Œé‚£æ¥å£å®ç°å†™`int`ä¹Ÿä¸æ˜¯ï¼Œå†™`void`ä¹Ÿä¸æ˜¯ï¼Œ\n\n![image-20210318000931012](https://gitee.com/faro/images/raw/master/img/20210318000931.png)\n\nåˆå› ä¸ºï¼Œ<font color=\"blue\">æ–¹æ³•è¿”å›çš„ç±»å‹ä¸èƒ½ä½œä¸ºé‡è½½çš„æ ‡å¿—</font>ï¼Œæ‰€ä»¥ï¼Œä¸‹é¢è¿™ç§å†™æ³•ä¹Ÿæ— æµäºäº‹...\n\n![image-20210318001053987](https://gitee.com/faro/images/raw/master/img/20210318001054.png)\n\n\n\n### 3.3 åªæœ‰æ»¡è¶³å‡½æ•°é‡è½½çš„æ¡ä»¶ï¼Œæ¥å£æ‰å¯é‡å\n\nåœ¨  3.1  ä¹Ÿæåˆ°è¿‡ï¼Œ`å‚æ•°ç±»å‹ï¼Œå‚æ•°ä¸ªæ•°ã€ä¸åŒç±»å‹å‚æ•°çš„æ’åˆ—é¡ºåº`è¿™ä¸‰æ ·ï¼Œæ¯æ ·éƒ½å¯ä»¥æˆä¸ºé‡è½½çš„æ¡ä»¶ï¼Œåªè¦æ»¡è¶³ä»»ä½•ä¸€æ ·ï¼Œå°±èƒ½å®ç°åŒå‡½æ•°åæ¥å£çš„å¤šç»§æ‰¿åŠå®ç°ã€‚\n\n","success":true}
2021-04-16 00:41:33.569 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š11 ms -------------
2021-04-16 00:42:46.438 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:42:46.438 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:42:46.438 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find/36754863593492480 GET
2021-04-16 00:42:46.438 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/36754863593492480 GET
2021-04-16 00:42:46.438 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.find
2021-04-16 00:42:46.438 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.findContent
2021-04-16 00:42:46.439 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:42:46.439 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:42:46.439 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [36754863593492480]
2021-04-16 00:42:46.439 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [36754863593492480]
2021-04-16 00:42:46.441 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"description":"å¡é‡Œå¤æ‹‰æ–‡ç« é“¾æ¥","docCount":0,"id":36754863593492480,"name":"å¡é‡Œå¤æ‹‰","viewCount":0,"voteCount":0},"success":true}
2021-04-16 00:42:46.441 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š3 ms -------------
2021-04-16 00:42:46.442 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":"# Java æ¥å£\n\nè¿™é‡Œä¸è®²ä¸ºä»€ä¹ˆéœ€è¦ä½¿ç”¨æ¥å£ï¼Œå› ä¸ºå¤§éƒ¨åˆ†äººå¼€å‘é‚£ä¹ˆä¹…ï¼Œåº”è¯¥éƒ½äº†è§£ä½¿ç”¨æ¥å£çš„åŸå› å’Œå¥½å¤„äº†å§\n\n\n\n## **1. æ¥å£ä¸­çš„æ–¹æ³•ä¸ç”¨å£°æ˜ä¸º`public`**\n\nè™½ç„¶å†™ä¸Šä¸ä¼šæŠ¥é”™ï¼Œä½†æ˜¯å®Œå…¨æ²¡æœ‰å¿…è¦ï¼Œå› ä¸ºæ¥å£å®ç°çš„æ—¶å€™ï¼Œåªèƒ½æ˜¯`public`\n\næ›´åˆ«æå°†æ¥å£æ–¹æ³•å£°æ˜ä¸º`private`ï¼Œ`protected`äº†ï¼Œç›´æ¥æŠ¥é”™\n\n![image-20210317235222474](https://gitee.com/faro/images/raw/master/img/20210317235222.png)\n\n\n\n## **2. å› ä¸ºæ¥å£å®ç°çš„æ—¶å€™ï¼Œåªèƒ½æ˜¯`public`**\n\né™¤äº†`public`ï¼Œå…¶ä»–ç±»å‹å‡†æŠ¥é”™\n\nä½•å†µä½ å†æƒ³æƒ³ï¼Œå¦‚æœè¦å°†æ¥å£æ–¹æ³•ç”³æ˜ä¸º`private`ï¼Œé‚£å†™è¿™ä¸ªæ¥å£ï¼Œè¿˜æœ‰ä»€ä¹ˆæ„ä¹‰ï¼Ÿ\n\næ¥å£çš„ç›®çš„ï¼Œæœ¬æ¥å°±æ˜¯ä¸ºäº†æ¾è€¦åˆï¼Œå†™æˆ`private`åˆ°å¥½ï¼Œè®©æ–¹æ³•åªèƒ½åœ¨ç±»å†…éƒ¨ä½¿ç”¨äº†ï¼Œé‚£è¿˜æ¾è€¦åˆæ¾ä¸ªé¬¼å•Šã€‚\n\n![image-20210317235447384](https://gitee.com/faro/images/raw/master/img/20210317235447.png)\n\n\n\n## **3. å®ç°å¤šä¸ªæ¥å£çš„é‡åé—®é¢˜**\n\n### 3.1 ä¸¤ä¸ªæ–¹æ³•ä¸€æ¨¡ä¸€æ ·\n\nè¿™é‡Œå®šä¹‰ä¸¤ä¸ªæ¥å£ï¼Œå…¶è‡ªå¸¦çš„æ–¹æ³•ï¼Œ**ä¸€æ¨¡ä¸€æ ·**ï¼ˆä¸€æ¨¡ä¸€æ ·ï¼Œå³æŒ‡`å‡½æ•°å`ï¼Œ`è¿”å›å€¼`ï¼Œ`å‚æ•°ç±»å‹`ï¼Œ`å‚æ•°ä¸ªæ•°`å’Œ`ä¸åŒç±»å‹å‚æ•°çš„æ’åˆ—é¡ºåº`éƒ½ä¸€æ¨¡ä¸€æ ·ï¼Œè¿™äº›æ¡ä»¶ï¼Œ<font color=\"red\">é™¤äº†è¿”å›å€¼</font>å’Œå‡½æ•°åï¼Œå…¶ä½™ä¸‰æ ·ï¼Œæ¯ä¸€æ ·éƒ½æ˜¯ä¿è¯å‡½æ•°èƒ½å¤Ÿé‡è½½çš„æ¡ä»¶ï¼‰\n\n![image-20210318000412331](https://gitee.com/faro/images/raw/master/img/20210318000412.png)\n\n![image-20210318000424942](https://gitee.com/faro/images/raw/master/img/20210318000424.png)\n\né‚£æœ€åå¤šæ¥å£å®ç°çš„æ—¶å€™ï¼Œå…¶å®å°±ç›¸å½“äºåªå®ç°ä¸€ä¸ªæ–¹æ³•ï¼Œæ²¡æœ‰ä»€ä¹ˆå½±å“ï¼Œä¸”éƒ½å¯ä»¥å®ç°å¤šæ€ï¼š\n\n![image-20210318000627167](https://gitee.com/faro/images/raw/master/img/20210318000627.png)\n\n\n\n### 3.2 åªæœ‰è¿”å›ç±»å‹ä¸ä¸€æ ·\n\nä½†æ˜¯ï¼Œå¦‚æœä¸¤ä¸ªæ¥å£å‡½æ•°åå’Œå‚æ•°ä¸ªæ•°éƒ½ä¸€æ ·ï¼Œ**åªæœ‰è¿”å›å€¼ä¸ä¸€æ ·**ï¼Œæ¢å¥è¯è¯´ï¼Œå°±æ˜¯==ä¸æ»¡è¶³åŒºåˆ†å‡½æ•°é‡è½½çš„æ¡ä»¶==ï¼Œé‚£ç¼–è¯‘å™¨å°±ä¼šæŠ¥é”™ï¼š\n\n![image-20210318000846017](https://gitee.com/faro/images/raw/master/img/20210318000846.png)\n\n![image-20210318000859682](https://gitee.com/faro/images/raw/master/img/20210318000859.png)\n\næ­¤æ—¶ï¼Œå› ä¸ºä¸€ä¸ªè¿”å›`int`ï¼Œä¸€ä¸ªä¸è¿”å›ï¼Œé‚£æ¥å£å®ç°å†™`int`ä¹Ÿä¸æ˜¯ï¼Œå†™`void`ä¹Ÿä¸æ˜¯ï¼Œ\n\n![image-20210318000931012](https://gitee.com/faro/images/raw/master/img/20210318000931.png)\n\nåˆå› ä¸ºï¼Œ<font color=\"blue\">æ–¹æ³•è¿”å›çš„ç±»å‹ä¸èƒ½ä½œä¸ºé‡è½½çš„æ ‡å¿—</font>ï¼Œæ‰€ä»¥ï¼Œä¸‹é¢è¿™ç§å†™æ³•ä¹Ÿæ— æµäºäº‹...\n\n![image-20210318001053987](https://gitee.com/faro/images/raw/master/img/20210318001054.png)\n\n\n\n### 3.3 åªæœ‰æ»¡è¶³å‡½æ•°é‡è½½çš„æ¡ä»¶ï¼Œæ¥å£æ‰å¯é‡å\n\nåœ¨  3.1  ä¹Ÿæåˆ°è¿‡ï¼Œ`å‚æ•°ç±»å‹ï¼Œå‚æ•°ä¸ªæ•°ã€ä¸åŒç±»å‹å‚æ•°çš„æ’åˆ—é¡ºåº`è¿™ä¸‰æ ·ï¼Œæ¯æ ·éƒ½å¯ä»¥æˆä¸ºé‡è½½çš„æ¡ä»¶ï¼Œåªè¦æ»¡è¶³ä»»ä½•ä¸€æ ·ï¼Œå°±èƒ½å®ç°åŒå‡½æ•°åæ¥å£çš„å¤šç»§æ‰¿åŠå®ç°ã€‚\n\n","success":true}
2021-04-16 00:42:46.442 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2021-04-16 00:43:23.150 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:43:23.151 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/list GET
2021-04-16 00:43:23.151 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.list
2021-04-16 00:43:23.151 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:43:23.152 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":4}]
2021-04-16 00:43:23.169 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"list":[{"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Vue å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":2,"name":"Vue å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Python å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":3,"name":"Python å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Mysql å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":4,"name":"Mysql å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0}],"total":7},"success":true}
2021-04-16 00:43:23.169 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š19 ms -------------
2021-04-16 00:43:23.673 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:43:23.673 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/list GET
2021-04-16 00:43:23.673 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.list
2021-04-16 00:43:23.673 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:43:23.674 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":4}]
2021-04-16 00:43:23.677 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"list":[{"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Vue å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":2,"name":"Vue å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Python å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":3,"name":"Python å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Mysql å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":4,"name":"Mysql å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0}],"total":7},"success":true}
2021-04-16 00:43:23.678 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2021-04-16 00:43:25.121 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:43:25.121 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:43:25.121 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find/2 GET
2021-04-16 00:43:25.121 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/2 GET
2021-04-16 00:43:25.121 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.find
2021-04-16 00:43:25.121 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.findContent
2021-04-16 00:43:25.122 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:43:25.122 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:43:25.122 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [2]
2021-04-16 00:43:25.122 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [2]
2021-04-16 00:43:25.124 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"description":"é›¶åŸºç¡€å…¥é—¨ Vue å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":2,"name":"Vue å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},"success":true}
2021-04-16 00:43:25.125 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2021-04-16 00:43:25.128 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":"<p><span style=\"font-size: 2em;\">ç¬¬äºŒç«  ç‰©ç†å±‚</span><br/></p><h2>2.1 ç‰©ç†å±‚ä¸ç‰©ç†åè®®çš„åŸºæœ¬æ¦‚å¿µ</h2><h3>2.1.1 ç‰©ç†å±‚çš„åŸºæœ¬æœåŠ¡åŠŸèƒ½</h3><ul><li><p>è®¾ç½®ç‰©ç†å±‚çš„ç›®çš„ï¼š P59</p><blockquote><p>å±è”½ç‰©ç†å±‚é‡‡ç”¨çš„ä¼ è¾“ä»‹è´¨ï¼ˆæ‰€ä»¥ä¼ è¾“ä»‹è´¨ï¼Œå¦‚åŒç»çº¿ï¼Œä¸æ˜¯ç‰©ç†å±‚ï¼‰ ã€é€šä¿¡è®¾å¤‡ä¸é€šä¿¡æŠ€æœ¯çš„å·®å¼‚æ€§ï¼Œä½¿æ•°æ®é“¾è·¯å±‚åªéœ€è¦è€ƒè™‘æ•°æ®é“¾è·¯å±‚çš„æœåŠ¡ï¼ŒäºŒä¸éœ€è¦è€ƒè™‘ç‰©ç†å±‚çš„åŠŸèƒ½çš„å…·ä½“æ˜¯ä½¿ç”¨äº†é‚£ç§ä¼ è¾“ä»‹è´¨ã€é€šä¿¡è®¾å¤‡ä¸æŠ€æœ¯å®ç°ã€‚</p><p>ç‰©ç†å±‚å±è”½ç¡¬ä»¶ï¼Œæä¾›æ¥å£ï¼Œæ‰€ä»¥ç‰©ç†å±‚ç±»ä¼¼äºOSï¼Œè€Œä¸æ˜¯ç¡¬ä»¶å±‚é¢</p><h3>2.1.2 ç‰©ç†å±‚åè®®çš„ç±»å‹</h3><p>ã€‚ã€‚ã€‚</p><h3>2.1.3 ç‰©ç†å±‚å‘æ•°æ®é“¾è·¯å±‚æä¾›çš„æœåŠ¡</h3><p>ç‰©ç†å±‚ä¼ è¾“çš„æ˜¯æ¯”ç‰¹</p><p>ä½†æ˜¯è¦æ³¨æ„</p><p><strong>ä¼ è¾“ä»‹è´¨</strong>ä¸å¯èƒ½ä¼ è¾“æ¯”ç‰¹ğŸ˜‚ï¼Œä¼ è¾“çš„æ˜¯ç”µä¿¡å·</p><p>ç‰©ç†å±‚ä¼ è¾“çš„å•ä½å’Œä¼ è¾“ä»‹è´¨ä¸­ä¼ è¾“çš„ä¸œè¥¿ï¼Œä¸æ˜¯åŒä¸€ä¸ªä¸œè¥¿</p><p><br/></p></blockquote></li></ul><h2>2.2 æ•°æ®é€šä¿¡çš„åŸºæœ¬æ¦‚å¿µ</h2><p>è¿™é‡Œå…ˆæŠŠåé¢è¦è®²çš„ä¸œè¥¿åšä¸€ä¸ªæ¦‚è¿°ï¼š</p><blockquote><p>æ•°å­—ä¿¡å·ã€æ¨¡æ‹Ÿä¿¡å·  ä»¥åŠä¼ è¾“æ–¹å¼ï¼š(é‡è¦)</p><p><img alt=\"image-20200923104828592\" src=\"https://gitee.com/faro/images/raw/master/img/image-20200923104828592.png\"/></p><p><img alt=\"image-20200923105354030\" src=\"https://gitee.com/faro/images/raw/master/img/image-20200923105354030.png\"/></p></blockquote><h3>2.2.1 ä¿¡æ¯ã€æ•°æ®ä¸ä¿¡å·</h3><ul><li><p>ä¿¡æ¯ã€æ•°æ®ã€ä¿¡å·åŸºæœ¬æ¦‚å¿µï¼š</p><blockquote><p>ä¿¡æ¯ï¼šæ•°æ®ï¼Œå›¾åƒï¼Œå£°éŸ³...</p><p>æ•°æ®ï¼šä¿¡æ¯è½¬æ¢æˆçš„äºŒè¿›åˆ¶ä»£ç </p><p>ä¿¡å·ï¼šæ•°æ®çš„äºŒè¿›åˆ¶ä»£ç è½¬æ¢æˆçš„ç”µå¹³æˆ–é¢‘ç‡å˜åŒ–çš„ä¿¡å·</p></blockquote><h3>2.2.2 æ•°æ®é€šä¿¡çš„æ–¹å¼</h3><p>P62</p><h3>2.2.3 ä¼ è¾“ä»‹è´¨ç±»å‹ä¸ç‰¹æ€§</h3><p>P66</p><h3>2.2.4 æ•°æ®ç¼–ç åˆ†ç±»</h3><p>p73</p><p>æ•°æ®ä¸æ•°æ®ç¼–ç æ–¹å¼ï¼š</p><blockquote><p><img alt=\"image-20200923091601118\" src=\"https://gitee.com/faro/images/raw/master/img/image-20200923091601118.png\"/></p></blockquote></li></ul><h2>2.3 é¢‘å¸¦ä¼ è¾“æŠ€æœ¯</h2><h3>2.3.2 æ¨¡æ‹Ÿä¿¡å·ç¼–ç æ–¹å¼</h3><ul><li><p>æ¨¡æ‹Ÿæ•°æ®ä¿¡å·çš„ç¼–ç æ–¹å¼ï¼šæ•°å­—ä¿¡é“åœ¨æ¨¡æ‹Ÿä¿¡é“ä¸Šä¼ è¾“çš„æ–¹å¼</p><blockquote><p><img alt=\"image-20200923092206526\" src=\"file:///Users/faro_z/Library/Application Support/typora-user-images/image-20200923092206526.png?lastModify=1618289237\"/></p><p>ç›¸å¯¹ç¼–ç æ–¹å¼æ¯”ç»å¯¹ç¼–ç æ–¹å¼ æŠ—å¹²æ‰°èƒ½åŠ›æ›´å¼ºï¼Œå› ä¸ºï¼š</p></blockquote><h3>2.3.3 æ³¢ç‰¹ç‡çš„å®šä¹‰</h3><p>å®šä¹‰ï¼šP76</p><blockquote><p>è°ƒåˆ¶é€Ÿç‡ ï¼ˆç”¨Bè¡¨ç¤ºï¼‰</p><p>æ³¢ç‰¹ç‡æè¿°çš„æ˜¯ç å…ƒä¼ è¾“çš„é€Ÿç‡</p><p>æ³¢ç‰¹ç‡ä¸æ¯”ç‰¹ç‡(S) çš„å…³ç³»ï¼šS=log<sub>2</sub>k * B ä¼šè€ƒ</p><p><br/></p><h2>2.4 åŸºå¸¦ä¼ è¾“æŠ€æœ¯ï¼ˆæ•°å­—ä¿¡å·æ•°å­—ä¿¡é“ä¼ è¾“ï¼‰</h2><h3>2.4.1 åŸºå¸¦ä¼ è¾“çš„å®šä¹‰</h3><p>æ•°å­—ä¿¡å·åœ¨æ•°å­—ä¿¡é“çš„ä¼ è¾“ï¼Œï¼ˆä¸ä¸Šé¢é¢‘å¸¦ä¼ è¾“åŒºåˆ†å¼€æ¥ï¼Œé¢‘å¸¦ä¼ è¾“æ˜¯æ•°å­—ä¿¡é“åœ¨æ¨¡æ‹Ÿä¿¡é“ä¸Šä¼ è¾“çš„æ–¹å¼ï¼‰</p><p><br/></p><h3>2.4.2 æ•°å­—æ•°æ®ç¼–ç æ–¹å¼</h3><p>P77</p><p>éå½’é›¶ç ï¼š</p><p>æ›¼å½»æ–¯ç‰¹ç¼–ç ï¼šP77 (ç»å¯¹ä½ç§»)</p><blockquote><p><img alt=\"image-20200923101107175\" src=\"https://gitee.com/faro/images/raw/master/img/image-20200923101107175.png\"/></p></blockquote><p>å·®åˆ†æ›¼å½»æ–¯ç‰¹ç¼–ç ï¼šP78ï¼ˆç›¸å¯¹ä½ç§»ï¼‰</p><blockquote><p>![image-20200923101759678](https://gitee.com/faro/images/raw/master/img/image-20200923101759678.png)</p></blockquote><p>å·®åˆ†æ›¼å½»æ–¯ç‰¹ç¼–ç å¯é çš„åŸå› ï¼š</p><blockquote><p><strong>å› ä¸ºå…¶å°† åŒæ­¥ä¿¡å· ä» ç¼–ç ä¿¡å·(0 1) ä¸­åˆ†ç¦»å‡ºæ¥</strong>(åŸºæœ¬åŸå› )</p></blockquote><h3>2.4.3 è„‰å†²ç¼–ç è°ƒåˆ¶æ–¹å¼ï¼ˆæ¨¡æ‹Ÿä¿¡å·æ•°å­—ä¿¡é“ä¼ è¾“ï¼‰</h3><ul><li><p>è°ƒåˆ¶å™¨ï¼Œæ›¼å½»æ–¯ç‰¹ç¼–ç å™¨ä¸PCMç¼–ç å™¨æ¯”è¾ƒ</p><blockquote><p><img src=\"https://gitee.com/faro/images/raw/master/img/image-20200923105354030.png\"/></p></blockquote></li></ul><p><br/></p><h3>2.4.4 æ¯”ç‰¹ç‡çš„å®šä¹‰</h3><p>ã€‚ã€‚ã€‚P80</p><p><br/></p><h3>2.4.5 ..</h3><p><br/></p><p><br/></p><h3>2.4.5 å¥ˆå¥æ–¯ç‰¹å‡†åˆ™å’Œé¦™æµ“å®šç†</h3><p>P81</p><ul><li><p>å¥ˆå¥æ–¯ç‰¹ï¼š</p></li></ul><blockquote><p><br/></p></blockquote><h2>2.5 å¤šè·¯å¤ç”¨æŠ€æœ¯</h2><ul><li><p>åŒæ­¥æ—¶åˆ†å¤šè·¯å¤ç”¨</p><blockquote><p><img alt=\"image-20200927081943218\" src=\"file:///Users/faro_z/Library/Application Support/typora-user-images/image-20200927081943218.png?lastModify=1618289237\"/></p></blockquote></li></ul></blockquote></li></ul>","success":true}
2021-04-16 00:43:25.129 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2021-04-16 00:43:27.701 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:43:27.701 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:43:27.702 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find/2 GET
2021-04-16 00:43:27.702 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/2 GET
2021-04-16 00:43:27.702 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.findContent
2021-04-16 00:43:27.702 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.find
2021-04-16 00:43:27.702 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:43:27.702 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:43:27.703 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [2]
2021-04-16 00:43:27.703 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [2]
2021-04-16 00:43:27.704 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"description":"é›¶åŸºç¡€å…¥é—¨ Vue å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":2,"name":"Vue å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},"success":true}
2021-04-16 00:43:27.704 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":"<p><span style=\"font-size: 2em;\">ç¬¬äºŒç«  ç‰©ç†å±‚</span><br/></p><h2>2.1 ç‰©ç†å±‚ä¸ç‰©ç†åè®®çš„åŸºæœ¬æ¦‚å¿µ</h2><h3>2.1.1 ç‰©ç†å±‚çš„åŸºæœ¬æœåŠ¡åŠŸèƒ½</h3><ul><li><p>è®¾ç½®ç‰©ç†å±‚çš„ç›®çš„ï¼š P59</p><blockquote><p>å±è”½ç‰©ç†å±‚é‡‡ç”¨çš„ä¼ è¾“ä»‹è´¨ï¼ˆæ‰€ä»¥ä¼ è¾“ä»‹è´¨ï¼Œå¦‚åŒç»çº¿ï¼Œä¸æ˜¯ç‰©ç†å±‚ï¼‰ ã€é€šä¿¡è®¾å¤‡ä¸é€šä¿¡æŠ€æœ¯çš„å·®å¼‚æ€§ï¼Œä½¿æ•°æ®é“¾è·¯å±‚åªéœ€è¦è€ƒè™‘æ•°æ®é“¾è·¯å±‚çš„æœåŠ¡ï¼ŒäºŒä¸éœ€è¦è€ƒè™‘ç‰©ç†å±‚çš„åŠŸèƒ½çš„å…·ä½“æ˜¯ä½¿ç”¨äº†é‚£ç§ä¼ è¾“ä»‹è´¨ã€é€šä¿¡è®¾å¤‡ä¸æŠ€æœ¯å®ç°ã€‚</p><p>ç‰©ç†å±‚å±è”½ç¡¬ä»¶ï¼Œæä¾›æ¥å£ï¼Œæ‰€ä»¥ç‰©ç†å±‚ç±»ä¼¼äºOSï¼Œè€Œä¸æ˜¯ç¡¬ä»¶å±‚é¢</p><h3>2.1.2 ç‰©ç†å±‚åè®®çš„ç±»å‹</h3><p>ã€‚ã€‚ã€‚</p><h3>2.1.3 ç‰©ç†å±‚å‘æ•°æ®é“¾è·¯å±‚æä¾›çš„æœåŠ¡</h3><p>ç‰©ç†å±‚ä¼ è¾“çš„æ˜¯æ¯”ç‰¹</p><p>ä½†æ˜¯è¦æ³¨æ„</p><p><strong>ä¼ è¾“ä»‹è´¨</strong>ä¸å¯èƒ½ä¼ è¾“æ¯”ç‰¹ğŸ˜‚ï¼Œä¼ è¾“çš„æ˜¯ç”µä¿¡å·</p><p>ç‰©ç†å±‚ä¼ è¾“çš„å•ä½å’Œä¼ è¾“ä»‹è´¨ä¸­ä¼ è¾“çš„ä¸œè¥¿ï¼Œä¸æ˜¯åŒä¸€ä¸ªä¸œè¥¿</p><p><br/></p></blockquote></li></ul><h2>2.2 æ•°æ®é€šä¿¡çš„åŸºæœ¬æ¦‚å¿µ</h2><p>è¿™é‡Œå…ˆæŠŠåé¢è¦è®²çš„ä¸œè¥¿åšä¸€ä¸ªæ¦‚è¿°ï¼š</p><blockquote><p>æ•°å­—ä¿¡å·ã€æ¨¡æ‹Ÿä¿¡å·  ä»¥åŠä¼ è¾“æ–¹å¼ï¼š(é‡è¦)</p><p><img alt=\"image-20200923104828592\" src=\"https://gitee.com/faro/images/raw/master/img/image-20200923104828592.png\"/></p><p><img alt=\"image-20200923105354030\" src=\"https://gitee.com/faro/images/raw/master/img/image-20200923105354030.png\"/></p></blockquote><h3>2.2.1 ä¿¡æ¯ã€æ•°æ®ä¸ä¿¡å·</h3><ul><li><p>ä¿¡æ¯ã€æ•°æ®ã€ä¿¡å·åŸºæœ¬æ¦‚å¿µï¼š</p><blockquote><p>ä¿¡æ¯ï¼šæ•°æ®ï¼Œå›¾åƒï¼Œå£°éŸ³...</p><p>æ•°æ®ï¼šä¿¡æ¯è½¬æ¢æˆçš„äºŒè¿›åˆ¶ä»£ç </p><p>ä¿¡å·ï¼šæ•°æ®çš„äºŒè¿›åˆ¶ä»£ç è½¬æ¢æˆçš„ç”µå¹³æˆ–é¢‘ç‡å˜åŒ–çš„ä¿¡å·</p></blockquote><h3>2.2.2 æ•°æ®é€šä¿¡çš„æ–¹å¼</h3><p>P62</p><h3>2.2.3 ä¼ è¾“ä»‹è´¨ç±»å‹ä¸ç‰¹æ€§</h3><p>P66</p><h3>2.2.4 æ•°æ®ç¼–ç åˆ†ç±»</h3><p>p73</p><p>æ•°æ®ä¸æ•°æ®ç¼–ç æ–¹å¼ï¼š</p><blockquote><p><img alt=\"image-20200923091601118\" src=\"https://gitee.com/faro/images/raw/master/img/image-20200923091601118.png\"/></p></blockquote></li></ul><h2>2.3 é¢‘å¸¦ä¼ è¾“æŠ€æœ¯</h2><h3>2.3.2 æ¨¡æ‹Ÿä¿¡å·ç¼–ç æ–¹å¼</h3><ul><li><p>æ¨¡æ‹Ÿæ•°æ®ä¿¡å·çš„ç¼–ç æ–¹å¼ï¼šæ•°å­—ä¿¡é“åœ¨æ¨¡æ‹Ÿä¿¡é“ä¸Šä¼ è¾“çš„æ–¹å¼</p><blockquote><p><img alt=\"image-20200923092206526\" src=\"file:///Users/faro_z/Library/Application Support/typora-user-images/image-20200923092206526.png?lastModify=1618289237\"/></p><p>ç›¸å¯¹ç¼–ç æ–¹å¼æ¯”ç»å¯¹ç¼–ç æ–¹å¼ æŠ—å¹²æ‰°èƒ½åŠ›æ›´å¼ºï¼Œå› ä¸ºï¼š</p></blockquote><h3>2.3.3 æ³¢ç‰¹ç‡çš„å®šä¹‰</h3><p>å®šä¹‰ï¼šP76</p><blockquote><p>è°ƒåˆ¶é€Ÿç‡ ï¼ˆç”¨Bè¡¨ç¤ºï¼‰</p><p>æ³¢ç‰¹ç‡æè¿°çš„æ˜¯ç å…ƒä¼ è¾“çš„é€Ÿç‡</p><p>æ³¢ç‰¹ç‡ä¸æ¯”ç‰¹ç‡(S) çš„å…³ç³»ï¼šS=log<sub>2</sub>k * B ä¼šè€ƒ</p><p><br/></p><h2>2.4 åŸºå¸¦ä¼ è¾“æŠ€æœ¯ï¼ˆæ•°å­—ä¿¡å·æ•°å­—ä¿¡é“ä¼ è¾“ï¼‰</h2><h3>2.4.1 åŸºå¸¦ä¼ è¾“çš„å®šä¹‰</h3><p>æ•°å­—ä¿¡å·åœ¨æ•°å­—ä¿¡é“çš„ä¼ è¾“ï¼Œï¼ˆä¸ä¸Šé¢é¢‘å¸¦ä¼ è¾“åŒºåˆ†å¼€æ¥ï¼Œé¢‘å¸¦ä¼ è¾“æ˜¯æ•°å­—ä¿¡é“åœ¨æ¨¡æ‹Ÿä¿¡é“ä¸Šä¼ è¾“çš„æ–¹å¼ï¼‰</p><p><br/></p><h3>2.4.2 æ•°å­—æ•°æ®ç¼–ç æ–¹å¼</h3><p>P77</p><p>éå½’é›¶ç ï¼š</p><p>æ›¼å½»æ–¯ç‰¹ç¼–ç ï¼šP77 (ç»å¯¹ä½ç§»)</p><blockquote><p><img alt=\"image-20200923101107175\" src=\"https://gitee.com/faro/images/raw/master/img/image-20200923101107175.png\"/></p></blockquote><p>å·®åˆ†æ›¼å½»æ–¯ç‰¹ç¼–ç ï¼šP78ï¼ˆç›¸å¯¹ä½ç§»ï¼‰</p><blockquote><p>![image-20200923101759678](https://gitee.com/faro/images/raw/master/img/image-20200923101759678.png)</p></blockquote><p>å·®åˆ†æ›¼å½»æ–¯ç‰¹ç¼–ç å¯é çš„åŸå› ï¼š</p><blockquote><p><strong>å› ä¸ºå…¶å°† åŒæ­¥ä¿¡å· ä» ç¼–ç ä¿¡å·(0 1) ä¸­åˆ†ç¦»å‡ºæ¥</strong>(åŸºæœ¬åŸå› )</p></blockquote><h3>2.4.3 è„‰å†²ç¼–ç è°ƒåˆ¶æ–¹å¼ï¼ˆæ¨¡æ‹Ÿä¿¡å·æ•°å­—ä¿¡é“ä¼ è¾“ï¼‰</h3><ul><li><p>è°ƒåˆ¶å™¨ï¼Œæ›¼å½»æ–¯ç‰¹ç¼–ç å™¨ä¸PCMç¼–ç å™¨æ¯”è¾ƒ</p><blockquote><p><img src=\"https://gitee.com/faro/images/raw/master/img/image-20200923105354030.png\"/></p></blockquote></li></ul><p><br/></p><h3>2.4.4 æ¯”ç‰¹ç‡çš„å®šä¹‰</h3><p>ã€‚ã€‚ã€‚P80</p><p><br/></p><h3>2.4.5 ..</h3><p><br/></p><p><br/></p><h3>2.4.5 å¥ˆå¥æ–¯ç‰¹å‡†åˆ™å’Œé¦™æµ“å®šç†</h3><p>P81</p><ul><li><p>å¥ˆå¥æ–¯ç‰¹ï¼š</p></li></ul><blockquote><p><br/></p></blockquote><h2>2.5 å¤šè·¯å¤ç”¨æŠ€æœ¯</h2><ul><li><p>åŒæ­¥æ—¶åˆ†å¤šè·¯å¤ç”¨</p><blockquote><p><img alt=\"image-20200927081943218\" src=\"file:///Users/faro_z/Library/Application Support/typora-user-images/image-20200927081943218.png?lastModify=1618289237\"/></p></blockquote></li></ul></blockquote></li></ul>","success":true}
2021-04-16 00:43:27.704 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š3 ms -------------
2021-04-16 00:43:27.705 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2021-04-16 00:43:34.684 INFO  io.lettuce.core.protocol.ConnectionWatchdog       :171  [32m                  [0;39m Reconnecting, last destination was r-uf6ljbcdaxobsifyctpd.redis.rds.aliyuncs.com/47.103.172.100:6379
2021-04-16 00:43:34.870 INFO  io.lettuce.core.protocol.ReconnectionHandler      :164  [32m                  [0;39m Reconnected to r-uf6ljbcdaxobsifyctpd.redis.rds.aliyuncs.com:6379
2021-04-16 00:43:40.077 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:43:40.078 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/list GET
2021-04-16 00:43:40.079 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.list
2021-04-16 00:43:40.079 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:43:40.080 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":4}]
2021-04-16 00:43:40.091 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"list":[{"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Vue å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":2,"name":"Vue å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Python å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":3,"name":"Python å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Mysql å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":4,"name":"Mysql å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0}],"total":7},"success":true}
2021-04-16 00:43:40.091 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š14 ms -------------
2021-04-16 00:43:40.610 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:43:40.610 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/list GET
2021-04-16 00:43:40.610 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.list
2021-04-16 00:43:40.610 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:43:40.611 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":4}]
2021-04-16 00:43:40.614 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"list":[{"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Vue å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":2,"name":"Vue å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Python å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":3,"name":"Python å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Mysql å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":4,"name":"Mysql å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0}],"total":7},"success":true}
2021-04-16 00:43:40.614 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2021-04-16 00:43:41.791 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:43:41.791 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:43:41.791 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find/2 GET
2021-04-16 00:43:41.792 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/2 GET
2021-04-16 00:43:41.792 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.find
2021-04-16 00:43:41.792 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.findContent
2021-04-16 00:43:41.792 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:43:41.792 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:43:41.792 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [2]
2021-04-16 00:43:41.792 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [2]
2021-04-16 00:43:41.794 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"description":"é›¶åŸºç¡€å…¥é—¨ Vue å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":2,"name":"Vue å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},"success":true}
2021-04-16 00:43:41.794 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":"<p><span style=\"font-size: 2em;\">ç¬¬äºŒç«  ç‰©ç†å±‚</span><br/></p><h2>2.1 ç‰©ç†å±‚ä¸ç‰©ç†åè®®çš„åŸºæœ¬æ¦‚å¿µ</h2><h3>2.1.1 ç‰©ç†å±‚çš„åŸºæœ¬æœåŠ¡åŠŸèƒ½</h3><ul><li><p>è®¾ç½®ç‰©ç†å±‚çš„ç›®çš„ï¼š P59</p><blockquote><p>å±è”½ç‰©ç†å±‚é‡‡ç”¨çš„ä¼ è¾“ä»‹è´¨ï¼ˆæ‰€ä»¥ä¼ è¾“ä»‹è´¨ï¼Œå¦‚åŒç»çº¿ï¼Œä¸æ˜¯ç‰©ç†å±‚ï¼‰ ã€é€šä¿¡è®¾å¤‡ä¸é€šä¿¡æŠ€æœ¯çš„å·®å¼‚æ€§ï¼Œä½¿æ•°æ®é“¾è·¯å±‚åªéœ€è¦è€ƒè™‘æ•°æ®é“¾è·¯å±‚çš„æœåŠ¡ï¼ŒäºŒä¸éœ€è¦è€ƒè™‘ç‰©ç†å±‚çš„åŠŸèƒ½çš„å…·ä½“æ˜¯ä½¿ç”¨äº†é‚£ç§ä¼ è¾“ä»‹è´¨ã€é€šä¿¡è®¾å¤‡ä¸æŠ€æœ¯å®ç°ã€‚</p><p>ç‰©ç†å±‚å±è”½ç¡¬ä»¶ï¼Œæä¾›æ¥å£ï¼Œæ‰€ä»¥ç‰©ç†å±‚ç±»ä¼¼äºOSï¼Œè€Œä¸æ˜¯ç¡¬ä»¶å±‚é¢</p><h3>2.1.2 ç‰©ç†å±‚åè®®çš„ç±»å‹</h3><p>ã€‚ã€‚ã€‚</p><h3>2.1.3 ç‰©ç†å±‚å‘æ•°æ®é“¾è·¯å±‚æä¾›çš„æœåŠ¡</h3><p>ç‰©ç†å±‚ä¼ è¾“çš„æ˜¯æ¯”ç‰¹</p><p>ä½†æ˜¯è¦æ³¨æ„</p><p><strong>ä¼ è¾“ä»‹è´¨</strong>ä¸å¯èƒ½ä¼ è¾“æ¯”ç‰¹ğŸ˜‚ï¼Œä¼ è¾“çš„æ˜¯ç”µä¿¡å·</p><p>ç‰©ç†å±‚ä¼ è¾“çš„å•ä½å’Œä¼ è¾“ä»‹è´¨ä¸­ä¼ è¾“çš„ä¸œè¥¿ï¼Œä¸æ˜¯åŒä¸€ä¸ªä¸œè¥¿</p><p><br/></p></blockquote></li></ul><h2>2.2 æ•°æ®é€šä¿¡çš„åŸºæœ¬æ¦‚å¿µ</h2><p>è¿™é‡Œå…ˆæŠŠåé¢è¦è®²çš„ä¸œè¥¿åšä¸€ä¸ªæ¦‚è¿°ï¼š</p><blockquote><p>æ•°å­—ä¿¡å·ã€æ¨¡æ‹Ÿä¿¡å·  ä»¥åŠä¼ è¾“æ–¹å¼ï¼š(é‡è¦)</p><p><img alt=\"image-20200923104828592\" src=\"https://gitee.com/faro/images/raw/master/img/image-20200923104828592.png\"/></p><p><img alt=\"image-20200923105354030\" src=\"https://gitee.com/faro/images/raw/master/img/image-20200923105354030.png\"/></p></blockquote><h3>2.2.1 ä¿¡æ¯ã€æ•°æ®ä¸ä¿¡å·</h3><ul><li><p>ä¿¡æ¯ã€æ•°æ®ã€ä¿¡å·åŸºæœ¬æ¦‚å¿µï¼š</p><blockquote><p>ä¿¡æ¯ï¼šæ•°æ®ï¼Œå›¾åƒï¼Œå£°éŸ³...</p><p>æ•°æ®ï¼šä¿¡æ¯è½¬æ¢æˆçš„äºŒè¿›åˆ¶ä»£ç </p><p>ä¿¡å·ï¼šæ•°æ®çš„äºŒè¿›åˆ¶ä»£ç è½¬æ¢æˆçš„ç”µå¹³æˆ–é¢‘ç‡å˜åŒ–çš„ä¿¡å·</p></blockquote><h3>2.2.2 æ•°æ®é€šä¿¡çš„æ–¹å¼</h3><p>P62</p><h3>2.2.3 ä¼ è¾“ä»‹è´¨ç±»å‹ä¸ç‰¹æ€§</h3><p>P66</p><h3>2.2.4 æ•°æ®ç¼–ç åˆ†ç±»</h3><p>p73</p><p>æ•°æ®ä¸æ•°æ®ç¼–ç æ–¹å¼ï¼š</p><blockquote><p><img alt=\"image-20200923091601118\" src=\"https://gitee.com/faro/images/raw/master/img/image-20200923091601118.png\"/></p></blockquote></li></ul><h2>2.3 é¢‘å¸¦ä¼ è¾“æŠ€æœ¯</h2><h3>2.3.2 æ¨¡æ‹Ÿä¿¡å·ç¼–ç æ–¹å¼</h3><ul><li><p>æ¨¡æ‹Ÿæ•°æ®ä¿¡å·çš„ç¼–ç æ–¹å¼ï¼šæ•°å­—ä¿¡é“åœ¨æ¨¡æ‹Ÿä¿¡é“ä¸Šä¼ è¾“çš„æ–¹å¼</p><blockquote><p><img alt=\"image-20200923092206526\" src=\"file:///Users/faro_z/Library/Application Support/typora-user-images/image-20200923092206526.png?lastModify=1618289237\"/></p><p>ç›¸å¯¹ç¼–ç æ–¹å¼æ¯”ç»å¯¹ç¼–ç æ–¹å¼ æŠ—å¹²æ‰°èƒ½åŠ›æ›´å¼ºï¼Œå› ä¸ºï¼š</p></blockquote><h3>2.3.3 æ³¢ç‰¹ç‡çš„å®šä¹‰</h3><p>å®šä¹‰ï¼šP76</p><blockquote><p>è°ƒåˆ¶é€Ÿç‡ ï¼ˆç”¨Bè¡¨ç¤ºï¼‰</p><p>æ³¢ç‰¹ç‡æè¿°çš„æ˜¯ç å…ƒä¼ è¾“çš„é€Ÿç‡</p><p>æ³¢ç‰¹ç‡ä¸æ¯”ç‰¹ç‡(S) çš„å…³ç³»ï¼šS=log<sub>2</sub>k * B ä¼šè€ƒ</p><p><br/></p><h2>2.4 åŸºå¸¦ä¼ è¾“æŠ€æœ¯ï¼ˆæ•°å­—ä¿¡å·æ•°å­—ä¿¡é“ä¼ è¾“ï¼‰</h2><h3>2.4.1 åŸºå¸¦ä¼ è¾“çš„å®šä¹‰</h3><p>æ•°å­—ä¿¡å·åœ¨æ•°å­—ä¿¡é“çš„ä¼ è¾“ï¼Œï¼ˆä¸ä¸Šé¢é¢‘å¸¦ä¼ è¾“åŒºåˆ†å¼€æ¥ï¼Œé¢‘å¸¦ä¼ è¾“æ˜¯æ•°å­—ä¿¡é“åœ¨æ¨¡æ‹Ÿä¿¡é“ä¸Šä¼ è¾“çš„æ–¹å¼ï¼‰</p><p><br/></p><h3>2.4.2 æ•°å­—æ•°æ®ç¼–ç æ–¹å¼</h3><p>P77</p><p>éå½’é›¶ç ï¼š</p><p>æ›¼å½»æ–¯ç‰¹ç¼–ç ï¼šP77 (ç»å¯¹ä½ç§»)</p><blockquote><p><img alt=\"image-20200923101107175\" src=\"https://gitee.com/faro/images/raw/master/img/image-20200923101107175.png\"/></p></blockquote><p>å·®åˆ†æ›¼å½»æ–¯ç‰¹ç¼–ç ï¼šP78ï¼ˆç›¸å¯¹ä½ç§»ï¼‰</p><blockquote><p>![image-20200923101759678](https://gitee.com/faro/images/raw/master/img/image-20200923101759678.png)</p></blockquote><p>å·®åˆ†æ›¼å½»æ–¯ç‰¹ç¼–ç å¯é çš„åŸå› ï¼š</p><blockquote><p><strong>å› ä¸ºå…¶å°† åŒæ­¥ä¿¡å· ä» ç¼–ç ä¿¡å·(0 1) ä¸­åˆ†ç¦»å‡ºæ¥</strong>(åŸºæœ¬åŸå› )</p></blockquote><h3>2.4.3 è„‰å†²ç¼–ç è°ƒåˆ¶æ–¹å¼ï¼ˆæ¨¡æ‹Ÿä¿¡å·æ•°å­—ä¿¡é“ä¼ è¾“ï¼‰</h3><ul><li><p>è°ƒåˆ¶å™¨ï¼Œæ›¼å½»æ–¯ç‰¹ç¼–ç å™¨ä¸PCMç¼–ç å™¨æ¯”è¾ƒ</p><blockquote><p><img src=\"https://gitee.com/faro/images/raw/master/img/image-20200923105354030.png\"/></p></blockquote></li></ul><p><br/></p><h3>2.4.4 æ¯”ç‰¹ç‡çš„å®šä¹‰</h3><p>ã€‚ã€‚ã€‚P80</p><p><br/></p><h3>2.4.5 ..</h3><p><br/></p><p><br/></p><h3>2.4.5 å¥ˆå¥æ–¯ç‰¹å‡†åˆ™å’Œé¦™æµ“å®šç†</h3><p>P81</p><ul><li><p>å¥ˆå¥æ–¯ç‰¹ï¼š</p></li></ul><blockquote><p><br/></p></blockquote><h2>2.5 å¤šè·¯å¤ç”¨æŠ€æœ¯</h2><ul><li><p>åŒæ­¥æ—¶åˆ†å¤šè·¯å¤ç”¨</p><blockquote><p><img alt=\"image-20200927081943218\" src=\"file:///Users/faro_z/Library/Application Support/typora-user-images/image-20200927081943218.png?lastModify=1618289237\"/></p></blockquote></li></ul></blockquote></li></ul>","success":true}
2021-04-16 00:43:41.794 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š3 ms -------------
2021-04-16 00:43:41.794 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š3 ms -------------
2021-04-16 00:43:43.216 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:43:43.225 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/list GET
2021-04-16 00:43:43.226 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.list
2021-04-16 00:43:43.226 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:43:43.227 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":4}]
2021-04-16 00:43:43.230 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"list":[{"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Vue å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":2,"name":"Vue å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Python å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":3,"name":"Python å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Mysql å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":4,"name":"Mysql å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0}],"total":7},"success":true}
2021-04-16 00:43:43.231 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š15 ms -------------
2021-04-16 00:43:44.675 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:43:44.675 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:43:44.675 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2021-04-16 00:43:44.675 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find/1 GET
2021-04-16 00:43:44.675 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.findContent
2021-04-16 00:43:44.675 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.find
2021-04-16 00:43:44.675 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:43:44.675 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:43:44.675 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [1]
2021-04-16 00:43:44.676 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [1]
2021-04-16 00:43:44.677 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},"success":true}
2021-04-16 00:43:44.677 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":"<blockquote>äº‰åšå›½å†…ä½¿ç”¨ä½“éªŒæœ€å¥½çš„å¼€æº Web å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ï¼</blockquote><h1>ä¸ºä½•é€‰æ‹© wangEditor</h1><ul><li>ç®€æ´ã€è½»é‡çº§ã€<a href=\"https://doc.wangeditor.com/\">æ–‡æ¡£</a>é½å…¨</li><li>ä¸‡æ˜Ÿé¡¹ç›®&nbsp;<a href=\"https://github.com/wangeditor-team/wangEditor/releases\">Github Star 1w+</a></li><li>npm å‘¨ä¸‹è½½é‡ 1w+</li><li>CDN æœˆä¸‹è½½é‡ç™¾ä¸‡+ï¼ˆæ¥è‡ª&nbsp;<a href=\"https://www.jsdelivr.com/package/npm/wangeditor\">jsdelivr</a>ï¼‰</li><li>QQ ç¾¤åŠæ—¶ç­”ç–‘</li><li><a href=\"https://doc.wangeditor.com/#%E5%BC%80%E5%8F%91%E4%BA%BA%E5%91%98\">å¼€æºå›¢é˜Ÿ</a>ç»´æŠ¤ï¼Œéä¸ªäººå•å…µä½œæˆ˜</li></ul><h1>åˆè§</h1><p>npm å®‰è£…&nbsp;<code>npm i wangeditor --save</code>&nbsp;ï¼Œå‡ è¡Œä»£ç å³å¯åˆ›å»ºä¸€ä¸ªç¼–è¾‘å™¨ã€‚</p><pre><code>import E from 'wangeditor'\nconst editor = new E('#div1')\neditor.create()</code></pre><p>æ›´å¤šä½¿ç”¨é…ç½®ï¼Œè¯·é˜…è¯»<a href=\"https://doc.wangeditor.com/\">ä½¿ç”¨æ–‡æ¡£</a>ã€‚</p><h1>demo</h1><p>åœ¨çº¿ä½“éªŒ demo å¯åˆ°&nbsp;<a href=\"https://codepen.io/collection/DNmPQV\">codepen.io/collection/DNmPQV</a>&nbsp;ã€‚</p><p>æ³¨æ„ï¼Œå¦‚æœæ‰“ä¸å¼€ï¼Œå¯ä»¥å»æŸ¥çœ‹&nbsp;<a href=\"https://github.com/wangeditor-team/wangEditor/tree/master/examples\">github examples</a>&nbsp;çš„æºç ã€‚</p><h1>æµè§ˆå™¨å…¼å®¹æ€§</h1><ul><li>å…¼å®¹ä¸»æµ PC æµè§ˆå™¨ï¼ŒIE11+</li><li>ä¸æ”¯æŒç§»åŠ¨ç«¯å’Œ ipad</li></ul><h1>é‡åˆ°é—®é¢˜</h1><ul><li>åŠ å…¥ QQ ç¾¤ï¼š164999061(äººå·²æ»¡)ï¼Œ710646022(äººå·²æ»¡)ï¼Œ901247714</li><li><a href=\"https://github.com/wangeditor-team/wangEditor/issues\" target=\"_blank\">æäº¤é—®é¢˜å’Œå»ºè®®</a></li></ul><h1>è´¡çŒ®ä»£ç </h1><p>æ¬¢è¿éå›¢é˜Ÿæˆå‘˜è´¡çŒ®ä»£ç ï¼Œæäº¤ Pull Requestï¼Œè¯·ä¸€å®šå‚è€ƒ<a href=\"https://github.com/wangeditor-team/wangEditor/blob/master/docs/contribution.md\" target=\"_blank\">è´¡çŒ®ä»£ç æµç¨‹</a>ã€‚</p><h1>è°åœ¨ç»´æŠ¤</h1><p>wangEditor ç°æœ‰ä¸€ä¸ªå¼€æºå›¢é˜Ÿåœ¨ç»´æŠ¤ï¼Œå›¢é˜Ÿå¯ä»¥ä¿è¯ç­”ç–‘ã€bug ä¿®å¤å’Œè¿­ä»£æ•ˆç‡ã€‚</p><p><a href=\"https://doc.wangeditor.com/#%E5%BC%80%E5%8F%91%E4%BA%BA%E5%91%98\">æŸ¥çœ‹å¼€å‘å›¢é˜Ÿï¼Œæˆ–æƒ³åŠ å…¥å¼€å‘å›¢é˜Ÿ</a></p><h1>ä¸ºæˆ‘ä»¬ç‚¹èµ</h1><p>å¦‚æœä½ æ„Ÿè§‰æœ‰æ”¶è·ï¼Œæ¬¢è¿ç»™æˆ‘æ‰“èµï¼Œä»¥æ¿€åŠ±æˆ‘ä»¬æ›´å¤šè¾“å‡ºä¼˜è´¨å¼€æºå†…å®¹ã€‚</p><p><img src=\"https://www.wangeditor.com/imgs/ali-pay.jpeg\"/>&nbsp;<img src=\"https://www.wangeditor.com/imgs/wechat-pay.jpeg\"/></p><p><br/></p>","success":true}
2021-04-16 00:43:44.677 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š2 ms -------------
2021-04-16 00:43:44.677 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š2 ms -------------
2021-04-16 00:43:46.820 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:43:46.821 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:43:46.821 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2021-04-16 00:43:46.821 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find/1 GET
2021-04-16 00:43:46.822 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.findContent
2021-04-16 00:43:46.822 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.find
2021-04-16 00:43:46.822 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:43:46.822 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:43:46.822 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [1]
2021-04-16 00:43:46.822 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [1]
2021-04-16 00:43:46.824 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":"<blockquote>äº‰åšå›½å†…ä½¿ç”¨ä½“éªŒæœ€å¥½çš„å¼€æº Web å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ï¼</blockquote><h1>ä¸ºä½•é€‰æ‹© wangEditor</h1><ul><li>ç®€æ´ã€è½»é‡çº§ã€<a href=\"https://doc.wangeditor.com/\">æ–‡æ¡£</a>é½å…¨</li><li>ä¸‡æ˜Ÿé¡¹ç›®&nbsp;<a href=\"https://github.com/wangeditor-team/wangEditor/releases\">Github Star 1w+</a></li><li>npm å‘¨ä¸‹è½½é‡ 1w+</li><li>CDN æœˆä¸‹è½½é‡ç™¾ä¸‡+ï¼ˆæ¥è‡ª&nbsp;<a href=\"https://www.jsdelivr.com/package/npm/wangeditor\">jsdelivr</a>ï¼‰</li><li>QQ ç¾¤åŠæ—¶ç­”ç–‘</li><li><a href=\"https://doc.wangeditor.com/#%E5%BC%80%E5%8F%91%E4%BA%BA%E5%91%98\">å¼€æºå›¢é˜Ÿ</a>ç»´æŠ¤ï¼Œéä¸ªäººå•å…µä½œæˆ˜</li></ul><h1>åˆè§</h1><p>npm å®‰è£…&nbsp;<code>npm i wangeditor --save</code>&nbsp;ï¼Œå‡ è¡Œä»£ç å³å¯åˆ›å»ºä¸€ä¸ªç¼–è¾‘å™¨ã€‚</p><pre><code>import E from 'wangeditor'\nconst editor = new E('#div1')\neditor.create()</code></pre><p>æ›´å¤šä½¿ç”¨é…ç½®ï¼Œè¯·é˜…è¯»<a href=\"https://doc.wangeditor.com/\">ä½¿ç”¨æ–‡æ¡£</a>ã€‚</p><h1>demo</h1><p>åœ¨çº¿ä½“éªŒ demo å¯åˆ°&nbsp;<a href=\"https://codepen.io/collection/DNmPQV\">codepen.io/collection/DNmPQV</a>&nbsp;ã€‚</p><p>æ³¨æ„ï¼Œå¦‚æœæ‰“ä¸å¼€ï¼Œå¯ä»¥å»æŸ¥çœ‹&nbsp;<a href=\"https://github.com/wangeditor-team/wangEditor/tree/master/examples\">github examples</a>&nbsp;çš„æºç ã€‚</p><h1>æµè§ˆå™¨å…¼å®¹æ€§</h1><ul><li>å…¼å®¹ä¸»æµ PC æµè§ˆå™¨ï¼ŒIE11+</li><li>ä¸æ”¯æŒç§»åŠ¨ç«¯å’Œ ipad</li></ul><h1>é‡åˆ°é—®é¢˜</h1><ul><li>åŠ å…¥ QQ ç¾¤ï¼š164999061(äººå·²æ»¡)ï¼Œ710646022(äººå·²æ»¡)ï¼Œ901247714</li><li><a href=\"https://github.com/wangeditor-team/wangEditor/issues\" target=\"_blank\">æäº¤é—®é¢˜å’Œå»ºè®®</a></li></ul><h1>è´¡çŒ®ä»£ç </h1><p>æ¬¢è¿éå›¢é˜Ÿæˆå‘˜è´¡çŒ®ä»£ç ï¼Œæäº¤ Pull Requestï¼Œè¯·ä¸€å®šå‚è€ƒ<a href=\"https://github.com/wangeditor-team/wangEditor/blob/master/docs/contribution.md\" target=\"_blank\">è´¡çŒ®ä»£ç æµç¨‹</a>ã€‚</p><h1>è°åœ¨ç»´æŠ¤</h1><p>wangEditor ç°æœ‰ä¸€ä¸ªå¼€æºå›¢é˜Ÿåœ¨ç»´æŠ¤ï¼Œå›¢é˜Ÿå¯ä»¥ä¿è¯ç­”ç–‘ã€bug ä¿®å¤å’Œè¿­ä»£æ•ˆç‡ã€‚</p><p><a href=\"https://doc.wangeditor.com/#%E5%BC%80%E5%8F%91%E4%BA%BA%E5%91%98\">æŸ¥çœ‹å¼€å‘å›¢é˜Ÿï¼Œæˆ–æƒ³åŠ å…¥å¼€å‘å›¢é˜Ÿ</a></p><h1>ä¸ºæˆ‘ä»¬ç‚¹èµ</h1><p>å¦‚æœä½ æ„Ÿè§‰æœ‰æ”¶è·ï¼Œæ¬¢è¿ç»™æˆ‘æ‰“èµï¼Œä»¥æ¿€åŠ±æˆ‘ä»¬æ›´å¤šè¾“å‡ºä¼˜è´¨å¼€æºå†…å®¹ã€‚</p><p><img src=\"https://www.wangeditor.com/imgs/ali-pay.jpeg\"/>&nbsp;<img src=\"https://www.wangeditor.com/imgs/wechat-pay.jpeg\"/></p><p><br/></p>","success":true}
2021-04-16 00:43:46.824 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2021-04-16 00:43:46.825 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},"success":true}
2021-04-16 00:43:46.825 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2021-04-16 00:43:47.881 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:43:47.881 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/list GET
2021-04-16 00:43:47.881 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.list
2021-04-16 00:43:47.881 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:43:47.882 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":4}]
2021-04-16 00:43:47.889 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"list":[{"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Vue å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":2,"name":"Vue å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Python å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":3,"name":"Python å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Mysql å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":4,"name":"Mysql å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0}],"total":7},"success":true}
2021-04-16 00:43:47.889 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2021-04-16 00:43:51.001 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:43:51.002 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/list GET
2021-04-16 00:43:51.003 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.list
2021-04-16 00:43:51.004 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:43:51.004 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [{"page":2,"size":4}]
2021-04-16 00:43:51.008 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"list":[{"description":"c++çœŸçš„å¾ˆå®¹æ˜“ï¼Œä¸ä¼šæœ‰äººä¸ä¼šå§ï¼Ÿ","docCount":0,"id":5,"name":"21 å¤©å­¦ä¼šC++","viewCount":0,"voteCount":0},{"description":"å¡é‡Œå¤æ‹‰æ–‡ç« é“¾æ¥","docCount":0,"id":36754863593492480,"name":"å¡é‡Œå¤æ‹‰","viewCount":0,"voteCount":0},{"description":" python,2å¤©å°±å¤Ÿäº†","docCount":0,"id":36776384114331648,"name":"2å¤©å­¦ä¼špython","viewCount":0,"voteCount":0}],"total":7},"success":true}
2021-04-16 00:43:51.009 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2021-04-16 00:43:52.099 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:43:52.099 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find/36754863593492480 GET
2021-04-16 00:43:52.100 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.find
2021-04-16 00:43:52.100 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:43:52.100 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:43:52.100 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/36754863593492480 GET
2021-04-16 00:43:52.100 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [36754863593492480]
2021-04-16 00:43:52.100 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.findContent
2021-04-16 00:43:52.100 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:43:52.100 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [36754863593492480]
2021-04-16 00:43:52.102 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"description":"å¡é‡Œå¤æ‹‰æ–‡ç« é“¾æ¥","docCount":0,"id":36754863593492480,"name":"å¡é‡Œå¤æ‹‰","viewCount":0,"voteCount":0},"success":true}
2021-04-16 00:43:52.102 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":"# Java æ¥å£\n\nè¿™é‡Œä¸è®²ä¸ºä»€ä¹ˆéœ€è¦ä½¿ç”¨æ¥å£ï¼Œå› ä¸ºå¤§éƒ¨åˆ†äººå¼€å‘é‚£ä¹ˆä¹…ï¼Œåº”è¯¥éƒ½äº†è§£ä½¿ç”¨æ¥å£çš„åŸå› å’Œå¥½å¤„äº†å§\n\n\n\n## **1. æ¥å£ä¸­çš„æ–¹æ³•ä¸ç”¨å£°æ˜ä¸º`public`**\n\nè™½ç„¶å†™ä¸Šä¸ä¼šæŠ¥é”™ï¼Œä½†æ˜¯å®Œå…¨æ²¡æœ‰å¿…è¦ï¼Œå› ä¸ºæ¥å£å®ç°çš„æ—¶å€™ï¼Œåªèƒ½æ˜¯`public`\n\næ›´åˆ«æå°†æ¥å£æ–¹æ³•å£°æ˜ä¸º`private`ï¼Œ`protected`äº†ï¼Œç›´æ¥æŠ¥é”™\n\n![image-20210317235222474](https://gitee.com/faro/images/raw/master/img/20210317235222.png)\n\n\n\n## **2. å› ä¸ºæ¥å£å®ç°çš„æ—¶å€™ï¼Œåªèƒ½æ˜¯`public`**\n\né™¤äº†`public`ï¼Œå…¶ä»–ç±»å‹å‡†æŠ¥é”™\n\nä½•å†µä½ å†æƒ³æƒ³ï¼Œå¦‚æœè¦å°†æ¥å£æ–¹æ³•ç”³æ˜ä¸º`private`ï¼Œé‚£å†™è¿™ä¸ªæ¥å£ï¼Œè¿˜æœ‰ä»€ä¹ˆæ„ä¹‰ï¼Ÿ\n\næ¥å£çš„ç›®çš„ï¼Œæœ¬æ¥å°±æ˜¯ä¸ºäº†æ¾è€¦åˆï¼Œå†™æˆ`private`åˆ°å¥½ï¼Œè®©æ–¹æ³•åªèƒ½åœ¨ç±»å†…éƒ¨ä½¿ç”¨äº†ï¼Œé‚£è¿˜æ¾è€¦åˆæ¾ä¸ªé¬¼å•Šã€‚\n\n![image-20210317235447384](https://gitee.com/faro/images/raw/master/img/20210317235447.png)\n\n\n\n## **3. å®ç°å¤šä¸ªæ¥å£çš„é‡åé—®é¢˜**\n\n### 3.1 ä¸¤ä¸ªæ–¹æ³•ä¸€æ¨¡ä¸€æ ·\n\nè¿™é‡Œå®šä¹‰ä¸¤ä¸ªæ¥å£ï¼Œå…¶è‡ªå¸¦çš„æ–¹æ³•ï¼Œ**ä¸€æ¨¡ä¸€æ ·**ï¼ˆä¸€æ¨¡ä¸€æ ·ï¼Œå³æŒ‡`å‡½æ•°å`ï¼Œ`è¿”å›å€¼`ï¼Œ`å‚æ•°ç±»å‹`ï¼Œ`å‚æ•°ä¸ªæ•°`å’Œ`ä¸åŒç±»å‹å‚æ•°çš„æ’åˆ—é¡ºåº`éƒ½ä¸€æ¨¡ä¸€æ ·ï¼Œè¿™äº›æ¡ä»¶ï¼Œ<font color=\"red\">é™¤äº†è¿”å›å€¼</font>å’Œå‡½æ•°åï¼Œå…¶ä½™ä¸‰æ ·ï¼Œæ¯ä¸€æ ·éƒ½æ˜¯ä¿è¯å‡½æ•°èƒ½å¤Ÿé‡è½½çš„æ¡ä»¶ï¼‰\n\n![image-20210318000412331](https://gitee.com/faro/images/raw/master/img/20210318000412.png)\n\n![image-20210318000424942](https://gitee.com/faro/images/raw/master/img/20210318000424.png)\n\né‚£æœ€åå¤šæ¥å£å®ç°çš„æ—¶å€™ï¼Œå…¶å®å°±ç›¸å½“äºåªå®ç°ä¸€ä¸ªæ–¹æ³•ï¼Œæ²¡æœ‰ä»€ä¹ˆå½±å“ï¼Œä¸”éƒ½å¯ä»¥å®ç°å¤šæ€ï¼š\n\n![image-20210318000627167](https://gitee.com/faro/images/raw/master/img/20210318000627.png)\n\n\n\n### 3.2 åªæœ‰è¿”å›ç±»å‹ä¸ä¸€æ ·\n\nä½†æ˜¯ï¼Œå¦‚æœä¸¤ä¸ªæ¥å£å‡½æ•°åå’Œå‚æ•°ä¸ªæ•°éƒ½ä¸€æ ·ï¼Œ**åªæœ‰è¿”å›å€¼ä¸ä¸€æ ·**ï¼Œæ¢å¥è¯è¯´ï¼Œå°±æ˜¯==ä¸æ»¡è¶³åŒºåˆ†å‡½æ•°é‡è½½çš„æ¡ä»¶==ï¼Œé‚£ç¼–è¯‘å™¨å°±ä¼šæŠ¥é”™ï¼š\n\n![image-20210318000846017](https://gitee.com/faro/images/raw/master/img/20210318000846.png)\n\n![image-20210318000859682](https://gitee.com/faro/images/raw/master/img/20210318000859.png)\n\næ­¤æ—¶ï¼Œå› ä¸ºä¸€ä¸ªè¿”å›`int`ï¼Œä¸€ä¸ªä¸è¿”å›ï¼Œé‚£æ¥å£å®ç°å†™`int`ä¹Ÿä¸æ˜¯ï¼Œå†™`void`ä¹Ÿä¸æ˜¯ï¼Œ\n\n![image-20210318000931012](https://gitee.com/faro/images/raw/master/img/20210318000931.png)\n\nåˆå› ä¸ºï¼Œ<font color=\"blue\">æ–¹æ³•è¿”å›çš„ç±»å‹ä¸èƒ½ä½œä¸ºé‡è½½çš„æ ‡å¿—</font>ï¼Œæ‰€ä»¥ï¼Œä¸‹é¢è¿™ç§å†™æ³•ä¹Ÿæ— æµäºäº‹...\n\n![image-20210318001053987](https://gitee.com/faro/images/raw/master/img/20210318001054.png)\n\n\n\n### 3.3 åªæœ‰æ»¡è¶³å‡½æ•°é‡è½½çš„æ¡ä»¶ï¼Œæ¥å£æ‰å¯é‡å\n\nåœ¨  3.1  ä¹Ÿæåˆ°è¿‡ï¼Œ`å‚æ•°ç±»å‹ï¼Œå‚æ•°ä¸ªæ•°ã€ä¸åŒç±»å‹å‚æ•°çš„æ’åˆ—é¡ºåº`è¿™ä¸‰æ ·ï¼Œæ¯æ ·éƒ½å¯ä»¥æˆä¸ºé‡è½½çš„æ¡ä»¶ï¼Œåªè¦æ»¡è¶³ä»»ä½•ä¸€æ ·ï¼Œå°±èƒ½å®ç°åŒå‡½æ•°åæ¥å£çš„å¤šç»§æ‰¿åŠå®ç°ã€‚\n\n","success":true}
2021-04-16 00:43:52.102 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š3 ms -------------
2021-04-16 00:43:52.102 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š2 ms -------------
2021-04-16 00:44:01.308 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:44:01.308 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/list GET
2021-04-16 00:44:01.308 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.list
2021-04-16 00:44:01.309 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:44:01.309 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":4}]
2021-04-16 00:44:01.317 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"list":[{"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Vue å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":2,"name":"Vue å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Python å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":3,"name":"Python å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Mysql å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":4,"name":"Mysql å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0}],"total":7},"success":true}
2021-04-16 00:44:01.318 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š10 ms -------------
2021-04-16 00:44:03.050 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:44:03.051 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find/1 GET
2021-04-16 00:44:03.052 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.find
2021-04-16 00:44:03.052 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:44:03.052 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:44:03.052 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [1]
2021-04-16 00:44:03.052 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2021-04-16 00:44:03.052 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.findContent
2021-04-16 00:44:03.053 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:44:03.053 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [1]
2021-04-16 00:44:03.054 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},"success":true}
2021-04-16 00:44:03.054 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2021-04-16 00:44:03.055 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":"<blockquote>äº‰åšå›½å†…ä½¿ç”¨ä½“éªŒæœ€å¥½çš„å¼€æº Web å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ï¼</blockquote><h1>ä¸ºä½•é€‰æ‹© wangEditor</h1><ul><li>ç®€æ´ã€è½»é‡çº§ã€<a href=\"https://doc.wangeditor.com/\">æ–‡æ¡£</a>é½å…¨</li><li>ä¸‡æ˜Ÿé¡¹ç›®&nbsp;<a href=\"https://github.com/wangeditor-team/wangEditor/releases\">Github Star 1w+</a></li><li>npm å‘¨ä¸‹è½½é‡ 1w+</li><li>CDN æœˆä¸‹è½½é‡ç™¾ä¸‡+ï¼ˆæ¥è‡ª&nbsp;<a href=\"https://www.jsdelivr.com/package/npm/wangeditor\">jsdelivr</a>ï¼‰</li><li>QQ ç¾¤åŠæ—¶ç­”ç–‘</li><li><a href=\"https://doc.wangeditor.com/#%E5%BC%80%E5%8F%91%E4%BA%BA%E5%91%98\">å¼€æºå›¢é˜Ÿ</a>ç»´æŠ¤ï¼Œéä¸ªäººå•å…µä½œæˆ˜</li></ul><h1>åˆè§</h1><p>npm å®‰è£…&nbsp;<code>npm i wangeditor --save</code>&nbsp;ï¼Œå‡ è¡Œä»£ç å³å¯åˆ›å»ºä¸€ä¸ªç¼–è¾‘å™¨ã€‚</p><pre><code>import E from 'wangeditor'\nconst editor = new E('#div1')\neditor.create()</code></pre><p>æ›´å¤šä½¿ç”¨é…ç½®ï¼Œè¯·é˜…è¯»<a href=\"https://doc.wangeditor.com/\">ä½¿ç”¨æ–‡æ¡£</a>ã€‚</p><h1>demo</h1><p>åœ¨çº¿ä½“éªŒ demo å¯åˆ°&nbsp;<a href=\"https://codepen.io/collection/DNmPQV\">codepen.io/collection/DNmPQV</a>&nbsp;ã€‚</p><p>æ³¨æ„ï¼Œå¦‚æœæ‰“ä¸å¼€ï¼Œå¯ä»¥å»æŸ¥çœ‹&nbsp;<a href=\"https://github.com/wangeditor-team/wangEditor/tree/master/examples\">github examples</a>&nbsp;çš„æºç ã€‚</p><h1>æµè§ˆå™¨å…¼å®¹æ€§</h1><ul><li>å…¼å®¹ä¸»æµ PC æµè§ˆå™¨ï¼ŒIE11+</li><li>ä¸æ”¯æŒç§»åŠ¨ç«¯å’Œ ipad</li></ul><h1>é‡åˆ°é—®é¢˜</h1><ul><li>åŠ å…¥ QQ ç¾¤ï¼š164999061(äººå·²æ»¡)ï¼Œ710646022(äººå·²æ»¡)ï¼Œ901247714</li><li><a href=\"https://github.com/wangeditor-team/wangEditor/issues\" target=\"_blank\">æäº¤é—®é¢˜å’Œå»ºè®®</a></li></ul><h1>è´¡çŒ®ä»£ç </h1><p>æ¬¢è¿éå›¢é˜Ÿæˆå‘˜è´¡çŒ®ä»£ç ï¼Œæäº¤ Pull Requestï¼Œè¯·ä¸€å®šå‚è€ƒ<a href=\"https://github.com/wangeditor-team/wangEditor/blob/master/docs/contribution.md\" target=\"_blank\">è´¡çŒ®ä»£ç æµç¨‹</a>ã€‚</p><h1>è°åœ¨ç»´æŠ¤</h1><p>wangEditor ç°æœ‰ä¸€ä¸ªå¼€æºå›¢é˜Ÿåœ¨ç»´æŠ¤ï¼Œå›¢é˜Ÿå¯ä»¥ä¿è¯ç­”ç–‘ã€bug ä¿®å¤å’Œè¿­ä»£æ•ˆç‡ã€‚</p><p><a href=\"https://doc.wangeditor.com/#%E5%BC%80%E5%8F%91%E4%BA%BA%E5%91%98\">æŸ¥çœ‹å¼€å‘å›¢é˜Ÿï¼Œæˆ–æƒ³åŠ å…¥å¼€å‘å›¢é˜Ÿ</a></p><h1>ä¸ºæˆ‘ä»¬ç‚¹èµ</h1><p>å¦‚æœä½ æ„Ÿè§‰æœ‰æ”¶è·ï¼Œæ¬¢è¿ç»™æˆ‘æ‰“èµï¼Œä»¥æ¿€åŠ±æˆ‘ä»¬æ›´å¤šè¾“å‡ºä¼˜è´¨å¼€æºå†…å®¹ã€‚</p><p><img src=\"https://www.wangeditor.com/imgs/ali-pay.jpeg\"/>&nbsp;<img src=\"https://www.wangeditor.com/imgs/wechat-pay.jpeg\"/></p><p><br/></p>","success":true}
2021-04-16 00:44:03.055 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š3 ms -------------
2021-04-16 00:45:06.961 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:45:06.962 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:45:06.962 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find/1 GET
2021-04-16 00:45:06.962 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2021-04-16 00:45:06.962 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.findContent
2021-04-16 00:45:06.962 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.find
2021-04-16 00:45:06.963 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:45:06.963 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:45:06.963 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [1]
2021-04-16 00:45:06.963 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [1]
2021-04-16 00:45:06.965 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},"success":true}
2021-04-16 00:45:06.965 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2021-04-16 00:45:06.969 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":"# å®Œæ•´é¡¹ç›®æ­å»ºæµç¨‹\n\nè™½è¯´ SpringBoot ç›¸è¾ƒäº SSM æ¡†æ¶ï¼Œå¤§å¤§å‡è½»äº†é…ç½®çš„ç¹çï¼Œä½†æ˜¯ï¼Œè¦æ•´åˆ MyBatis ï¼Œç»Ÿä¸€å¼‚å¸¸å¤„ç†ï¼ŒVueç­‰ä¸€ç³»åˆ—ä¸œè¥¿ï¼Œè¿˜æ˜¯è¦è´¹ä¸€ç•ªåŠ²çš„ã€‚\n\nè¿™æ¬¡å°†åˆ›å»ºçš„æ•´ä¸ªæµç¨‹è®°å½•ä¸‹æ¥ï¼Œæ–¹ä¾¿ä»¥åçš„é¡¹ç›®æ­å»ºã€‚\n\nè¦æ­å»ºä¸€ä¸ªå®Œæˆçš„å‰åç«¯åˆ†ç¦»é¡¹ç›®ï¼Œåˆ†ä¸ºè¿™ä¹ˆå‡ ä¸ªéƒ¨åˆ†ï¼š==æ•°æ®åº“ã€åç«¯ã€å‰ç«¯==\n\nå¦‚æœæ˜¯ä¸ºå¾®ä¿¡å°ç¨‹åºæ­å»ºä¸€ä¸ªåç«¯æœåŠ¡ï¼Œé‚£å°±åªè¦çœ‹åˆ°==æ•°æ®åº“ã€åç«¯==å°±å¯ä»¥äº†\n\n\n\n## æ•°æ®åº“\n\nä¸€èˆ¬åœ¨æ–°å»ºé¡¹ç›®çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¼šé€‰æ‹©ä¸“é—¨ä¸ºè¿™ä¸ªé¡¹ç›®æ–°å»ºä¸€ä¸ªç”¨æˆ·ï¼Œå¹¶ä¸ºè¿™ä¸ªç”¨æˆ·ï¼Œèµ‹äºˆåªå±äºè¿™ä¸€ä¸ªé¡¹ç›®çš„æ‰€æœ‰æƒé™\n\n\n\n### 1. **è¿æ¥ admin**\n\nåªæœ‰ admin æœ‰æ‰€æœ‰æƒé™\n\næˆ‘çš„æ•°æ®åº“ admin çš„è´¦æˆ·åå’Œå¯†ç æ˜¯ï¼š\n\n**è´¦æˆ·ï¼š**admin\n\n**å¯†ç ï¼š**123\n\n![image-20210411002100312](https://gitee.com/faro/images/raw/master/img/20210411003334.png)\n\n\n\n### 2. **æ–°å»ºæ•°æ®åº“**\n\nå…¶å­—ç¬¦ç±»å‹ä¸€å®šè¦é€‰æ‹©==utf8mb4==ï¼Œè¿™æ‰æ˜¯çœŸæ­£çš„ utf8ï¼Œæ”¯æŒè¡¨æƒ…ç¬¦å·\n\n![image-20210411002304858](https://gitee.com/faro/images/raw/master/img/20210411002304.png)\n\n### 3. **ä¸ºè¿™ä¸ªæ•°æ®åº“ï¼Œä¸“é—¨å»ºä¸€ä¸ªç”¨æˆ·**\n\nå¼€å‘ç¯å¢ƒä¸­ï¼Œå°±å°†å¯†ç å’Œç”¨æˆ·åè®¾ç½®æˆä¸€æ ·çš„ï¼Œè¿™æ ·ä¸ä¼šå¿˜è®°\n\nhost è®¾ç½®ä¸º localhost\n\n![image-20210411002742750](https://gitee.com/faro/images/raw/master/img/20210411002742.png)\n\n\n\n### 4. **ä¸ºè¿™ä¸ªç”¨æˆ·ï¼Œæˆäºˆå¯¹åº”æ•°æ®åº“çš„å…¨éƒ¨æƒé™**\n\n![image-20210411003034426](https://gitee.com/faro/images/raw/master/img/20210411003034.png)\n\n![image-20210411002821790](https://gitee.com/faro/images/raw/master/img/20210414201958.png)\n\n### 5. **å¯¹å½“å‰ç”¨æˆ·ï¼Œå»ºç«‹è¿æ¥**\n\n![image-20210411002945727](https://gitee.com/faro/images/raw/master/img/20210411002945.png)\n\n\n\n\n\n## åç«¯\n\nå…³äº Mavenã€tomcat çš„ä¸‹è½½é…ç½®ï¼Œè¿™é‡Œå°±ä¸è´¹ç¬”å¢¨å»è®²è§£äº†ã€‚å¦‚æœ‰éœ€è¦ï¼Œå¯ä»¥è‡ªè¡Œç™¾åº¦æŸ¥æ‰¾ã€‚\n\n### 1. æ–°å»º SpringBoot é¡¹ç›®\n\n* ç‚¹å‡» `SpringInitiallizr`ï¼Œæ–°å»ºé¡¹ç›®\n\n![image-20210414200239335](https://gitee.com/faro/images/raw/master/img/20210414200239.png)\n\n* é€‰æ‹©é»˜è®¤ä¾èµ–çš„åŒ…\n\n![image-20210414200420395](https://gitee.com/faro/images/raw/master/img/20210414200420.png)\n\n![image-20210414200533694](https://gitee.com/faro/images/raw/master/img/20210414200533.png)\n\n![image-20210414200611051](https://gitee.com/faro/images/raw/master/img/20210414200611.png)\n\n* é€‰æ‹©å­˜æ”¾è·¯å¾„\n\n![image-20210414200656633](https://gitee.com/faro/images/raw/master/img/20210414200656.png)\n\n* æ–°å»ºå®Œæˆåï¼Œé¡¹ç›®ç›®å½•å¦‚ä¸‹\n\n![image-20210414200752152](https://gitee.com/faro/images/raw/master/img/20210414200752.png)\n\n\n\n### 2. æ›´æ”¹å¯åŠ¨ç±»ä½ç½®\n\n* æ–°å»º config åŒ…ï¼Œå°†å¯åŠ¨ç±»æ”¾è¿›å»\n\n![image-20210414201018806](https://gitee.com/faro/images/raw/master/img/20210414201018.png)\n\n\n\n* ä¸ºå¯åŠ¨ç±»æ·»åŠ æ³¨è§£\n\næ³¨è§£å†…çš„ä¿¡æ¯ï¼Œæ˜¯é¡¹ç›®åç§°\n\n```java\n@ComponentScan(\"weixindemo\")\n```\n\n![image-20210414201210978](https://gitee.com/faro/images/raw/master/img/20210414201211.png)\n\n\n\n### 3. IDEA æ•°æ®åº“é…ç½®\n\n* IDEA è¿æ¥æ•°æ®åº“\n\n![image-20210414220153821](https://gitee.com/faro/images/raw/master/img/20210414220153.png)\n\n![image-20210414221502868](https://gitee.com/faro/images/raw/master/img/20210414221502.png)\n\n\n\n* æ·»åŠ  sql è„šæœ¬\n\næ–°å»º sql æ–‡ä»¶å¤¹ï¼Œå»ºç«‹`all.sql`æ–‡ä»¶\n\n![image-20210414221647283](https://gitee.com/faro/images/raw/master/img/20210414221647.png)\n\n\n\næˆ‘ä»¬åœ¨ sql è„šæœ¬ä¸­æ·»åŠ æµ‹è¯•ç”¨æ•°æ®ï¼Œå¹¶æ‰§è¡Œ\n\n```sql\n\n# æµ‹è¯•è¡¨\ndrop table if exists `test`;\ncreate table `test` (\n  `id` bigint not null comment 'id',\n  `name` varchar(50) comment 'åç§°',\n  `password` varchar(50) comment 'å¯†ç ',\n  primary key (`id`)\n) engine=innodb default charset=utf8mb4 comment='æµ‹è¯•';\n\ninsert into `test` (id, name, password) values (1, 'æµ‹è¯•', 'password');       \n```\n\nå¯ä»¥çœ‹åˆ°ï¼Œæ•°æ®åº“å·²å»ºç«‹\n\n![image-20210415000115932](https://gitee.com/faro/images/raw/master/img/20210415000131.png)\n\n\n\n### 4. é…ç½® MyBatis\n\n* åœ¨ `resource`æ–‡ä»¶å¤¹ä¸‹ï¼Œæ–°å»º `mapper`æ–‡ä»¶å¤¹\n\nè¿™æ˜¯ç”¨æ¥å­˜æ”¾ MyBatis çš„å®ç°çš„\n\n![image-20210414201459632](https://gitee.com/faro/images/raw/master/img/20210414201459.png)\n\n\n\n* æ–°å»º pojo åŒ…\n\npojo åŒ…ç”¨æ¥å­˜æ”¾å®ä½“ç±»\n\n![image-20210415000316772](https://gitee.com/faro/images/raw/master/img/20210415000316.png)\n\n\n\n* åœ¨é¡¹ç›®ä¸‹ï¼Œæ–°å»º mapper åŒ…ï¼Œç”¨æ¥å­˜æ”¾æ¥å£\n\n![image-20210415000711989](https://gitee.com/faro/images/raw/master/img/20210415000712.png)\n\n\n\n* å°†é…ç½®æ–‡ä»¶åç¼€æ”¹ä¸º`.yml`\n\næˆ‘ä¸ªäººä¹ æƒ¯ä½¿ç”¨`.yml`è¿›è¡Œä½ç½®\n\n![image-20210414201610045](https://gitee.com/faro/images/raw/master/img/20210414201610.png)\n\n\n\n* æ·»åŠ  `Mybatis`é…ç½®\n\nè¿™é‡Œï¼Œè¦æ·»åŠ æ•°æ®æºï¼Œå’Œ MyBatis çš„é…ç½®ï¼Œéƒ¨åˆ†åœ°æ–¹ï¼Œè¦æ ¹æ®å®é™…é¡¹ç›®ï¼Œè¿›è¡Œä¿®æ”¹\n\n```yml\nspring:\n  datasource:\n    url: jdbc:mysql://localhost:3306/weixindemo?useUnicode=true&characterEncoding=utf-8\n    username: weixindemo\n    password: weixindemo\n    driver-class-name: com.mysql.cj.jdbc.Driver\n    \n    \n# æ•´åˆMybatis\nmybatis:\n  # ** è¡¨ç¤ºåœ¨mapperä¸‹ä¸ç®¡æœ‰å¤šå°‘æ–‡ä»¶å¤¹ï¼Œéƒ½å¯ä»¥å…¨éƒ¨è¯†åˆ«\n  mapper-locations: classpath:/mapper/**/*.xml\n  type-aliases-package: weixindemo.pojo\n  #  æ‰“å°sqlç›¸å…³çš„æ—¥å¿—ä¿¡æ¯\n  configuration:\n    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl\n```\n\n![image-20210415000535841](https://gitee.com/faro/images/raw/master/img/20210415000535.png)\n\n\n\n* æ·»åŠ ç«¯å£é…ç½®\n\nå› ä¸º vue ä¹Ÿæ˜¯ç”¨çš„8080ç«¯å£ï¼Œæˆ‘ä»¬ä¸èƒ½å’Œå®ƒé‡äº†\n\n```yml\nserver:\n  port: 8880\n```\n\n\n\n* å¯åŠ¨ç±»æ·»åŠ `mapper`æ¥å£æ‰«æè·¯å¾„\n\n```java\n@MapperScan(\"weixindemo.mapper\") //mybatis mapperæ¥å£æ‰«æ\n```\n\n![image-20210415000824262](https://gitee.com/faro/images/raw/master/img/20210415000824.png)\n\n\n\n### 5. MVC åŒ…å»ºç«‹\n\næˆ‘ä»¬è¿˜è¦å»ºç«‹ ==service==ï¼Œ==util==ï¼Œ==controller==åŒ…\n\n![image-20210415001226689](https://gitee.com/faro/images/raw/master/img/20210415001226.png)\n\n![image-20210415001237989](https://gitee.com/faro/images/raw/master/img/20210415001238.png)\n\n\n\n### 5. æµ‹è¯• Mybatis é…ç½®\n\né…ç½®åˆ°è¿™ä¸€æ­¥ï¼Œè¦å¯¹ä¹‹å‰çš„é…ç½®ï¼Œè¿›è¡Œä¸€ä¸ªæµ‹è¯•\n\n* pojo ä¸­ï¼Œæ–°å»º Test å®ä½“ç±»\n\n![image-20210415001028711](https://gitee.com/faro/images/raw/master/img/20210415001028.png)\n\n```java\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Test {\n    private Integer id;\n    private String name;\n}\n```\n\n\n\n* mapper åŒ…ä¸­ï¼Œæ–°å»º TestMapper æ¥å£\n\n![image-20210415001403532](https://gitee.com/faro/images/raw/master/img/20210415001420.png)\n\n```java\n@Repository\n@Mapper\npublic interface TestMapper {\n    List<Test> getList();\n}\n```\n\n\n\n* resources ä¸‹çš„ mapper æ–‡ä»¶å¤¹ä¸­ï¼Œå¢åŠ  TestMapper.xml å®ç°\n\n  ![image-20210415002153386](https://gitee.com/faro/images/raw/master/img/20210415002153.png)\n\nå…·ä½“å†…å®¹ï¼Œè¦æ ¹æ®å®é™…é¡¹ç›®ä¿®æ”¹\n\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n<!DOCTYPE mapper PUBLIC \"-//mybatis.org//DTD Mapper 3.0//EN\"\n    \"http://mybatis.org/dtd/mybatis-3-mapper.dtd\">\n\n<!--namespaceè¦å’Œæ¥å£çš„ä½ç½®å’Œåå­—å¯¹åº”-->\n<mapper namespace=\"weixindemo.mapper.TestMapper\">\n\n    <select id=\"getList\" resultType=\"weixindemo.pojo.Test\">\n        select * from test\n    </select>\n\n</mapper>\n```\n\n![image-20210415002240288](https://gitee.com/faro/images/raw/master/img/20210415002240.png)\n\n\n\n* åœ¨ service åŒ…ä¸‹ï¼Œæ–°å»º TestService\n\n![](https://gitee.com/faro/images/raw/master/img/20210415002439.png)\n\nåˆ«å¿˜äº†åŠ ä¸Š @Service æ³¨è§£\n\n```java\n@Service\npublic class TestService {\n\n    @Autowired\n    private TestMapper mapper;\n\n    public List<Test> getList() {\n        return mapper.getList();\n    }\n}\n```\n\n\n\n* åœ¨ controlleråŒ…ä¸‹ï¼Œæ–°å»º TestController\n\n![image-20210415002611361](https://gitee.com/faro/images/raw/master/img/20210415002611.png)\n\n```java\n@RestController\npublic class TestController {\n\n    @Autowired\n    private TestService testService;\n    \n\n    @RequestMapping(\"/test/list\")\n    public List<Test> list() {\n        return testService.getList();\n    }\n\n}\n```\n\n\n\n* é‡å¯é¡¹ç›®\n\n\n\n* æ–°å»º http æ–‡ä»¶ï¼Œç¼–å†™ http æµ‹è¯•è„šæœ¬ï¼Œæ‰§è¡Œ\n\n![image-20210415002803589](https://gitee.com/faro/images/raw/master/img/20210415002803.png)\n\n```http\nGET http://localhost:8880/test/list\nAccept: application/json\n\n###\n```\n\n\n\næœ€åæˆåŠŸä»æ¥å£ä¸­è·å–æ•°æ®åº“ä¸­çš„æ•°æ®ï¼Œè¯´æ˜æˆ‘ä»¬ä¹‹å‰é…ç½®çš„éƒ½æ²¡æœ‰é”™è¯¯ï¼Œå¯ä»¥è¿›è¡Œä¸‹é¢çš„æ“ä½œ\n\n![image-20210415003021769](https://gitee.com/faro/images/raw/master/img/20210415003021.png)\n\n\n\n### 6. MyBatis ä»£ç ç”Ÿæˆå™¨\n\næˆ‘ä»¬ä¸å¯èƒ½å»å†™æ‰€æœ‰æŒä¹…å±‚çš„å®ç°ï¼Œä¸šåŠ¡ä¸­ï¼Œè¿™éƒ¨åˆ†éƒ½æ˜¯è‡ªåŠ¨ç”Ÿæˆçš„\n\n\n\n* å¯¼å…¥ Maven ä¾èµ–\n\næ³¨æ„ï¼Œ==æ˜¯æ”¾åœ¨`plugiuns`ä¸‹é¢çš„==\n\n```xml\n<!-- mybatis generator è‡ªåŠ¨ç”Ÿæˆä»£ç æ’ä»¶ -->\n            <plugin>\n                <groupId>org.mybatis.generator</groupId>\n                <artifactId>mybatis-generator-maven-plugin</artifactId>\n                <version>1.4.0</version>\n                <configuration>\n                    <configurationFile>src/main/resources/generator/generator-config.xml</configurationFile>\n                    <overwrite>true</overwrite>\n                    <verbose>true</verbose>\n                </configuration>\n                <dependencies>\n                    <dependency>\n                        <groupId>mysql</groupId>\n                        <artifactId>mysql-connector-java</artifactId>\n                        <version>8.0.22</version>\n                    </dependency>\n                </dependencies>\n            </plugin>\n```\n\n\n\n* å»ºç«‹ä»£ç”Ÿæˆå™¨ä½ç½®\n\npomæ–‡ä»¶ä¸­ï¼Œæ˜¾ç¤ºäº†è¦åˆ›å»ºçš„ä»£ç ç”Ÿæˆå™¨çš„ä½ç½®`src/main/resources/generator/generator-config.xml`\n\n```xml\n<configurationFile>\n  src/main/resources/generator/generator-config.xml\n</configurationFile>\n```\n\n![image-20210323131202189](https://gitee.com/faro/images/raw/master/img/20210323131202.png)\n\n\n\n* ä»£ç ç”Ÿæˆå™¨ä»£ç \n\nä»`jdbcConnection`å¼€å§‹ï¼Œåˆ«å¿˜äº†==æ ¹æ®é¡¹ç›®è¿›è¡Œä¿®æ”¹==\n\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<!DOCTYPE generatorConfiguration\n        PUBLIC \"-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN\"\n        \"http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd\">\n\n<generatorConfiguration>\n    <context id=\"Mysql\" targetRuntime=\"MyBatis3\" defaultModelType=\"flat\">\n\n        <!-- è‡ªåŠ¨æ£€æŸ¥å…³é”®å­—ï¼Œä¸ºå…³é”®å­—å¢åŠ åå¼•å· -->\n        <property name=\"autoDelimitKeywords\" value=\"true\"/>\n        <property name=\"beginningDelimiter\" value=\"`\"/>\n        <property name=\"endingDelimiter\" value=\"`\"/>\n\n        <!--è¦†ç›–ç”ŸæˆXMLæ–‡ä»¶-->\n        <plugin type=\"org.mybatis.generator.plugins.UnmergeableXmlMappersPlugin\" />\n        <!-- ç”Ÿæˆçš„å®ä½“ç±»æ·»åŠ toString()æ–¹æ³• -->\n        <plugin type=\"org.mybatis.generator.plugins.ToStringPlugin\"/>\n\n        <!-- ä¸ç”Ÿæˆæ³¨é‡Š -->\n        <commentGenerator>\n            <property name=\"suppressAllComments\" value=\"true\"/>\n        </commentGenerator>\n\n        <jdbcConnection driverClass=\"com.mysql.cj.jdbc.Driver\"\n                        connectionURL=\"jdbc:mysql://localhost:3306/wiki?useUnicode=true&amp;characterEncoding=utf-8\"\n                        userId=\"wiki\"\n                        password=\"123456\">\n        </jdbcConnection>\n\n        <!-- domainç±»çš„ä½ç½® -->\n        <javaModelGenerator targetProject=\"src/main/java\"\n                            targetPackage=\"top.faroz.pojo\"/>\n\n        <!-- mapper xmlçš„ä½ç½® -->\n        <sqlMapGenerator targetProject=\"src/main/resources\"\n                         targetPackage=\"mapper\"/>\n\n        <!-- mapperç±»çš„ä½ç½® -->\n        <javaClientGenerator targetProject=\"src/main/java\"\n                             targetPackage=\"top.faroz.mapper\"\n                             type=\"XMLMAPPER\"/>\n\n        <table tableName=\"demo\" domainObjectName=\"Demo\"/>\n        <!--<table tableName=\"ebook\"/>-->\n        <!--<table tableName=\"category\"/>-->\n        <!--<table tableName=\"doc\"/>-->\n        <!--<table tableName=\"content\"/>-->\n        <!--<table tableName=\"user\"/>-->\n        <!--<table tableName=\"ebook_snapshot\"/>-->\n    </context>\n</generatorConfiguration>\n```\n\n\n\n* æ–°å»ºä¸€ä¸ªmavenå¯åŠ¨é¡¹\n\n![image-20210411015300856](https://gitee.com/faro/images/raw/master/img/20210411015300.png)\n\n![image-20210411015346116](https://gitee.com/faro/images/raw/master/img/20210411015346.png)\n\n```bash\nmybatis-generator:generate -e\n```\n\n![image-20210411015516818](https://gitee.com/faro/images/raw/master/img/20210411015516.png)\n\n\n\n### 7. æµ‹è¯•ä»£ç ç”Ÿæˆå™¨\n\nä»£ç ç”Ÿæˆå™¨çš„å·¥ä½œåŸç†ï¼Œæ˜¯ä»æ•°æ®åº“ä¸­å–å‡ºè¡¨ä¿¡æ¯ï¼Œç„¶åæ ¹æ®è¡¨ä¿¡æ¯ï¼Œå»æ„é€ æŒä¹…å±‚ä»£ç ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬è¦å†å»å»ºä¸€ä¸ªè¡¨\n\n\n\n* all.sql æ·»åŠ  demo è¡¨çš„å¢åŠ  SQL è¯­å¥ï¼Œå¹¶æ‰§è¡Œ\n\n```sql\n# demoåˆ—è¡¨\ndrop table if exists `demo`;\ncreate table `demo` (\n    `id` bigint not null comment 'id',\n    `name` varchar(50) comment 'åç§°',\n    primary key (`id`)\n) engine=innodb default charset =utf8mb4 comment 'æµ‹è¯•';\n\ninsert into `demo` (id,name) values(2,'æµ‹è¯•2');\n```\n\n\n\n* åœ¨ä»£ç ç”Ÿæˆå™¨æœ€åçš„éƒ¨åˆ†ï¼Œå¡«ä¸Šè¦ç”Ÿæˆçš„è¡¨å\n\n![image-20210415012438872](https://gitee.com/faro/images/raw/master/img/20210415012439.png)\n\n\n\n* æ‰§è¡Œ\n\n![image-20210415012552449](https://gitee.com/faro/images/raw/master/img/20210415012552.png)\n\n\n\n* æ‰§è¡ŒæˆåŠŸï¼Œä¼šç”Ÿæˆ 4 ä¸ªæ–°æ–‡ä»¶\n\n![image-20210415012630004](https://gitee.com/faro/images/raw/master/img/20210415012630.png)\n\n\n\n* æˆ‘ä»¬æ¨¡ä»¿ Testï¼Œå»å†™ Demoçš„ Service å’Œ Controller ä»£ç \n\n```java\n@RestController\npublic class DemoController {\n\n    @Autowired\n    private DemoService demoService;\n\n    @RequestMapping(\"/demo/list\")\n    public List<Demo> list() {\n        return demoService.getList();\n    }\n}\n```\n\n```java\n@Service\npublic class DemoService {\n\n    @Resource\n    private DemoMapper demoMapper;\n\n    public List<Demo> getList() {\n        List<Demo> list = demoMapper.selectByExample(null);\n        return list;\n    }\n}\n```\n\n\n\n* æ·»åŠ  demo çš„ http æµ‹è¯•è„šæœ¬\n\n```http\nGET http://localhost:8880/demo/list\nAccept: application/json\n\n###\n```\n\næµ‹è¯•æˆåŠŸï¼Œè¯´æ˜æˆ‘ä»¬ç”¨ä»£ç ç”Ÿæˆå™¨ç”Ÿæˆçš„ä»£ç æ²¡æœ‰é—®é¢˜\n\n![image-20210415013323695](https://gitee.com/faro/images/raw/master/img/20210415013323.png)\n\n\n\n### 8. è§£å†³å‰åç«¯è·¨åŸŸé—®é¢˜\n\nè™½ç„¶ç°åœ¨è¿˜æ²¡æœ‰æ„å»ºå‰ç«¯é¡¹ç›®ï¼Œä½†æ˜¯åé¢ï¼Œä¼šå‡ºç°è·¨åŸŸé—®é¢˜\n\n\n\n* æ–°å»º CorsConfig ç±»\n\n![image-20210415013643183](https://gitee.com/faro/images/raw/master/img/20210415013643.png)\n\n\n\n* ä»£ç å¦‚ä¸‹\n\nä¸ç”¨æ”¹åŠ¨ï¼Œç›´æ¥ç”¨ï¼Œåˆ«å¿˜äº†åŠ ä¸Š==@Configuration==æ³¨è§£\n\n```java\n@Configuration\npublic class CorsConfig implements WebMvcConfigurer {\n\n    @Override\n    public void addCorsMappings(CorsRegistry registry) {\n        registry.addMapping(\"/**\")\n                .allowedOriginPatterns(\"*\")\n                .allowedHeaders(CorsConfiguration.ALL)\n                .allowedMethods(CorsConfiguration.ALL)\n                .allowCredentials(true)\n                .maxAge(3600); // 1å°æ—¶å†…ä¸éœ€è¦å†é¢„æ£€ï¼ˆå‘OPTIONSè¯·æ±‚ï¼‰\n    }\n}\n```\n\n\n\n### 9. æ·»åŠ é›ªèŠ±ç®—æ³•å·¥å…·ç±»\n\né›ªèŠ±ç®—æ³•ï¼Œç”¨æ¥ç”Ÿæˆå”¯ä¸€ ID\n\n\n\n* æ–°å»º SnowFlake å·¥å…·ç±»\n\n![image-20210415014504164](https://gitee.com/faro/images/raw/master/img/20210415014504.png)\n\n\n\n* ä»£ç å¦‚ä¸‹\n\nåˆ«å¿˜äº†åŠ ä¸Š @Component æ³¨è§£\n\n```java\n@Component\npublic class SnowFlake {\n    /**\n     * èµ·å§‹çš„æ—¶é—´æˆ³\n     */\n    private final static long START_STMP = 1609459200000L; // 2021-01-01 00:00:00\n\n    /**\n     * æ¯ä¸€éƒ¨åˆ†å ç”¨çš„ä½æ•°\n     */\n    private final static long SEQUENCE_BIT = 12; //åºåˆ—å·å ç”¨çš„ä½æ•°\n    private final static long MACHINE_BIT = 5;   //æœºå™¨æ ‡è¯†å ç”¨çš„ä½æ•°\n    private final static long DATACENTER_BIT = 5;//æ•°æ®ä¸­å¿ƒå ç”¨çš„ä½æ•°\n\n    /**\n     * æ¯ä¸€éƒ¨åˆ†çš„æœ€å¤§å€¼\n     */\n    private final static long MAX_DATACENTER_NUM = -1L ^ (-1L << DATACENTER_BIT);\n    private final static long MAX_MACHINE_NUM = -1L ^ (-1L << MACHINE_BIT);\n    private final static long MAX_SEQUENCE = -1L ^ (-1L << SEQUENCE_BIT);\n\n    /**\n     * æ¯ä¸€éƒ¨åˆ†å‘å·¦çš„ä½ç§»\n     */\n    private final static long MACHINE_LEFT = SEQUENCE_BIT;\n    private final static long DATACENTER_LEFT = SEQUENCE_BIT + MACHINE_BIT;\n    private final static long TIMESTMP_LEFT = DATACENTER_LEFT + DATACENTER_BIT;\n\n    private long datacenterId = 1;  //æ•°æ®ä¸­å¿ƒ\n    private long machineId = 1;     //æœºå™¨æ ‡è¯†\n    private long sequence = 0L; //åºåˆ—å·\n    private long lastStmp = -1L;//ä¸Šä¸€æ¬¡æ—¶é—´æˆ³\n\n    public SnowFlake() {\n    }\n\n    public SnowFlake(long datacenterId, long machineId) {\n        if (datacenterId > MAX_DATACENTER_NUM || datacenterId < 0) {\n            throw new IllegalArgumentException(\"datacenterId can't be greater than MAX_DATACENTER_NUM or less than 0\");\n        }\n        if (machineId > MAX_MACHINE_NUM || machineId < 0) {\n            throw new IllegalArgumentException(\"machineId can't be greater than MAX_MACHINE_NUM or less than 0\");\n        }\n        this.datacenterId = datacenterId;\n        this.machineId = machineId;\n    }\n\n    /**\n     * äº§ç”Ÿä¸‹ä¸€ä¸ªID\n     *\n     * @return\n     */\n    public synchronized long nextId() {\n        long currStmp = getNewstmp();\n        if (currStmp < lastStmp) {\n            throw new RuntimeException(\"Clock moved backwards.  Refusing to generate id\");\n        }\n\n        if (currStmp == lastStmp) {\n            //ç›¸åŒæ¯«ç§’å†…ï¼Œåºåˆ—å·è‡ªå¢\n            sequence = (sequence + 1) & MAX_SEQUENCE;\n            //åŒä¸€æ¯«ç§’çš„åºåˆ—æ•°å·²ç»è¾¾åˆ°æœ€å¤§\n            if (sequence == 0L) {\n                currStmp = getNextMill();\n            }\n        } else {\n            //ä¸åŒæ¯«ç§’å†…ï¼Œåºåˆ—å·ç½®ä¸º0\n            sequence = 0L;\n        }\n\n        lastStmp = currStmp;\n\n        return (currStmp - START_STMP) << TIMESTMP_LEFT //æ—¶é—´æˆ³éƒ¨åˆ†\n                | datacenterId << DATACENTER_LEFT       //æ•°æ®ä¸­å¿ƒéƒ¨åˆ†\n                | machineId << MACHINE_LEFT             //æœºå™¨æ ‡è¯†éƒ¨åˆ†\n                | sequence;                             //åºåˆ—å·éƒ¨åˆ†\n    }\n\n    private long getNextMill() {\n        long mill = getNewstmp();\n        while (mill <= lastStmp) {\n            mill = getNewstmp();\n        }\n        return mill;\n    }\n\n    private long getNewstmp() {\n        return System.currentTimeMillis();\n    }\n\n    // public static void main(String[] args) throws ParseException {\n    //     // æ—¶é—´æˆ³\n    //     // System.out.println(System.currentTimeMillis());\n    //     // System.out.println(new Date().getTime());\n    //     //\n    //     // String dateTime = \"2021-01-01 08:00:00\";\n    //     // SimpleDateFormat sdf = new SimpleDateFormat(\"yyyy-MM-dd hh:mm:ss\");\n    //     // System.out.println(sdf.parse(dateTime).getTime());\n    //\n    //     SnowFlake snowFlake = new SnowFlake(1, 1);\n    //\n    //     long start = System.currentTimeMillis();\n    //     for (int i = 0; i < 10; i++) {\n    //         System.out.println(snowFlake.nextId());\n    //         System.out.println(System.currentTimeMillis() - start);\n    //     }\n    // }\n\n}\n```\n\n\n\n\n\n### 10. æ·»åŠ  AOP\n\nAOP ç”¨æ¥æ‰“å°æ¥å£æ—¥å¿—ï¼Œæ–¹ä¾¿åæœŸè°ƒè¯•\n\n\n\n* Maven ä¸­å¼•å…¥ fastjsonï¼Œå› ä¸º æˆ‘ä»¬çš„ç±»ä¸­è¦ç”¨\n\n```xml\n <!--fastjson-->\n<dependency>\n  <groupId>com.alibaba</groupId>\n  <artifactId>fastjson</artifactId>\n  <version>1.2.70</version>\n</dependency>\n```\n\n\n\n* Maven å¼•å…¥ AOP\n\n```xml\n<!--å¯¼å…¥aop-->\n<dependency>\n  <groupId>org.springframework.boot</groupId>\n  <artifactId>spring-boot-starter-aop</artifactId>\n</dependency>\n```\n\n\n\n* æ·»åŠ  RequestContext å·¥å…·ç±»\n\nè¿™ä¸ªæ˜¯åæœŸä¸ºäº†æ‰“å° WebSocket æ—¥å¿—çš„\n\n![image-20210415014912415](https://gitee.com/faro/images/raw/master/img/20210415014912.png)\n\n```java\npublic class RequestContext implements Serializable {\n    private static ThreadLocal<String> remoteAddr = new ThreadLocal<>();\n\n    public static String getRemoteAddr() {\n        return remoteAddr.get();\n    }\n\n    public static void setRemoteAddr(String remoteAddr) {\n        weixindemo.util.RequestContext.remoteAddr.set(remoteAddr);\n    }\n}\n```\n\n\n\n* æ–°å»º aspect åŒ…ï¼Œå¹¶æ–°å»º LogAspect ç±»\n\n![image-20210415013942484](https://gitee.com/faro/images/raw/master/img/20210415013942.png)\n\n\n\n**LogAspect ä»£ç å¦‚ä¸‹:**\n\nåˆ‡ç‚¹çš„ä»£ç ï¼Œæˆ‘ä»¬è¦ä¾æ®é¡¹ç›®ä¿®æ”¹\n\n![image-20210415015319943](https://gitee.com/faro/images/raw/master/img/20210415015320.png)\n\n```java\n@Aspect\n@Component\npublic class LogAspect {\n    private final static Logger LOG = LoggerFactory.getLogger(weixindemo.aspect.LogAspect.class);\n\n    @Resource\n    private SnowFlake snowFlake;\n\n    /** å®šä¹‰ä¸€ä¸ªåˆ‡ç‚¹ */\n    @Pointcut(\"execution(public * weixindemo.controller..*Controller.*(..))\")\n    public void controllerPointcut() {}\n\n    // @Resource\n    // private SnowFlake snowFlake;\n\n    @Before(\"controllerPointcut()\")\n    public void doBefore(JoinPoint joinPoint) throws Throwable {\n\n        // å¢åŠ æ—¥å¿—æµæ°´å·\n        MDC.put(\"LOG_ID\", String.valueOf(snowFlake.nextId()));\n\n        // å¼€å§‹æ‰“å°è¯·æ±‚æ—¥å¿—\n        ServletRequestAttributes attributes = (ServletRequestAttributes) RequestContextHolder.getRequestAttributes();\n        HttpServletRequest request = attributes.getRequest();\n        Signature signature = joinPoint.getSignature();\n        String name = signature.getName();\n\n        // æ‰“å°è¯·æ±‚ä¿¡æ¯\n        LOG.info(\"------------- å¼€å§‹ -------------\");\n        LOG.info(\"è¯·æ±‚åœ°å€: {} {}\", request.getRequestURL().toString(), request.getMethod());\n        LOG.info(\"ç±»åæ–¹æ³•: {}.{}\", signature.getDeclaringTypeName(), name);\n        LOG.info(\"è¿œç¨‹åœ°å€: {}\", request.getRemoteAddr());\n\n        RequestContext.setRemoteAddr(getRemoteIp(request));\n\n        // æ‹¿åˆ°æ‰€æœ‰çš„å‚æ•°\n        Object[] args = joinPoint.getArgs();\n        // LOG.info(\"è¯·æ±‚å‚æ•°: {}\", JSONObject.toJSONString(args));\n\n        Object[] arguments  = new Object[args.length];\n        for (int i = 0; i < args.length; i++) {\n            if (args[i] instanceof ServletRequest\n                    || args[i] instanceof ServletResponse\n                    || args[i] instanceof MultipartFile) {\n                continue;\n            }\n            arguments[i] = args[i];\n        }\n        // æ’é™¤å­—æ®µï¼Œæ•æ„Ÿå­—æ®µæˆ–å¤ªé•¿çš„å­—æ®µä¸æ˜¾ç¤º\n        String[] excludeProperties = {\"password\", \"file\"};\n        PropertyPreFilters filters = new PropertyPreFilters();\n        PropertyPreFilters.MySimplePropertyPreFilter excludefilter = filters.addFilter();\n        excludefilter.addExcludes(excludeProperties);\n        LOG.info(\"è¯·æ±‚å‚æ•°: {}\", JSONObject.toJSONString(arguments, excludefilter));\n    }\n\n    @Around(\"controllerPointcut()\")\n    public Object doAround(ProceedingJoinPoint proceedingJoinPoint) throws Throwable {\n        long startTime = System.currentTimeMillis();\n        Object result = proceedingJoinPoint.proceed();\n        // æ’é™¤å­—æ®µï¼Œæ•æ„Ÿå­—æ®µæˆ–å¤ªé•¿çš„å­—æ®µä¸æ˜¾ç¤º\n        String[] excludeProperties = {\"password\", \"file\"};\n        PropertyPreFilters filters = new PropertyPreFilters();\n        PropertyPreFilters.MySimplePropertyPreFilter excludefilter = filters.addFilter();\n        excludefilter.addExcludes(excludeProperties);\n        LOG.info(\"è¿”å›ç»“æœ: {}\", JSONObject.toJSONString(result, excludefilter));\n        LOG.info(\"------------- ç»“æŸ è€—æ—¶ï¼š{} ms -------------\", System.currentTimeMillis() - startTime);\n        return result;\n    }\n\n    /**\n     * ä½¿ç”¨nginxåšåå‘ä»£ç†ï¼Œéœ€è¦ç”¨è¯¥æ–¹æ³•æ‰èƒ½å–åˆ°çœŸå®çš„è¿œç¨‹IP\n     * å½“æˆ‘ä»¬å‘å¸ƒä¸Šçº¿åï¼Œå› ä¸ºå‰ç«¯ã€åç«¯éƒ½æ˜¯ç”¨80ç«¯å£ï¼Œä¼šå†²çª\n     * æ‰€ä»¥ç”¨æˆ·è®¿é—®çš„æ—¶å€™ï¼Œéœ€è¦å…ˆå»è®¿é—® nginxï¼Œç„¶åï¼Œè®© nginx å»åå‘ä»£ç†ï¼Œæ‰¾æˆ‘ä»¬è¦è®¿é—®çš„è·¯å¾„\n     * @param request\n     * @return\n     */\n    public String getRemoteIp(HttpServletRequest request) {\n        String ip = request.getHeader(\"x-forwarded-for\");\n        if (ip == null || ip.length() == 0 || \"unknown\".equalsIgnoreCase(ip)) {\n            ip = request.getHeader(\"Proxy-Client-IP\");\n        }\n        if (ip == null || ip.length() == 0 || \"unknown\".equalsIgnoreCase(ip)) {\n            ip = request.getHeader(\"WL-Proxy-Client-IP\");\n        }\n        if (ip == null || ip.length() == 0 || \"unknown\".equalsIgnoreCase(ip)) {\n            ip = request.getRemoteAddr();\n        }\n        return ip;\n    }\n}\n```\n\n\n\n### 11. è§£å†³å‰åç«¯ Long ç²¾åº¦ä¸¢å¤±é—®é¢˜\n\næˆ‘ä»¬åæœŸä¼šç”¨åˆ° MD5 åŠ å¯†ï¼Œåˆ°æ—¶å€™åç«¯ä¼ åˆ°å‰ç«¯çš„æ—¶å€™ï¼Œå› ä¸º javascript number çš„ç²¾åº¦é—®é¢˜ï¼Œä¼šå‡ºç°æ•°æ®ä¸¢å¤±\n\n\n\n* é…ç½®æ–‡ä»¶æ–°å¢ JacksonConfig ç±»\n\n![image-20210415020223600](https://gitee.com/faro/images/raw/master/img/20210415020223.png)\n\n\n\n* ä»£ç å¦‚ä¸‹\n\n```java\n@Configuration\npublic class JacksonConfig {\n\n    @Bean\n    public ObjectMapper jacksonObjectMapper(Jackson2ObjectMapperBuilder builder) {\n        ObjectMapper objectMapper = builder.createXmlMapper(false).build();\n        SimpleModule simpleModule = new SimpleModule();\n        // simpleModule.addSerializer(Long.class, ToStringSerializer.instance);\n        simpleModule.addSerializer(Long.class, ToStringSerializer.instance);\n        objectMapper.registerModule(simpleModule);\n        return objectMapper;\n    }\n}\n```\n\n\n\n### 12. æ–°å»º req resp åŒ…\n\næˆ‘ä»¬è¦å°†è¯·æ±‚ä¸è¿”å›åŒ…è£…\n\n![image-20210415020648707](https://gitee.com/faro/images/raw/master/img/20210415020648.png)\n\n\n\n### 13. CommonResp\n\nä¸ºäº†æ–¹ä¾¿å‰ç«¯è°ƒç”¨ï¼Œåç«¯çš„ respï¼Œæˆ‘ä»¬å†™ä¸€ä¸ªç»Ÿä¸€çš„è¿”å› CommonResp\n\n![image-20210415020805724](https://gitee.com/faro/images/raw/master/img/20210415020805.png)\n\n**ä»£ç å¦‚ä¸‹ï¼š**\n\n```java\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class CommonResp<T> {\n    /**\n     * è¿”å›æ˜¯å¦æˆåŠŸ\n     */\n    private boolean isSuccess=true;\n\n    /**\n     * è¿”å›å¤±è´¥æ—¶ï¼Œè¿”å›çš„é”™è¯¯ä¿¡æ¯\n     */\n    private String message;\n\n    /**\n     * è¿”å›æˆåŠŸçš„æ—¶å€™ï¼Œè¿”å›çš„å†…å®¹\n     */\n    private T content;\n}\n```\n\n\n\n### 14. è‡ªå®šä¹‰å¼‚å¸¸\n\n* æ–°å»ºå¼‚å¸¸ç±»`BusinessException`å’Œå¼‚å¸¸ä¿¡æ¯æšä¸¾`BusinessExceptionCode`\n\n![image-20210415021357196](https://gitee.com/faro/images/raw/master/img/20210415021357.png)\n\n\n\n* `BusinessException`ä»£ç \n\n```java\npublic class BusinessException extends RuntimeException{\n    private BusinessExceptionCode code;\n\n    public BusinessException (BusinessExceptionCode code) {\n        /**\n         * çˆ¶ç±»æœ‰ä¸ªæˆå‘˜å˜é‡  private String desc\n         * éœ€è¦ä¸ºè¿™ä¸ªæˆå‘˜å˜é‡èµ‹å€¼\n         */\n        super(code.getDesc());\n        this.code = code;\n    }\n\n    public BusinessExceptionCode getCode() {\n        return code;\n    }\n\n    public void setCode(BusinessExceptionCode code) {\n        this.code = code;\n    }\n\n    /**\n     * ä¸å†™å…¥å †æ ˆä¿¡æ¯ï¼Œæé«˜æ€§èƒ½\n     */\n    @Override\n    public Throwable fillInStackTrace() {\n        return this;\n    }\n}\n```\n\n\n\n* `BusinessExceptionCode`ä»£ç \n\n```java\npublic enum BusinessExceptionCode {\n    USER_LOGIN_NAME_EXIST(\"ç™»å½•åå·²å­˜åœ¨\"),\n    LOGIN_USER_ERROR(\"ç”¨æˆ·åä¸å­˜åœ¨æˆ–å¯†ç é”™è¯¯\"),\n    VOTE_REPEAT(\"æ‚¨å·²ç‚¹èµè¿‡\"),\n    ;\n\n    private String desc;\n\n    BusinessExceptionCode(String desc) {\n        this.desc = desc;\n    }\n\n    public String getDesc() {\n        return desc;\n    }\n\n    public void setDesc(String desc) {\n        this.desc = desc;\n    }\n}\n```\n\n\n\n\n\n### 13. ç»Ÿä¸€å¼‚å¸¸å¤„ç†\n\næˆ‘ä»¬æ‰€æœ‰å¼‚å¸¸ï¼Œéƒ½é€šè¿‡è¿™ä¸ªç±»æ¥æ•è·ï¼Œå¹¶ç”Ÿæˆä¸€ä¸ªè¿”å›é”™è¯¯ä¿¡æ¯çš„ CommonResp\n\n\n\n* æ–°å»º ControllerExceptionHandler ç±»\n\n![](https://gitee.com/faro/images/raw/master/img/20210415020947.png)\n\n\n\n* ä»£ç å¦‚ä¸‹\n\nlogger è¦æ ¹æ®é¡¹ç›®æ”¹ä¸€ä¸‹\n\n```java\n/**\n * ç»Ÿä¸€å¼‚å¸¸å¤„ç†ã€æ•°æ®é¢„å¤„ç†ç­‰\n * è¯¥ç±»ç”¨äºæ•è·ç³»ç»Ÿå¼¹å‡ºçš„å¼‚å¸¸\n * å°†å¼‚å¸¸åŒ…è£…æˆä¸€ä¸ª CommonResp\n * ä»è€Œæ–¹ä¾¿å‰ç«¯è°ƒç”¨ï¼Œæ˜¾ç¤ºé”™è¯¯ä¿¡æ¯\n */\n@ControllerAdvice\npublic class ControllerExceptionHandler {\n    private static final Logger LOG = LoggerFactory.getLogger(top.faroz.controller.ControllerExceptionHandler.class);\n\n    /**\n     * æ ¡éªŒå¼‚å¸¸ç»Ÿä¸€å¤„ç†\n     * @param e\n     * @return\n     */\n    @ExceptionHandler(value = BindException.class)\n    @ResponseBody\n    public CommonResp validExceptionHandler(BindException e) {\n        CommonResp commonResp = new CommonResp();\n        LOG.warn(\"å‚æ•°æ ¡éªŒå¤±è´¥ï¼š{}\", e.getBindingResult().getAllErrors().get(0).getDefaultMessage());\n        commonResp.setSuccess(false);\n        commonResp.setMessage(e.getBindingResult().getAllErrors().get(0).getDefaultMessage());\n        return commonResp;\n    }\n\n    /**\n     * æ ¡éªŒå¼‚å¸¸ç»Ÿä¸€å¤„ç†\n     * @param e\n     * @return\n     */\n    @ExceptionHandler(value = BusinessException.class)\n    @ResponseBody\n    public CommonResp validExceptionHandler(BusinessException e) {\n        CommonResp commonResp = new CommonResp();\n        LOG.warn(\"ä¸šåŠ¡å¼‚å¸¸ï¼š{}\", e.getCode().getDesc());\n        commonResp.setSuccess(false);\n        commonResp.setMessage(e.getCode().getDesc());\n        return commonResp;\n    }\n\n    /**\n     * æ ¡éªŒå¼‚å¸¸ç»Ÿä¸€å¤„ç†\n     * @param e\n     * @return\n     */\n    @ExceptionHandler(value = Exception.class)\n    @ResponseBody\n    public CommonResp validExceptionHandler(Exception e) {\n        CommonResp commonResp = new CommonResp();\n        LOG.error(\"ç³»ç»Ÿå¼‚å¸¸ï¼š\", e);\n        commonResp.setSuccess(false);\n        commonResp.setMessage(\"ç³»ç»Ÿå‡ºç°å¼‚å¸¸ï¼Œè¯·è”ç³»ç®¡ç†å‘˜\");\n        return commonResp;\n    }\n}\n```\n\n\n\n### 14. æ·»åŠ æ—¥å¿—è®°å½• logback\n\n* åœ¨ resource ä¸‹ï¼Œæ–°å»ºlogback-spring.xml æ–‡ä»¶\n\n![image-20210411004947139](https://gitee.com/faro/images/raw/master/img/20210411004947.png)\n\n* å†™å…¥å†…å®¹\n\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<configuration>\n    <!-- ä¿®æ”¹ä¸€ä¸‹è·¯å¾„-->\n    <property name=\"PATH\" value=\"./log\"></property>\n\n    <appender name=\"STDOUT\" class=\"ch.qos.logback.core.ConsoleAppender\">\n        <encoder>\n            <Pattern>%d{yyyy-MM-dd HH:mm:ss.SSS} %highlight(%-5level) %blue(%-50logger{50}:%-4line) %thread %msg%n</Pattern>\n            <!--<Pattern>%d{ss.SSS} %highlight(%-5level) %blue(%-30logger{30}:%-4line) %thread %green(%-18X{LOG_ID}) %msg%n</Pattern>-->\n        </encoder>\n    </appender>\n\n    <appender name=\"TRACE_FILE\" class=\"ch.qos.logback.core.rolling.RollingFileAppender\">\n        <file>${PATH}/trace.log</file>\n        <rollingPolicy class=\"ch.qos.logback.core.rolling.TimeBasedRollingPolicy\">\n            <FileNamePattern>${PATH}/trace.%d{yyyy-MM-dd}.%i.log</FileNamePattern>\n            <timeBasedFileNamingAndTriggeringPolicy class=\"ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP\">\n                <maxFileSize>10MB</maxFileSize>\n            </timeBasedFileNamingAndTriggeringPolicy>\n        </rollingPolicy>\n        <layout>\n            <pattern>%d{yyyy-MM-dd HH:mm:ss.SSS} %-5level %-50logger{50}:%-4line %green(%-18X{LOG_ID}) %msg%n</pattern>\n        </layout>\n    </appender>\n\n    <appender name=\"ERROR_FILE\" class=\"ch.qos.logback.core.rolling.RollingFileAppender\">\n        <file>${PATH}/error.log</file>\n        <rollingPolicy class=\"ch.qos.logback.core.rolling.TimeBasedRollingPolicy\">\n            <FileNamePattern>${PATH}/error.%d{yyyy-MM-dd}.%i.log</FileNamePattern>\n            <timeBasedFileNamingAndTriggeringPolicy class=\"ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP\">\n                <maxFileSize>10MB</maxFileSize>\n            </timeBasedFileNamingAndTriggeringPolicy>\n        </rollingPolicy>\n        <layout>\n            <pattern>%d{yyyy-MM-dd HH:mm:ss.SSS} %-5level %-50logger{50}:%-4line %green(%-18X{LOG_ID}) %msg%n</pattern>\n        </layout>\n        <filter class=\"ch.qos.logback.classic.filter.LevelFilter\">\n            <level>ERROR</level>\n            <onMatch>ACCEPT</onMatch>\n            <onMismatch>DENY</onMismatch>\n        </filter>\n    </appender>\n\n    <root level=\"ERROR\">\n        <appender-ref ref=\"ERROR_FILE\" />\n    </root>\n\n    <root level=\"TRACE\">\n        <appender-ref ref=\"TRACE_FILE\" />\n    </root>\n\n    <root level=\"INFO\">\n        <appender-ref ref=\"STDOUT\" />\n    </root>\n</configuration>\n\n```\n\n\n\n### 15. è‡ªå®šä¹‰ banner\n\nresources ä¸‹æ–°å»º banner.txt\n\n![image-20210415023847796](https://gitee.com/faro/images/raw/master/img/20210415023847.png)\n\n\n\né‡Œé¢æ”¾ä¸Šè‡ªå®šä¹‰ banner\n\n```txt\n ********     **     *******     *******         ********\n/**/////     ****   /**////**   **/////**       //////** \n/**         **//**  /**   /**  **     //**           **  \n/*******   **  //** /*******  /**      /**          **   \n/**////   **********/**///**  /**      /**         **    \n/**      /**//////**/**  //** //**     **         **     \n/**      /**     /**/**   //** //*******   ***** ********\n//       //      // //     //   ///////   ///// //////// \n```\n\n\n\n\n","success":true}
2021-04-16 00:45:06.970 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2021-04-16 00:46:17.163 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:46:17.164 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/list GET
2021-04-16 00:46:17.164 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.list
2021-04-16 00:46:17.164 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:46:17.164 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":4}]
2021-04-16 00:46:17.177 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"list":[{"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Vue å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":2,"name":"Vue å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Python å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":3,"name":"Python å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Mysql å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":4,"name":"Mysql å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0}],"total":7},"success":true}
2021-04-16 00:46:17.177 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š14 ms -------------
2021-04-16 00:46:17.645 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:46:17.645 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/list GET
2021-04-16 00:46:17.645 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.list
2021-04-16 00:46:17.645 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:46:17.646 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":4}]
2021-04-16 00:46:17.649 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"list":[{"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Vue å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":2,"name":"Vue å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Python å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":3,"name":"Python å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Mysql å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":4,"name":"Mysql å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0}],"total":7},"success":true}
2021-04-16 00:46:17.650 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2021-04-16 00:46:20.597 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:46:20.597 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/list GET
2021-04-16 00:46:20.598 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.list
2021-04-16 00:46:20.598 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:46:20.599 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [{"page":2,"size":4}]
2021-04-16 00:46:20.603 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"list":[{"description":"c++çœŸçš„å¾ˆå®¹æ˜“ï¼Œä¸ä¼šæœ‰äººä¸ä¼šå§ï¼Ÿ","docCount":0,"id":5,"name":"21 å¤©å­¦ä¼šC++","viewCount":0,"voteCount":0},{"description":"å¡é‡Œå¤æ‹‰æ–‡ç« é“¾æ¥","docCount":0,"id":36754863593492480,"name":"å¡é‡Œå¤æ‹‰","viewCount":0,"voteCount":0},{"description":" python,2å¤©å°±å¤Ÿäº†","docCount":0,"id":36776384114331648,"name":"2å¤©å­¦ä¼špython","viewCount":0,"voteCount":0}],"total":7},"success":true}
2021-04-16 00:46:20.604 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2021-04-16 00:46:21.702 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:46:21.702 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:46:21.702 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find/36754863593492480 GET
2021-04-16 00:46:21.702 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/36754863593492480 GET
2021-04-16 00:46:21.702 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.find
2021-04-16 00:46:21.702 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.findContent
2021-04-16 00:46:21.703 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:46:21.703 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:46:21.703 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [36754863593492480]
2021-04-16 00:46:21.703 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [36754863593492480]
2021-04-16 00:46:21.707 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"description":"å¡é‡Œå¤æ‹‰æ–‡ç« é“¾æ¥","docCount":0,"id":36754863593492480,"name":"å¡é‡Œå¤æ‹‰","viewCount":0,"voteCount":0},"success":true}
2021-04-16 00:46:21.707 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":"# Java æ¥å£\n\nè¿™é‡Œä¸è®²ä¸ºä»€ä¹ˆéœ€è¦ä½¿ç”¨æ¥å£ï¼Œå› ä¸ºå¤§éƒ¨åˆ†äººå¼€å‘é‚£ä¹ˆä¹…ï¼Œåº”è¯¥éƒ½äº†è§£ä½¿ç”¨æ¥å£çš„åŸå› å’Œå¥½å¤„äº†å§\n\n\n\n## **1. æ¥å£ä¸­çš„æ–¹æ³•ä¸ç”¨å£°æ˜ä¸º`public`**\n\nè™½ç„¶å†™ä¸Šä¸ä¼šæŠ¥é”™ï¼Œä½†æ˜¯å®Œå…¨æ²¡æœ‰å¿…è¦ï¼Œå› ä¸ºæ¥å£å®ç°çš„æ—¶å€™ï¼Œåªèƒ½æ˜¯`public`\n\næ›´åˆ«æå°†æ¥å£æ–¹æ³•å£°æ˜ä¸º`private`ï¼Œ`protected`äº†ï¼Œç›´æ¥æŠ¥é”™\n\n![image-20210317235222474](https://gitee.com/faro/images/raw/master/img/20210317235222.png)\n\n\n\n## **2. å› ä¸ºæ¥å£å®ç°çš„æ—¶å€™ï¼Œåªèƒ½æ˜¯`public`**\n\né™¤äº†`public`ï¼Œå…¶ä»–ç±»å‹å‡†æŠ¥é”™\n\nä½•å†µä½ å†æƒ³æƒ³ï¼Œå¦‚æœè¦å°†æ¥å£æ–¹æ³•ç”³æ˜ä¸º`private`ï¼Œé‚£å†™è¿™ä¸ªæ¥å£ï¼Œè¿˜æœ‰ä»€ä¹ˆæ„ä¹‰ï¼Ÿ\n\næ¥å£çš„ç›®çš„ï¼Œæœ¬æ¥å°±æ˜¯ä¸ºäº†æ¾è€¦åˆï¼Œå†™æˆ`private`åˆ°å¥½ï¼Œè®©æ–¹æ³•åªèƒ½åœ¨ç±»å†…éƒ¨ä½¿ç”¨äº†ï¼Œé‚£è¿˜æ¾è€¦åˆæ¾ä¸ªé¬¼å•Šã€‚\n\n![image-20210317235447384](https://gitee.com/faro/images/raw/master/img/20210317235447.png)\n\n\n\n## **3. å®ç°å¤šä¸ªæ¥å£çš„é‡åé—®é¢˜**\n\n### 3.1 ä¸¤ä¸ªæ–¹æ³•ä¸€æ¨¡ä¸€æ ·\n\nè¿™é‡Œå®šä¹‰ä¸¤ä¸ªæ¥å£ï¼Œå…¶è‡ªå¸¦çš„æ–¹æ³•ï¼Œ**ä¸€æ¨¡ä¸€æ ·**ï¼ˆä¸€æ¨¡ä¸€æ ·ï¼Œå³æŒ‡`å‡½æ•°å`ï¼Œ`è¿”å›å€¼`ï¼Œ`å‚æ•°ç±»å‹`ï¼Œ`å‚æ•°ä¸ªæ•°`å’Œ`ä¸åŒç±»å‹å‚æ•°çš„æ’åˆ—é¡ºåº`éƒ½ä¸€æ¨¡ä¸€æ ·ï¼Œè¿™äº›æ¡ä»¶ï¼Œ<font color=\"red\">é™¤äº†è¿”å›å€¼</font>å’Œå‡½æ•°åï¼Œå…¶ä½™ä¸‰æ ·ï¼Œæ¯ä¸€æ ·éƒ½æ˜¯ä¿è¯å‡½æ•°èƒ½å¤Ÿé‡è½½çš„æ¡ä»¶ï¼‰\n\n![image-20210318000412331](https://gitee.com/faro/images/raw/master/img/20210318000412.png)\n\n![image-20210318000424942](https://gitee.com/faro/images/raw/master/img/20210318000424.png)\n\né‚£æœ€åå¤šæ¥å£å®ç°çš„æ—¶å€™ï¼Œå…¶å®å°±ç›¸å½“äºåªå®ç°ä¸€ä¸ªæ–¹æ³•ï¼Œæ²¡æœ‰ä»€ä¹ˆå½±å“ï¼Œä¸”éƒ½å¯ä»¥å®ç°å¤šæ€ï¼š\n\n![image-20210318000627167](https://gitee.com/faro/images/raw/master/img/20210318000627.png)\n\n\n\n### 3.2 åªæœ‰è¿”å›ç±»å‹ä¸ä¸€æ ·\n\nä½†æ˜¯ï¼Œå¦‚æœä¸¤ä¸ªæ¥å£å‡½æ•°åå’Œå‚æ•°ä¸ªæ•°éƒ½ä¸€æ ·ï¼Œ**åªæœ‰è¿”å›å€¼ä¸ä¸€æ ·**ï¼Œæ¢å¥è¯è¯´ï¼Œå°±æ˜¯==ä¸æ»¡è¶³åŒºåˆ†å‡½æ•°é‡è½½çš„æ¡ä»¶==ï¼Œé‚£ç¼–è¯‘å™¨å°±ä¼šæŠ¥é”™ï¼š\n\n![image-20210318000846017](https://gitee.com/faro/images/raw/master/img/20210318000846.png)\n\n![image-20210318000859682](https://gitee.com/faro/images/raw/master/img/20210318000859.png)\n\næ­¤æ—¶ï¼Œå› ä¸ºä¸€ä¸ªè¿”å›`int`ï¼Œä¸€ä¸ªä¸è¿”å›ï¼Œé‚£æ¥å£å®ç°å†™`int`ä¹Ÿä¸æ˜¯ï¼Œå†™`void`ä¹Ÿä¸æ˜¯ï¼Œ\n\n![image-20210318000931012](https://gitee.com/faro/images/raw/master/img/20210318000931.png)\n\nåˆå› ä¸ºï¼Œ<font color=\"blue\">æ–¹æ³•è¿”å›çš„ç±»å‹ä¸èƒ½ä½œä¸ºé‡è½½çš„æ ‡å¿—</font>ï¼Œæ‰€ä»¥ï¼Œä¸‹é¢è¿™ç§å†™æ³•ä¹Ÿæ— æµäºäº‹...\n\n![image-20210318001053987](https://gitee.com/faro/images/raw/master/img/20210318001054.png)\n\n\n\n### 3.3 åªæœ‰æ»¡è¶³å‡½æ•°é‡è½½çš„æ¡ä»¶ï¼Œæ¥å£æ‰å¯é‡å\n\nåœ¨  3.1  ä¹Ÿæåˆ°è¿‡ï¼Œ`å‚æ•°ç±»å‹ï¼Œå‚æ•°ä¸ªæ•°ã€ä¸åŒç±»å‹å‚æ•°çš„æ’åˆ—é¡ºåº`è¿™ä¸‰æ ·ï¼Œæ¯æ ·éƒ½å¯ä»¥æˆä¸ºé‡è½½çš„æ¡ä»¶ï¼Œåªè¦æ»¡è¶³ä»»ä½•ä¸€æ ·ï¼Œå°±èƒ½å®ç°åŒå‡½æ•°åæ¥å£çš„å¤šç»§æ‰¿åŠå®ç°ã€‚\n\n","success":true}
2021-04-16 00:46:21.708 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2021-04-16 00:46:21.708 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2021-04-16 00:46:30.534 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:46:30.535 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/list GET
2021-04-16 00:46:30.536 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.list
2021-04-16 00:46:30.536 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:46:30.537 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":5}]
2021-04-16 00:46:30.545 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"list":[{"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Vue å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":2,"name":"Vue å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Python å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":3,"name":"Python å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Mysql å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":4,"name":"Mysql å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"c++çœŸçš„å¾ˆå®¹æ˜“ï¼Œä¸ä¼šæœ‰äººä¸ä¼šå§ï¼Ÿ","docCount":0,"id":5,"name":"21 å¤©å­¦ä¼šC++","viewCount":0,"voteCount":0}],"total":7},"success":true}
2021-04-16 00:46:30.546 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š12 ms -------------
2021-04-16 00:46:31.049 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:46:31.049 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/list GET
2021-04-16 00:46:31.049 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.list
2021-04-16 00:46:31.049 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:46:31.049 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":5}]
2021-04-16 00:46:31.053 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"list":[{"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Vue å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":2,"name":"Vue å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Python å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":3,"name":"Python å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Mysql å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":4,"name":"Mysql å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"c++çœŸçš„å¾ˆå®¹æ˜“ï¼Œä¸ä¼šæœ‰äººä¸ä¼šå§ï¼Ÿ","docCount":0,"id":5,"name":"21 å¤©å­¦ä¼šC++","viewCount":0,"voteCount":0}],"total":7},"success":true}
2021-04-16 00:46:31.053 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2021-04-16 00:46:32.704 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:46:32.704 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:46:32.705 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find/1 GET
2021-04-16 00:46:32.705 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2021-04-16 00:46:32.705 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.find
2021-04-16 00:46:32.705 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.findContent
2021-04-16 00:46:32.705 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:46:32.705 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:46:32.705 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [1]
2021-04-16 00:46:32.705 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [1]
2021-04-16 00:46:32.709 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},"success":true}
2021-04-16 00:46:32.709 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2021-04-16 00:46:32.711 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":"# å®Œæ•´é¡¹ç›®æ­å»ºæµç¨‹\n\nè™½è¯´ SpringBoot ç›¸è¾ƒäº SSM æ¡†æ¶ï¼Œå¤§å¤§å‡è½»äº†é…ç½®çš„ç¹çï¼Œä½†æ˜¯ï¼Œè¦æ•´åˆ MyBatis ï¼Œç»Ÿä¸€å¼‚å¸¸å¤„ç†ï¼ŒVueç­‰ä¸€ç³»åˆ—ä¸œè¥¿ï¼Œè¿˜æ˜¯è¦è´¹ä¸€ç•ªåŠ²çš„ã€‚\n\nè¿™æ¬¡å°†åˆ›å»ºçš„æ•´ä¸ªæµç¨‹è®°å½•ä¸‹æ¥ï¼Œæ–¹ä¾¿ä»¥åçš„é¡¹ç›®æ­å»ºã€‚\n\nè¦æ­å»ºä¸€ä¸ªå®Œæˆçš„å‰åç«¯åˆ†ç¦»é¡¹ç›®ï¼Œåˆ†ä¸ºè¿™ä¹ˆå‡ ä¸ªéƒ¨åˆ†ï¼š==æ•°æ®åº“ã€åç«¯ã€å‰ç«¯==\n\nå¦‚æœæ˜¯ä¸ºå¾®ä¿¡å°ç¨‹åºæ­å»ºä¸€ä¸ªåç«¯æœåŠ¡ï¼Œé‚£å°±åªè¦çœ‹åˆ°==æ•°æ®åº“ã€åç«¯==å°±å¯ä»¥äº†\n\n\n\n## æ•°æ®åº“\n\nä¸€èˆ¬åœ¨æ–°å»ºé¡¹ç›®çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¼šé€‰æ‹©ä¸“é—¨ä¸ºè¿™ä¸ªé¡¹ç›®æ–°å»ºä¸€ä¸ªç”¨æˆ·ï¼Œå¹¶ä¸ºè¿™ä¸ªç”¨æˆ·ï¼Œèµ‹äºˆåªå±äºè¿™ä¸€ä¸ªé¡¹ç›®çš„æ‰€æœ‰æƒé™\n\n\n\n### 1. **è¿æ¥ admin**\n\nåªæœ‰ admin æœ‰æ‰€æœ‰æƒé™\n\næˆ‘çš„æ•°æ®åº“ admin çš„è´¦æˆ·åå’Œå¯†ç æ˜¯ï¼š\n\n**è´¦æˆ·ï¼š**admin\n\n**å¯†ç ï¼š**123\n\n![image-20210411002100312](https://gitee.com/faro/images/raw/master/img/20210411003334.png)\n\n\n\n### 2. **æ–°å»ºæ•°æ®åº“**\n\nå…¶å­—ç¬¦ç±»å‹ä¸€å®šè¦é€‰æ‹©==utf8mb4==ï¼Œè¿™æ‰æ˜¯çœŸæ­£çš„ utf8ï¼Œæ”¯æŒè¡¨æƒ…ç¬¦å·\n\n![image-20210411002304858](https://gitee.com/faro/images/raw/master/img/20210411002304.png)\n\n### 3. **ä¸ºè¿™ä¸ªæ•°æ®åº“ï¼Œä¸“é—¨å»ºä¸€ä¸ªç”¨æˆ·**\n\nå¼€å‘ç¯å¢ƒä¸­ï¼Œå°±å°†å¯†ç å’Œç”¨æˆ·åè®¾ç½®æˆä¸€æ ·çš„ï¼Œè¿™æ ·ä¸ä¼šå¿˜è®°\n\nhost è®¾ç½®ä¸º localhost\n\n![image-20210411002742750](https://gitee.com/faro/images/raw/master/img/20210411002742.png)\n\n\n\n### 4. **ä¸ºè¿™ä¸ªç”¨æˆ·ï¼Œæˆäºˆå¯¹åº”æ•°æ®åº“çš„å…¨éƒ¨æƒé™**\n\n![image-20210411003034426](https://gitee.com/faro/images/raw/master/img/20210411003034.png)\n\n![image-20210411002821790](https://gitee.com/faro/images/raw/master/img/20210414201958.png)\n\n### 5. **å¯¹å½“å‰ç”¨æˆ·ï¼Œå»ºç«‹è¿æ¥**\n\n![image-20210411002945727](https://gitee.com/faro/images/raw/master/img/20210411002945.png)\n\n\n\n\n\n## åç«¯\n\nå…³äº Mavenã€tomcat çš„ä¸‹è½½é…ç½®ï¼Œè¿™é‡Œå°±ä¸è´¹ç¬”å¢¨å»è®²è§£äº†ã€‚å¦‚æœ‰éœ€è¦ï¼Œå¯ä»¥è‡ªè¡Œç™¾åº¦æŸ¥æ‰¾ã€‚\n\n### 1. æ–°å»º SpringBoot é¡¹ç›®\n\n* ç‚¹å‡» `SpringInitiallizr`ï¼Œæ–°å»ºé¡¹ç›®\n\n![image-20210414200239335](https://gitee.com/faro/images/raw/master/img/20210414200239.png)\n\n* é€‰æ‹©é»˜è®¤ä¾èµ–çš„åŒ…\n\n![image-20210414200420395](https://gitee.com/faro/images/raw/master/img/20210414200420.png)\n\n![image-20210414200533694](https://gitee.com/faro/images/raw/master/img/20210414200533.png)\n\n![image-20210414200611051](https://gitee.com/faro/images/raw/master/img/20210414200611.png)\n\n* é€‰æ‹©å­˜æ”¾è·¯å¾„\n\n![image-20210414200656633](https://gitee.com/faro/images/raw/master/img/20210414200656.png)\n\n* æ–°å»ºå®Œæˆåï¼Œé¡¹ç›®ç›®å½•å¦‚ä¸‹\n\n![image-20210414200752152](https://gitee.com/faro/images/raw/master/img/20210414200752.png)\n\n\n\n### 2. æ›´æ”¹å¯åŠ¨ç±»ä½ç½®\n\n* æ–°å»º config åŒ…ï¼Œå°†å¯åŠ¨ç±»æ”¾è¿›å»\n\n![image-20210414201018806](https://gitee.com/faro/images/raw/master/img/20210414201018.png)\n\n\n\n* ä¸ºå¯åŠ¨ç±»æ·»åŠ æ³¨è§£\n\næ³¨è§£å†…çš„ä¿¡æ¯ï¼Œæ˜¯é¡¹ç›®åç§°\n\n```java\n@ComponentScan(\"weixindemo\")\n```\n\n![image-20210414201210978](https://gitee.com/faro/images/raw/master/img/20210414201211.png)\n\n\n\n### 3. IDEA æ•°æ®åº“é…ç½®\n\n* IDEA è¿æ¥æ•°æ®åº“\n\n![image-20210414220153821](https://gitee.com/faro/images/raw/master/img/20210414220153.png)\n\n![image-20210414221502868](https://gitee.com/faro/images/raw/master/img/20210414221502.png)\n\n\n\n* æ·»åŠ  sql è„šæœ¬\n\næ–°å»º sql æ–‡ä»¶å¤¹ï¼Œå»ºç«‹`all.sql`æ–‡ä»¶\n\n![image-20210414221647283](https://gitee.com/faro/images/raw/master/img/20210414221647.png)\n\n\n\næˆ‘ä»¬åœ¨ sql è„šæœ¬ä¸­æ·»åŠ æµ‹è¯•ç”¨æ•°æ®ï¼Œå¹¶æ‰§è¡Œ\n\n```sql\n\n# æµ‹è¯•è¡¨\ndrop table if exists `test`;\ncreate table `test` (\n  `id` bigint not null comment 'id',\n  `name` varchar(50) comment 'åç§°',\n  `password` varchar(50) comment 'å¯†ç ',\n  primary key (`id`)\n) engine=innodb default charset=utf8mb4 comment='æµ‹è¯•';\n\ninsert into `test` (id, name, password) values (1, 'æµ‹è¯•', 'password');       \n```\n\nå¯ä»¥çœ‹åˆ°ï¼Œæ•°æ®åº“å·²å»ºç«‹\n\n![image-20210415000115932](https://gitee.com/faro/images/raw/master/img/20210415000131.png)\n\n\n\n### 4. é…ç½® MyBatis\n\n* åœ¨ `resource`æ–‡ä»¶å¤¹ä¸‹ï¼Œæ–°å»º `mapper`æ–‡ä»¶å¤¹\n\nè¿™æ˜¯ç”¨æ¥å­˜æ”¾ MyBatis çš„å®ç°çš„\n\n![image-20210414201459632](https://gitee.com/faro/images/raw/master/img/20210414201459.png)\n\n\n\n* æ–°å»º pojo åŒ…\n\npojo åŒ…ç”¨æ¥å­˜æ”¾å®ä½“ç±»\n\n![image-20210415000316772](https://gitee.com/faro/images/raw/master/img/20210415000316.png)\n\n\n\n* åœ¨é¡¹ç›®ä¸‹ï¼Œæ–°å»º mapper åŒ…ï¼Œç”¨æ¥å­˜æ”¾æ¥å£\n\n![image-20210415000711989](https://gitee.com/faro/images/raw/master/img/20210415000712.png)\n\n\n\n* å°†é…ç½®æ–‡ä»¶åç¼€æ”¹ä¸º`.yml`\n\næˆ‘ä¸ªäººä¹ æƒ¯ä½¿ç”¨`.yml`è¿›è¡Œä½ç½®\n\n![image-20210414201610045](https://gitee.com/faro/images/raw/master/img/20210414201610.png)\n\n\n\n* æ·»åŠ  `Mybatis`é…ç½®\n\nè¿™é‡Œï¼Œè¦æ·»åŠ æ•°æ®æºï¼Œå’Œ MyBatis çš„é…ç½®ï¼Œéƒ¨åˆ†åœ°æ–¹ï¼Œè¦æ ¹æ®å®é™…é¡¹ç›®ï¼Œè¿›è¡Œä¿®æ”¹\n\n```yml\nspring:\n  datasource:\n    url: jdbc:mysql://localhost:3306/weixindemo?useUnicode=true&characterEncoding=utf-8\n    username: weixindemo\n    password: weixindemo\n    driver-class-name: com.mysql.cj.jdbc.Driver\n    \n    \n# æ•´åˆMybatis\nmybatis:\n  # ** è¡¨ç¤ºåœ¨mapperä¸‹ä¸ç®¡æœ‰å¤šå°‘æ–‡ä»¶å¤¹ï¼Œéƒ½å¯ä»¥å…¨éƒ¨è¯†åˆ«\n  mapper-locations: classpath:/mapper/**/*.xml\n  type-aliases-package: weixindemo.pojo\n  #  æ‰“å°sqlç›¸å…³çš„æ—¥å¿—ä¿¡æ¯\n  configuration:\n    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl\n```\n\n![image-20210415000535841](https://gitee.com/faro/images/raw/master/img/20210415000535.png)\n\n\n\n* æ·»åŠ ç«¯å£é…ç½®\n\nå› ä¸º vue ä¹Ÿæ˜¯ç”¨çš„8080ç«¯å£ï¼Œæˆ‘ä»¬ä¸èƒ½å’Œå®ƒé‡äº†\n\n```yml\nserver:\n  port: 8880\n```\n\n\n\n* å¯åŠ¨ç±»æ·»åŠ `mapper`æ¥å£æ‰«æè·¯å¾„\n\n```java\n@MapperScan(\"weixindemo.mapper\") //mybatis mapperæ¥å£æ‰«æ\n```\n\n![image-20210415000824262](https://gitee.com/faro/images/raw/master/img/20210415000824.png)\n\n\n\n### 5. MVC åŒ…å»ºç«‹\n\næˆ‘ä»¬è¿˜è¦å»ºç«‹ ==service==ï¼Œ==util==ï¼Œ==controller==åŒ…\n\n![image-20210415001226689](https://gitee.com/faro/images/raw/master/img/20210415001226.png)\n\n![image-20210415001237989](https://gitee.com/faro/images/raw/master/img/20210415001238.png)\n\n\n\n### 5. æµ‹è¯• Mybatis é…ç½®\n\né…ç½®åˆ°è¿™ä¸€æ­¥ï¼Œè¦å¯¹ä¹‹å‰çš„é…ç½®ï¼Œè¿›è¡Œä¸€ä¸ªæµ‹è¯•\n\n* pojo ä¸­ï¼Œæ–°å»º Test å®ä½“ç±»\n\n![image-20210415001028711](https://gitee.com/faro/images/raw/master/img/20210415001028.png)\n\n```java\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Test {\n    private Integer id;\n    private String name;\n}\n```\n\n\n\n* mapper åŒ…ä¸­ï¼Œæ–°å»º TestMapper æ¥å£\n\n![image-20210415001403532](https://gitee.com/faro/images/raw/master/img/20210415001420.png)\n\n```java\n@Repository\n@Mapper\npublic interface TestMapper {\n    List<Test> getList();\n}\n```\n\n\n\n* resources ä¸‹çš„ mapper æ–‡ä»¶å¤¹ä¸­ï¼Œå¢åŠ  TestMapper.xml å®ç°\n\n  ![image-20210415002153386](https://gitee.com/faro/images/raw/master/img/20210415002153.png)\n\nå…·ä½“å†…å®¹ï¼Œè¦æ ¹æ®å®é™…é¡¹ç›®ä¿®æ”¹\n\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n<!DOCTYPE mapper PUBLIC \"-//mybatis.org//DTD Mapper 3.0//EN\"\n    \"http://mybatis.org/dtd/mybatis-3-mapper.dtd\">\n\n<!--namespaceè¦å’Œæ¥å£çš„ä½ç½®å’Œåå­—å¯¹åº”-->\n<mapper namespace=\"weixindemo.mapper.TestMapper\">\n\n    <select id=\"getList\" resultType=\"weixindemo.pojo.Test\">\n        select * from test\n    </select>\n\n</mapper>\n```\n\n![image-20210415002240288](https://gitee.com/faro/images/raw/master/img/20210415002240.png)\n\n\n\n* åœ¨ service åŒ…ä¸‹ï¼Œæ–°å»º TestService\n\n![](https://gitee.com/faro/images/raw/master/img/20210415002439.png)\n\nåˆ«å¿˜äº†åŠ ä¸Š @Service æ³¨è§£\n\n```java\n@Service\npublic class TestService {\n\n    @Autowired\n    private TestMapper mapper;\n\n    public List<Test> getList() {\n        return mapper.getList();\n    }\n}\n```\n\n\n\n* åœ¨ controlleråŒ…ä¸‹ï¼Œæ–°å»º TestController\n\n![image-20210415002611361](https://gitee.com/faro/images/raw/master/img/20210415002611.png)\n\n```java\n@RestController\npublic class TestController {\n\n    @Autowired\n    private TestService testService;\n    \n\n    @RequestMapping(\"/test/list\")\n    public List<Test> list() {\n        return testService.getList();\n    }\n\n}\n```\n\n\n\n* é‡å¯é¡¹ç›®\n\n\n\n* æ–°å»º http æ–‡ä»¶ï¼Œç¼–å†™ http æµ‹è¯•è„šæœ¬ï¼Œæ‰§è¡Œ\n\n![image-20210415002803589](https://gitee.com/faro/images/raw/master/img/20210415002803.png)\n\n```http\nGET http://localhost:8880/test/list\nAccept: application/json\n\n###\n```\n\n\n\næœ€åæˆåŠŸä»æ¥å£ä¸­è·å–æ•°æ®åº“ä¸­çš„æ•°æ®ï¼Œè¯´æ˜æˆ‘ä»¬ä¹‹å‰é…ç½®çš„éƒ½æ²¡æœ‰é”™è¯¯ï¼Œå¯ä»¥è¿›è¡Œä¸‹é¢çš„æ“ä½œ\n\n![image-20210415003021769](https://gitee.com/faro/images/raw/master/img/20210415003021.png)\n\n\n\n### 6. MyBatis ä»£ç ç”Ÿæˆå™¨\n\næˆ‘ä»¬ä¸å¯èƒ½å»å†™æ‰€æœ‰æŒä¹…å±‚çš„å®ç°ï¼Œä¸šåŠ¡ä¸­ï¼Œè¿™éƒ¨åˆ†éƒ½æ˜¯è‡ªåŠ¨ç”Ÿæˆçš„\n\n\n\n* å¯¼å…¥ Maven ä¾èµ–\n\næ³¨æ„ï¼Œ==æ˜¯æ”¾åœ¨`plugiuns`ä¸‹é¢çš„==\n\n```xml\n<!-- mybatis generator è‡ªåŠ¨ç”Ÿæˆä»£ç æ’ä»¶ -->\n            <plugin>\n                <groupId>org.mybatis.generator</groupId>\n                <artifactId>mybatis-generator-maven-plugin</artifactId>\n                <version>1.4.0</version>\n                <configuration>\n                    <configurationFile>src/main/resources/generator/generator-config.xml</configurationFile>\n                    <overwrite>true</overwrite>\n                    <verbose>true</verbose>\n                </configuration>\n                <dependencies>\n                    <dependency>\n                        <groupId>mysql</groupId>\n                        <artifactId>mysql-connector-java</artifactId>\n                        <version>8.0.22</version>\n                    </dependency>\n                </dependencies>\n            </plugin>\n```\n\n\n\n* å»ºç«‹ä»£ç”Ÿæˆå™¨ä½ç½®\n\npomæ–‡ä»¶ä¸­ï¼Œæ˜¾ç¤ºäº†è¦åˆ›å»ºçš„ä»£ç ç”Ÿæˆå™¨çš„ä½ç½®`src/main/resources/generator/generator-config.xml`\n\n```xml\n<configurationFile>\n  src/main/resources/generator/generator-config.xml\n</configurationFile>\n```\n\n![image-20210323131202189](https://gitee.com/faro/images/raw/master/img/20210323131202.png)\n\n\n\n* ä»£ç ç”Ÿæˆå™¨ä»£ç \n\nä»`jdbcConnection`å¼€å§‹ï¼Œåˆ«å¿˜äº†==æ ¹æ®é¡¹ç›®è¿›è¡Œä¿®æ”¹==\n\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<!DOCTYPE generatorConfiguration\n        PUBLIC \"-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN\"\n        \"http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd\">\n\n<generatorConfiguration>\n    <context id=\"Mysql\" targetRuntime=\"MyBatis3\" defaultModelType=\"flat\">\n\n        <!-- è‡ªåŠ¨æ£€æŸ¥å…³é”®å­—ï¼Œä¸ºå…³é”®å­—å¢åŠ åå¼•å· -->\n        <property name=\"autoDelimitKeywords\" value=\"true\"/>\n        <property name=\"beginningDelimiter\" value=\"`\"/>\n        <property name=\"endingDelimiter\" value=\"`\"/>\n\n        <!--è¦†ç›–ç”ŸæˆXMLæ–‡ä»¶-->\n        <plugin type=\"org.mybatis.generator.plugins.UnmergeableXmlMappersPlugin\" />\n        <!-- ç”Ÿæˆçš„å®ä½“ç±»æ·»åŠ toString()æ–¹æ³• -->\n        <plugin type=\"org.mybatis.generator.plugins.ToStringPlugin\"/>\n\n        <!-- ä¸ç”Ÿæˆæ³¨é‡Š -->\n        <commentGenerator>\n            <property name=\"suppressAllComments\" value=\"true\"/>\n        </commentGenerator>\n\n        <jdbcConnection driverClass=\"com.mysql.cj.jdbc.Driver\"\n                        connectionURL=\"jdbc:mysql://localhost:3306/wiki?useUnicode=true&amp;characterEncoding=utf-8\"\n                        userId=\"wiki\"\n                        password=\"123456\">\n        </jdbcConnection>\n\n        <!-- domainç±»çš„ä½ç½® -->\n        <javaModelGenerator targetProject=\"src/main/java\"\n                            targetPackage=\"top.faroz.pojo\"/>\n\n        <!-- mapper xmlçš„ä½ç½® -->\n        <sqlMapGenerator targetProject=\"src/main/resources\"\n                         targetPackage=\"mapper\"/>\n\n        <!-- mapperç±»çš„ä½ç½® -->\n        <javaClientGenerator targetProject=\"src/main/java\"\n                             targetPackage=\"top.faroz.mapper\"\n                             type=\"XMLMAPPER\"/>\n\n        <table tableName=\"demo\" domainObjectName=\"Demo\"/>\n        <!--<table tableName=\"ebook\"/>-->\n        <!--<table tableName=\"category\"/>-->\n        <!--<table tableName=\"doc\"/>-->\n        <!--<table tableName=\"content\"/>-->\n        <!--<table tableName=\"user\"/>-->\n        <!--<table tableName=\"ebook_snapshot\"/>-->\n    </context>\n</generatorConfiguration>\n```\n\n\n\n* æ–°å»ºä¸€ä¸ªmavenå¯åŠ¨é¡¹\n\n![image-20210411015300856](https://gitee.com/faro/images/raw/master/img/20210411015300.png)\n\n![image-20210411015346116](https://gitee.com/faro/images/raw/master/img/20210411015346.png)\n\n```bash\nmybatis-generator:generate -e\n```\n\n![image-20210411015516818](https://gitee.com/faro/images/raw/master/img/20210411015516.png)\n\n\n\n### 7. æµ‹è¯•ä»£ç ç”Ÿæˆå™¨\n\nä»£ç ç”Ÿæˆå™¨çš„å·¥ä½œåŸç†ï¼Œæ˜¯ä»æ•°æ®åº“ä¸­å–å‡ºè¡¨ä¿¡æ¯ï¼Œç„¶åæ ¹æ®è¡¨ä¿¡æ¯ï¼Œå»æ„é€ æŒä¹…å±‚ä»£ç ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬è¦å†å»å»ºä¸€ä¸ªè¡¨\n\n\n\n* all.sql æ·»åŠ  demo è¡¨çš„å¢åŠ  SQL è¯­å¥ï¼Œå¹¶æ‰§è¡Œ\n\n```sql\n# demoåˆ—è¡¨\ndrop table if exists `demo`;\ncreate table `demo` (\n    `id` bigint not null comment 'id',\n    `name` varchar(50) comment 'åç§°',\n    primary key (`id`)\n) engine=innodb default charset =utf8mb4 comment 'æµ‹è¯•';\n\ninsert into `demo` (id,name) values(2,'æµ‹è¯•2');\n```\n\n\n\n* åœ¨ä»£ç ç”Ÿæˆå™¨æœ€åçš„éƒ¨åˆ†ï¼Œå¡«ä¸Šè¦ç”Ÿæˆçš„è¡¨å\n\n![image-20210415012438872](https://gitee.com/faro/images/raw/master/img/20210415012439.png)\n\n\n\n* æ‰§è¡Œ\n\n![image-20210415012552449](https://gitee.com/faro/images/raw/master/img/20210415012552.png)\n\n\n\n* æ‰§è¡ŒæˆåŠŸï¼Œä¼šç”Ÿæˆ 4 ä¸ªæ–°æ–‡ä»¶\n\n![image-20210415012630004](https://gitee.com/faro/images/raw/master/img/20210415012630.png)\n\n\n\n* æˆ‘ä»¬æ¨¡ä»¿ Testï¼Œå»å†™ Demoçš„ Service å’Œ Controller ä»£ç \n\n```java\n@RestController\npublic class DemoController {\n\n    @Autowired\n    private DemoService demoService;\n\n    @RequestMapping(\"/demo/list\")\n    public List<Demo> list() {\n        return demoService.getList();\n    }\n}\n```\n\n```java\n@Service\npublic class DemoService {\n\n    @Resource\n    private DemoMapper demoMapper;\n\n    public List<Demo> getList() {\n        List<Demo> list = demoMapper.selectByExample(null);\n        return list;\n    }\n}\n```\n\n\n\n* æ·»åŠ  demo çš„ http æµ‹è¯•è„šæœ¬\n\n```http\nGET http://localhost:8880/demo/list\nAccept: application/json\n\n###\n```\n\næµ‹è¯•æˆåŠŸï¼Œè¯´æ˜æˆ‘ä»¬ç”¨ä»£ç ç”Ÿæˆå™¨ç”Ÿæˆçš„ä»£ç æ²¡æœ‰é—®é¢˜\n\n![image-20210415013323695](https://gitee.com/faro/images/raw/master/img/20210415013323.png)\n\n\n\n### 8. è§£å†³å‰åç«¯è·¨åŸŸé—®é¢˜\n\nè™½ç„¶ç°åœ¨è¿˜æ²¡æœ‰æ„å»ºå‰ç«¯é¡¹ç›®ï¼Œä½†æ˜¯åé¢ï¼Œä¼šå‡ºç°è·¨åŸŸé—®é¢˜\n\n\n\n* æ–°å»º CorsConfig ç±»\n\n![image-20210415013643183](https://gitee.com/faro/images/raw/master/img/20210415013643.png)\n\n\n\n* ä»£ç å¦‚ä¸‹\n\nä¸ç”¨æ”¹åŠ¨ï¼Œç›´æ¥ç”¨ï¼Œåˆ«å¿˜äº†åŠ ä¸Š==@Configuration==æ³¨è§£\n\n```java\n@Configuration\npublic class CorsConfig implements WebMvcConfigurer {\n\n    @Override\n    public void addCorsMappings(CorsRegistry registry) {\n        registry.addMapping(\"/**\")\n                .allowedOriginPatterns(\"*\")\n                .allowedHeaders(CorsConfiguration.ALL)\n                .allowedMethods(CorsConfiguration.ALL)\n                .allowCredentials(true)\n                .maxAge(3600); // 1å°æ—¶å†…ä¸éœ€è¦å†é¢„æ£€ï¼ˆå‘OPTIONSè¯·æ±‚ï¼‰\n    }\n}\n```\n\n\n\n### 9. æ·»åŠ é›ªèŠ±ç®—æ³•å·¥å…·ç±»\n\né›ªèŠ±ç®—æ³•ï¼Œç”¨æ¥ç”Ÿæˆå”¯ä¸€ ID\n\n\n\n* æ–°å»º SnowFlake å·¥å…·ç±»\n\n![image-20210415014504164](https://gitee.com/faro/images/raw/master/img/20210415014504.png)\n\n\n\n* ä»£ç å¦‚ä¸‹\n\nåˆ«å¿˜äº†åŠ ä¸Š @Component æ³¨è§£\n\n```java\n@Component\npublic class SnowFlake {\n    /**\n     * èµ·å§‹çš„æ—¶é—´æˆ³\n     */\n    private final static long START_STMP = 1609459200000L; // 2021-01-01 00:00:00\n\n    /**\n     * æ¯ä¸€éƒ¨åˆ†å ç”¨çš„ä½æ•°\n     */\n    private final static long SEQUENCE_BIT = 12; //åºåˆ—å·å ç”¨çš„ä½æ•°\n    private final static long MACHINE_BIT = 5;   //æœºå™¨æ ‡è¯†å ç”¨çš„ä½æ•°\n    private final static long DATACENTER_BIT = 5;//æ•°æ®ä¸­å¿ƒå ç”¨çš„ä½æ•°\n\n    /**\n     * æ¯ä¸€éƒ¨åˆ†çš„æœ€å¤§å€¼\n     */\n    private final static long MAX_DATACENTER_NUM = -1L ^ (-1L << DATACENTER_BIT);\n    private final static long MAX_MACHINE_NUM = -1L ^ (-1L << MACHINE_BIT);\n    private final static long MAX_SEQUENCE = -1L ^ (-1L << SEQUENCE_BIT);\n\n    /**\n     * æ¯ä¸€éƒ¨åˆ†å‘å·¦çš„ä½ç§»\n     */\n    private final static long MACHINE_LEFT = SEQUENCE_BIT;\n    private final static long DATACENTER_LEFT = SEQUENCE_BIT + MACHINE_BIT;\n    private final static long TIMESTMP_LEFT = DATACENTER_LEFT + DATACENTER_BIT;\n\n    private long datacenterId = 1;  //æ•°æ®ä¸­å¿ƒ\n    private long machineId = 1;     //æœºå™¨æ ‡è¯†\n    private long sequence = 0L; //åºåˆ—å·\n    private long lastStmp = -1L;//ä¸Šä¸€æ¬¡æ—¶é—´æˆ³\n\n    public SnowFlake() {\n    }\n\n    public SnowFlake(long datacenterId, long machineId) {\n        if (datacenterId > MAX_DATACENTER_NUM || datacenterId < 0) {\n            throw new IllegalArgumentException(\"datacenterId can't be greater than MAX_DATACENTER_NUM or less than 0\");\n        }\n        if (machineId > MAX_MACHINE_NUM || machineId < 0) {\n            throw new IllegalArgumentException(\"machineId can't be greater than MAX_MACHINE_NUM or less than 0\");\n        }\n        this.datacenterId = datacenterId;\n        this.machineId = machineId;\n    }\n\n    /**\n     * äº§ç”Ÿä¸‹ä¸€ä¸ªID\n     *\n     * @return\n     */\n    public synchronized long nextId() {\n        long currStmp = getNewstmp();\n        if (currStmp < lastStmp) {\n            throw new RuntimeException(\"Clock moved backwards.  Refusing to generate id\");\n        }\n\n        if (currStmp == lastStmp) {\n            //ç›¸åŒæ¯«ç§’å†…ï¼Œåºåˆ—å·è‡ªå¢\n            sequence = (sequence + 1) & MAX_SEQUENCE;\n            //åŒä¸€æ¯«ç§’çš„åºåˆ—æ•°å·²ç»è¾¾åˆ°æœ€å¤§\n            if (sequence == 0L) {\n                currStmp = getNextMill();\n            }\n        } else {\n            //ä¸åŒæ¯«ç§’å†…ï¼Œåºåˆ—å·ç½®ä¸º0\n            sequence = 0L;\n        }\n\n        lastStmp = currStmp;\n\n        return (currStmp - START_STMP) << TIMESTMP_LEFT //æ—¶é—´æˆ³éƒ¨åˆ†\n                | datacenterId << DATACENTER_LEFT       //æ•°æ®ä¸­å¿ƒéƒ¨åˆ†\n                | machineId << MACHINE_LEFT             //æœºå™¨æ ‡è¯†éƒ¨åˆ†\n                | sequence;                             //åºåˆ—å·éƒ¨åˆ†\n    }\n\n    private long getNextMill() {\n        long mill = getNewstmp();\n        while (mill <= lastStmp) {\n            mill = getNewstmp();\n        }\n        return mill;\n    }\n\n    private long getNewstmp() {\n        return System.currentTimeMillis();\n    }\n\n    // public static void main(String[] args) throws ParseException {\n    //     // æ—¶é—´æˆ³\n    //     // System.out.println(System.currentTimeMillis());\n    //     // System.out.println(new Date().getTime());\n    //     //\n    //     // String dateTime = \"2021-01-01 08:00:00\";\n    //     // SimpleDateFormat sdf = new SimpleDateFormat(\"yyyy-MM-dd hh:mm:ss\");\n    //     // System.out.println(sdf.parse(dateTime).getTime());\n    //\n    //     SnowFlake snowFlake = new SnowFlake(1, 1);\n    //\n    //     long start = System.currentTimeMillis();\n    //     for (int i = 0; i < 10; i++) {\n    //         System.out.println(snowFlake.nextId());\n    //         System.out.println(System.currentTimeMillis() - start);\n    //     }\n    // }\n\n}\n```\n\n\n\n\n\n### 10. æ·»åŠ  AOP\n\nAOP ç”¨æ¥æ‰“å°æ¥å£æ—¥å¿—ï¼Œæ–¹ä¾¿åæœŸè°ƒè¯•\n\n\n\n* Maven ä¸­å¼•å…¥ fastjsonï¼Œå› ä¸º æˆ‘ä»¬çš„ç±»ä¸­è¦ç”¨\n\n```xml\n <!--fastjson-->\n<dependency>\n  <groupId>com.alibaba</groupId>\n  <artifactId>fastjson</artifactId>\n  <version>1.2.70</version>\n</dependency>\n```\n\n\n\n* Maven å¼•å…¥ AOP\n\n```xml\n<!--å¯¼å…¥aop-->\n<dependency>\n  <groupId>org.springframework.boot</groupId>\n  <artifactId>spring-boot-starter-aop</artifactId>\n</dependency>\n```\n\n\n\n* æ·»åŠ  RequestContext å·¥å…·ç±»\n\nè¿™ä¸ªæ˜¯åæœŸä¸ºäº†æ‰“å° WebSocket æ—¥å¿—çš„\n\n![image-20210415014912415](https://gitee.com/faro/images/raw/master/img/20210415014912.png)\n\n```java\npublic class RequestContext implements Serializable {\n    private static ThreadLocal<String> remoteAddr = new ThreadLocal<>();\n\n    public static String getRemoteAddr() {\n        return remoteAddr.get();\n    }\n\n    public static void setRemoteAddr(String remoteAddr) {\n        weixindemo.util.RequestContext.remoteAddr.set(remoteAddr);\n    }\n}\n```\n\n\n\n* æ–°å»º aspect åŒ…ï¼Œå¹¶æ–°å»º LogAspect ç±»\n\n![image-20210415013942484](https://gitee.com/faro/images/raw/master/img/20210415013942.png)\n\n\n\n**LogAspect ä»£ç å¦‚ä¸‹:**\n\nåˆ‡ç‚¹çš„ä»£ç ï¼Œæˆ‘ä»¬è¦ä¾æ®é¡¹ç›®ä¿®æ”¹\n\n![image-20210415015319943](https://gitee.com/faro/images/raw/master/img/20210415015320.png)\n\n```java\n@Aspect\n@Component\npublic class LogAspect {\n    private final static Logger LOG = LoggerFactory.getLogger(weixindemo.aspect.LogAspect.class);\n\n    @Resource\n    private SnowFlake snowFlake;\n\n    /** å®šä¹‰ä¸€ä¸ªåˆ‡ç‚¹ */\n    @Pointcut(\"execution(public * weixindemo.controller..*Controller.*(..))\")\n    public void controllerPointcut() {}\n\n    // @Resource\n    // private SnowFlake snowFlake;\n\n    @Before(\"controllerPointcut()\")\n    public void doBefore(JoinPoint joinPoint) throws Throwable {\n\n        // å¢åŠ æ—¥å¿—æµæ°´å·\n        MDC.put(\"LOG_ID\", String.valueOf(snowFlake.nextId()));\n\n        // å¼€å§‹æ‰“å°è¯·æ±‚æ—¥å¿—\n        ServletRequestAttributes attributes = (ServletRequestAttributes) RequestContextHolder.getRequestAttributes();\n        HttpServletRequest request = attributes.getRequest();\n        Signature signature = joinPoint.getSignature();\n        String name = signature.getName();\n\n        // æ‰“å°è¯·æ±‚ä¿¡æ¯\n        LOG.info(\"------------- å¼€å§‹ -------------\");\n        LOG.info(\"è¯·æ±‚åœ°å€: {} {}\", request.getRequestURL().toString(), request.getMethod());\n        LOG.info(\"ç±»åæ–¹æ³•: {}.{}\", signature.getDeclaringTypeName(), name);\n        LOG.info(\"è¿œç¨‹åœ°å€: {}\", request.getRemoteAddr());\n\n        RequestContext.setRemoteAddr(getRemoteIp(request));\n\n        // æ‹¿åˆ°æ‰€æœ‰çš„å‚æ•°\n        Object[] args = joinPoint.getArgs();\n        // LOG.info(\"è¯·æ±‚å‚æ•°: {}\", JSONObject.toJSONString(args));\n\n        Object[] arguments  = new Object[args.length];\n        for (int i = 0; i < args.length; i++) {\n            if (args[i] instanceof ServletRequest\n                    || args[i] instanceof ServletResponse\n                    || args[i] instanceof MultipartFile) {\n                continue;\n            }\n            arguments[i] = args[i];\n        }\n        // æ’é™¤å­—æ®µï¼Œæ•æ„Ÿå­—æ®µæˆ–å¤ªé•¿çš„å­—æ®µä¸æ˜¾ç¤º\n        String[] excludeProperties = {\"password\", \"file\"};\n        PropertyPreFilters filters = new PropertyPreFilters();\n        PropertyPreFilters.MySimplePropertyPreFilter excludefilter = filters.addFilter();\n        excludefilter.addExcludes(excludeProperties);\n        LOG.info(\"è¯·æ±‚å‚æ•°: {}\", JSONObject.toJSONString(arguments, excludefilter));\n    }\n\n    @Around(\"controllerPointcut()\")\n    public Object doAround(ProceedingJoinPoint proceedingJoinPoint) throws Throwable {\n        long startTime = System.currentTimeMillis();\n        Object result = proceedingJoinPoint.proceed();\n        // æ’é™¤å­—æ®µï¼Œæ•æ„Ÿå­—æ®µæˆ–å¤ªé•¿çš„å­—æ®µä¸æ˜¾ç¤º\n        String[] excludeProperties = {\"password\", \"file\"};\n        PropertyPreFilters filters = new PropertyPreFilters();\n        PropertyPreFilters.MySimplePropertyPreFilter excludefilter = filters.addFilter();\n        excludefilter.addExcludes(excludeProperties);\n        LOG.info(\"è¿”å›ç»“æœ: {}\", JSONObject.toJSONString(result, excludefilter));\n        LOG.info(\"------------- ç»“æŸ è€—æ—¶ï¼š{} ms -------------\", System.currentTimeMillis() - startTime);\n        return result;\n    }\n\n    /**\n     * ä½¿ç”¨nginxåšåå‘ä»£ç†ï¼Œéœ€è¦ç”¨è¯¥æ–¹æ³•æ‰èƒ½å–åˆ°çœŸå®çš„è¿œç¨‹IP\n     * å½“æˆ‘ä»¬å‘å¸ƒä¸Šçº¿åï¼Œå› ä¸ºå‰ç«¯ã€åç«¯éƒ½æ˜¯ç”¨80ç«¯å£ï¼Œä¼šå†²çª\n     * æ‰€ä»¥ç”¨æˆ·è®¿é—®çš„æ—¶å€™ï¼Œéœ€è¦å…ˆå»è®¿é—® nginxï¼Œç„¶åï¼Œè®© nginx å»åå‘ä»£ç†ï¼Œæ‰¾æˆ‘ä»¬è¦è®¿é—®çš„è·¯å¾„\n     * @param request\n     * @return\n     */\n    public String getRemoteIp(HttpServletRequest request) {\n        String ip = request.getHeader(\"x-forwarded-for\");\n        if (ip == null || ip.length() == 0 || \"unknown\".equalsIgnoreCase(ip)) {\n            ip = request.getHeader(\"Proxy-Client-IP\");\n        }\n        if (ip == null || ip.length() == 0 || \"unknown\".equalsIgnoreCase(ip)) {\n            ip = request.getHeader(\"WL-Proxy-Client-IP\");\n        }\n        if (ip == null || ip.length() == 0 || \"unknown\".equalsIgnoreCase(ip)) {\n            ip = request.getRemoteAddr();\n        }\n        return ip;\n    }\n}\n```\n\n\n\n### 11. è§£å†³å‰åç«¯ Long ç²¾åº¦ä¸¢å¤±é—®é¢˜\n\næˆ‘ä»¬åæœŸä¼šç”¨åˆ° MD5 åŠ å¯†ï¼Œåˆ°æ—¶å€™åç«¯ä¼ åˆ°å‰ç«¯çš„æ—¶å€™ï¼Œå› ä¸º javascript number çš„ç²¾åº¦é—®é¢˜ï¼Œä¼šå‡ºç°æ•°æ®ä¸¢å¤±\n\n\n\n* é…ç½®æ–‡ä»¶æ–°å¢ JacksonConfig ç±»\n\n![image-20210415020223600](https://gitee.com/faro/images/raw/master/img/20210415020223.png)\n\n\n\n* ä»£ç å¦‚ä¸‹\n\n```java\n@Configuration\npublic class JacksonConfig {\n\n    @Bean\n    public ObjectMapper jacksonObjectMapper(Jackson2ObjectMapperBuilder builder) {\n        ObjectMapper objectMapper = builder.createXmlMapper(false).build();\n        SimpleModule simpleModule = new SimpleModule();\n        // simpleModule.addSerializer(Long.class, ToStringSerializer.instance);\n        simpleModule.addSerializer(Long.class, ToStringSerializer.instance);\n        objectMapper.registerModule(simpleModule);\n        return objectMapper;\n    }\n}\n```\n\n\n\n### 12. æ–°å»º req resp åŒ…\n\næˆ‘ä»¬è¦å°†è¯·æ±‚ä¸è¿”å›åŒ…è£…\n\n![image-20210415020648707](https://gitee.com/faro/images/raw/master/img/20210415020648.png)\n\n\n\n### 13. CommonResp\n\nä¸ºäº†æ–¹ä¾¿å‰ç«¯è°ƒç”¨ï¼Œåç«¯çš„ respï¼Œæˆ‘ä»¬å†™ä¸€ä¸ªç»Ÿä¸€çš„è¿”å› CommonResp\n\n![image-20210415020805724](https://gitee.com/faro/images/raw/master/img/20210415020805.png)\n\n**ä»£ç å¦‚ä¸‹ï¼š**\n\n```java\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class CommonResp<T> {\n    /**\n     * è¿”å›æ˜¯å¦æˆåŠŸ\n     */\n    private boolean isSuccess=true;\n\n    /**\n     * è¿”å›å¤±è´¥æ—¶ï¼Œè¿”å›çš„é”™è¯¯ä¿¡æ¯\n     */\n    private String message;\n\n    /**\n     * è¿”å›æˆåŠŸçš„æ—¶å€™ï¼Œè¿”å›çš„å†…å®¹\n     */\n    private T content;\n}\n```\n\n\n\n### 14. è‡ªå®šä¹‰å¼‚å¸¸\n\n* æ–°å»ºå¼‚å¸¸ç±»`BusinessException`å’Œå¼‚å¸¸ä¿¡æ¯æšä¸¾`BusinessExceptionCode`\n\n![image-20210415021357196](https://gitee.com/faro/images/raw/master/img/20210415021357.png)\n\n\n\n* `BusinessException`ä»£ç \n\n```java\npublic class BusinessException extends RuntimeException{\n    private BusinessExceptionCode code;\n\n    public BusinessException (BusinessExceptionCode code) {\n        /**\n         * çˆ¶ç±»æœ‰ä¸ªæˆå‘˜å˜é‡  private String desc\n         * éœ€è¦ä¸ºè¿™ä¸ªæˆå‘˜å˜é‡èµ‹å€¼\n         */\n        super(code.getDesc());\n        this.code = code;\n    }\n\n    public BusinessExceptionCode getCode() {\n        return code;\n    }\n\n    public void setCode(BusinessExceptionCode code) {\n        this.code = code;\n    }\n\n    /**\n     * ä¸å†™å…¥å †æ ˆä¿¡æ¯ï¼Œæé«˜æ€§èƒ½\n     */\n    @Override\n    public Throwable fillInStackTrace() {\n        return this;\n    }\n}\n```\n\n\n\n* `BusinessExceptionCode`ä»£ç \n\n```java\npublic enum BusinessExceptionCode {\n    USER_LOGIN_NAME_EXIST(\"ç™»å½•åå·²å­˜åœ¨\"),\n    LOGIN_USER_ERROR(\"ç”¨æˆ·åä¸å­˜åœ¨æˆ–å¯†ç é”™è¯¯\"),\n    VOTE_REPEAT(\"æ‚¨å·²ç‚¹èµè¿‡\"),\n    ;\n\n    private String desc;\n\n    BusinessExceptionCode(String desc) {\n        this.desc = desc;\n    }\n\n    public String getDesc() {\n        return desc;\n    }\n\n    public void setDesc(String desc) {\n        this.desc = desc;\n    }\n}\n```\n\n\n\n\n\n### 13. ç»Ÿä¸€å¼‚å¸¸å¤„ç†\n\næˆ‘ä»¬æ‰€æœ‰å¼‚å¸¸ï¼Œéƒ½é€šè¿‡è¿™ä¸ªç±»æ¥æ•è·ï¼Œå¹¶ç”Ÿæˆä¸€ä¸ªè¿”å›é”™è¯¯ä¿¡æ¯çš„ CommonResp\n\n\n\n* æ–°å»º ControllerExceptionHandler ç±»\n\n![](https://gitee.com/faro/images/raw/master/img/20210415020947.png)\n\n\n\n* ä»£ç å¦‚ä¸‹\n\nlogger è¦æ ¹æ®é¡¹ç›®æ”¹ä¸€ä¸‹\n\n```java\n/**\n * ç»Ÿä¸€å¼‚å¸¸å¤„ç†ã€æ•°æ®é¢„å¤„ç†ç­‰\n * è¯¥ç±»ç”¨äºæ•è·ç³»ç»Ÿå¼¹å‡ºçš„å¼‚å¸¸\n * å°†å¼‚å¸¸åŒ…è£…æˆä¸€ä¸ª CommonResp\n * ä»è€Œæ–¹ä¾¿å‰ç«¯è°ƒç”¨ï¼Œæ˜¾ç¤ºé”™è¯¯ä¿¡æ¯\n */\n@ControllerAdvice\npublic class ControllerExceptionHandler {\n    private static final Logger LOG = LoggerFactory.getLogger(top.faroz.controller.ControllerExceptionHandler.class);\n\n    /**\n     * æ ¡éªŒå¼‚å¸¸ç»Ÿä¸€å¤„ç†\n     * @param e\n     * @return\n     */\n    @ExceptionHandler(value = BindException.class)\n    @ResponseBody\n    public CommonResp validExceptionHandler(BindException e) {\n        CommonResp commonResp = new CommonResp();\n        LOG.warn(\"å‚æ•°æ ¡éªŒå¤±è´¥ï¼š{}\", e.getBindingResult().getAllErrors().get(0).getDefaultMessage());\n        commonResp.setSuccess(false);\n        commonResp.setMessage(e.getBindingResult().getAllErrors().get(0).getDefaultMessage());\n        return commonResp;\n    }\n\n    /**\n     * æ ¡éªŒå¼‚å¸¸ç»Ÿä¸€å¤„ç†\n     * @param e\n     * @return\n     */\n    @ExceptionHandler(value = BusinessException.class)\n    @ResponseBody\n    public CommonResp validExceptionHandler(BusinessException e) {\n        CommonResp commonResp = new CommonResp();\n        LOG.warn(\"ä¸šåŠ¡å¼‚å¸¸ï¼š{}\", e.getCode().getDesc());\n        commonResp.setSuccess(false);\n        commonResp.setMessage(e.getCode().getDesc());\n        return commonResp;\n    }\n\n    /**\n     * æ ¡éªŒå¼‚å¸¸ç»Ÿä¸€å¤„ç†\n     * @param e\n     * @return\n     */\n    @ExceptionHandler(value = Exception.class)\n    @ResponseBody\n    public CommonResp validExceptionHandler(Exception e) {\n        CommonResp commonResp = new CommonResp();\n        LOG.error(\"ç³»ç»Ÿå¼‚å¸¸ï¼š\", e);\n        commonResp.setSuccess(false);\n        commonResp.setMessage(\"ç³»ç»Ÿå‡ºç°å¼‚å¸¸ï¼Œè¯·è”ç³»ç®¡ç†å‘˜\");\n        return commonResp;\n    }\n}\n```\n\n\n\n### 14. æ·»åŠ æ—¥å¿—è®°å½• logback\n\n* åœ¨ resource ä¸‹ï¼Œæ–°å»ºlogback-spring.xml æ–‡ä»¶\n\n![image-20210411004947139](https://gitee.com/faro/images/raw/master/img/20210411004947.png)\n\n* å†™å…¥å†…å®¹\n\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<configuration>\n    <!-- ä¿®æ”¹ä¸€ä¸‹è·¯å¾„-->\n    <property name=\"PATH\" value=\"./log\"></property>\n\n    <appender name=\"STDOUT\" class=\"ch.qos.logback.core.ConsoleAppender\">\n        <encoder>\n            <Pattern>%d{yyyy-MM-dd HH:mm:ss.SSS} %highlight(%-5level) %blue(%-50logger{50}:%-4line) %thread %msg%n</Pattern>\n            <!--<Pattern>%d{ss.SSS} %highlight(%-5level) %blue(%-30logger{30}:%-4line) %thread %green(%-18X{LOG_ID}) %msg%n</Pattern>-->\n        </encoder>\n    </appender>\n\n    <appender name=\"TRACE_FILE\" class=\"ch.qos.logback.core.rolling.RollingFileAppender\">\n        <file>${PATH}/trace.log</file>\n        <rollingPolicy class=\"ch.qos.logback.core.rolling.TimeBasedRollingPolicy\">\n            <FileNamePattern>${PATH}/trace.%d{yyyy-MM-dd}.%i.log</FileNamePattern>\n            <timeBasedFileNamingAndTriggeringPolicy class=\"ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP\">\n                <maxFileSize>10MB</maxFileSize>\n            </timeBasedFileNamingAndTriggeringPolicy>\n        </rollingPolicy>\n        <layout>\n            <pattern>%d{yyyy-MM-dd HH:mm:ss.SSS} %-5level %-50logger{50}:%-4line %green(%-18X{LOG_ID}) %msg%n</pattern>\n        </layout>\n    </appender>\n\n    <appender name=\"ERROR_FILE\" class=\"ch.qos.logback.core.rolling.RollingFileAppender\">\n        <file>${PATH}/error.log</file>\n        <rollingPolicy class=\"ch.qos.logback.core.rolling.TimeBasedRollingPolicy\">\n            <FileNamePattern>${PATH}/error.%d{yyyy-MM-dd}.%i.log</FileNamePattern>\n            <timeBasedFileNamingAndTriggeringPolicy class=\"ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP\">\n                <maxFileSize>10MB</maxFileSize>\n            </timeBasedFileNamingAndTriggeringPolicy>\n        </rollingPolicy>\n        <layout>\n            <pattern>%d{yyyy-MM-dd HH:mm:ss.SSS} %-5level %-50logger{50}:%-4line %green(%-18X{LOG_ID}) %msg%n</pattern>\n        </layout>\n        <filter class=\"ch.qos.logback.classic.filter.LevelFilter\">\n            <level>ERROR</level>\n            <onMatch>ACCEPT</onMatch>\n            <onMismatch>DENY</onMismatch>\n        </filter>\n    </appender>\n\n    <root level=\"ERROR\">\n        <appender-ref ref=\"ERROR_FILE\" />\n    </root>\n\n    <root level=\"TRACE\">\n        <appender-ref ref=\"TRACE_FILE\" />\n    </root>\n\n    <root level=\"INFO\">\n        <appender-ref ref=\"STDOUT\" />\n    </root>\n</configuration>\n\n```\n\n\n\n### 15. è‡ªå®šä¹‰ banner\n\nresources ä¸‹æ–°å»º banner.txt\n\n![image-20210415023847796](https://gitee.com/faro/images/raw/master/img/20210415023847.png)\n\n\n\né‡Œé¢æ”¾ä¸Šè‡ªå®šä¹‰ banner\n\n```txt\n ********     **     *******     *******         ********\n/**/////     ****   /**////**   **/////**       //////** \n/**         **//**  /**   /**  **     //**           **  \n/*******   **  //** /*******  /**      /**          **   \n/**////   **********/**///**  /**      /**         **    \n/**      /**//////**/**  //** //**     **         **     \n/**      /**     /**/**   //** //*******   ***** ********\n//       //      // //     //   ///////   ///// //////// \n```\n\n\n\n\n","success":true}
2021-04-16 00:46:32.712 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2021-04-16 00:47:50.654 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:47:50.654 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:47:50.658 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2021-04-16 00:47:50.658 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find/1 GET
2021-04-16 00:47:50.658 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.findContent
2021-04-16 00:47:50.658 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.find
2021-04-16 00:47:50.658 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:47:50.658 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:47:50.659 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [1]
2021-04-16 00:47:50.659 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [1]
2021-04-16 00:47:50.671 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},"success":true}
2021-04-16 00:47:50.671 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š17 ms -------------
2021-04-16 00:47:50.672 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":"# å®Œæ•´é¡¹ç›®æ­å»ºæµç¨‹\n\nè™½è¯´ SpringBoot ç›¸è¾ƒäº SSM æ¡†æ¶ï¼Œå¤§å¤§å‡è½»äº†é…ç½®çš„ç¹çï¼Œä½†æ˜¯ï¼Œè¦æ•´åˆ MyBatis ï¼Œç»Ÿä¸€å¼‚å¸¸å¤„ç†ï¼ŒVueç­‰ä¸€ç³»åˆ—ä¸œè¥¿ï¼Œè¿˜æ˜¯è¦è´¹ä¸€ç•ªåŠ²çš„ã€‚\n\nè¿™æ¬¡å°†åˆ›å»ºçš„æ•´ä¸ªæµç¨‹è®°å½•ä¸‹æ¥ï¼Œæ–¹ä¾¿ä»¥åçš„é¡¹ç›®æ­å»ºã€‚\n\nè¦æ­å»ºä¸€ä¸ªå®Œæˆçš„å‰åç«¯åˆ†ç¦»é¡¹ç›®ï¼Œåˆ†ä¸ºè¿™ä¹ˆå‡ ä¸ªéƒ¨åˆ†ï¼š==æ•°æ®åº“ã€åç«¯ã€å‰ç«¯==\n\nå¦‚æœæ˜¯ä¸ºå¾®ä¿¡å°ç¨‹åºæ­å»ºä¸€ä¸ªåç«¯æœåŠ¡ï¼Œé‚£å°±åªè¦çœ‹åˆ°==æ•°æ®åº“ã€åç«¯==å°±å¯ä»¥äº†\n\n\n\n## æ•°æ®åº“\n\nä¸€èˆ¬åœ¨æ–°å»ºé¡¹ç›®çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¼šé€‰æ‹©ä¸“é—¨ä¸ºè¿™ä¸ªé¡¹ç›®æ–°å»ºä¸€ä¸ªç”¨æˆ·ï¼Œå¹¶ä¸ºè¿™ä¸ªç”¨æˆ·ï¼Œèµ‹äºˆåªå±äºè¿™ä¸€ä¸ªé¡¹ç›®çš„æ‰€æœ‰æƒé™\n\n\n\n### 1. **è¿æ¥ admin**\n\nåªæœ‰ admin æœ‰æ‰€æœ‰æƒé™\n\næˆ‘çš„æ•°æ®åº“ admin çš„è´¦æˆ·åå’Œå¯†ç æ˜¯ï¼š\n\n**è´¦æˆ·ï¼š**admin\n\n**å¯†ç ï¼š**123\n\n![image-20210411002100312](https://gitee.com/faro/images/raw/master/img/20210411003334.png)\n\n\n\n### 2. **æ–°å»ºæ•°æ®åº“**\n\nå…¶å­—ç¬¦ç±»å‹ä¸€å®šè¦é€‰æ‹©==utf8mb4==ï¼Œè¿™æ‰æ˜¯çœŸæ­£çš„ utf8ï¼Œæ”¯æŒè¡¨æƒ…ç¬¦å·\n\n![image-20210411002304858](https://gitee.com/faro/images/raw/master/img/20210411002304.png)\n\n### 3. **ä¸ºè¿™ä¸ªæ•°æ®åº“ï¼Œä¸“é—¨å»ºä¸€ä¸ªç”¨æˆ·**\n\nå¼€å‘ç¯å¢ƒä¸­ï¼Œå°±å°†å¯†ç å’Œç”¨æˆ·åè®¾ç½®æˆä¸€æ ·çš„ï¼Œè¿™æ ·ä¸ä¼šå¿˜è®°\n\nhost è®¾ç½®ä¸º localhost\n\n![image-20210411002742750](https://gitee.com/faro/images/raw/master/img/20210411002742.png)\n\n\n\n### 4. **ä¸ºè¿™ä¸ªç”¨æˆ·ï¼Œæˆäºˆå¯¹åº”æ•°æ®åº“çš„å…¨éƒ¨æƒé™**\n\n![image-20210411003034426](https://gitee.com/faro/images/raw/master/img/20210411003034.png)\n\n![image-20210411002821790](https://gitee.com/faro/images/raw/master/img/20210414201958.png)\n\n### 5. **å¯¹å½“å‰ç”¨æˆ·ï¼Œå»ºç«‹è¿æ¥**\n\n![image-20210411002945727](https://gitee.com/faro/images/raw/master/img/20210411002945.png)\n\n\n\n\n\n## åç«¯\n\nå…³äº Mavenã€tomcat çš„ä¸‹è½½é…ç½®ï¼Œè¿™é‡Œå°±ä¸è´¹ç¬”å¢¨å»è®²è§£äº†ã€‚å¦‚æœ‰éœ€è¦ï¼Œå¯ä»¥è‡ªè¡Œç™¾åº¦æŸ¥æ‰¾ã€‚\n\n### 1. æ–°å»º SpringBoot é¡¹ç›®\n\n* ç‚¹å‡» `SpringInitiallizr`ï¼Œæ–°å»ºé¡¹ç›®\n\n![image-20210414200239335](https://gitee.com/faro/images/raw/master/img/20210414200239.png)\n\n* é€‰æ‹©é»˜è®¤ä¾èµ–çš„åŒ…\n\n![image-20210414200420395](https://gitee.com/faro/images/raw/master/img/20210414200420.png)\n\n![image-20210414200533694](https://gitee.com/faro/images/raw/master/img/20210414200533.png)\n\n![image-20210414200611051](https://gitee.com/faro/images/raw/master/img/20210414200611.png)\n\n* é€‰æ‹©å­˜æ”¾è·¯å¾„\n\n![image-20210414200656633](https://gitee.com/faro/images/raw/master/img/20210414200656.png)\n\n* æ–°å»ºå®Œæˆåï¼Œé¡¹ç›®ç›®å½•å¦‚ä¸‹\n\n![image-20210414200752152](https://gitee.com/faro/images/raw/master/img/20210414200752.png)\n\n\n\n### 2. æ›´æ”¹å¯åŠ¨ç±»ä½ç½®\n\n* æ–°å»º config åŒ…ï¼Œå°†å¯åŠ¨ç±»æ”¾è¿›å»\n\n![image-20210414201018806](https://gitee.com/faro/images/raw/master/img/20210414201018.png)\n\n\n\n* ä¸ºå¯åŠ¨ç±»æ·»åŠ æ³¨è§£\n\næ³¨è§£å†…çš„ä¿¡æ¯ï¼Œæ˜¯é¡¹ç›®åç§°\n\n```java\n@ComponentScan(\"weixindemo\")\n```\n\n![image-20210414201210978](https://gitee.com/faro/images/raw/master/img/20210414201211.png)\n\n\n\n### 3. IDEA æ•°æ®åº“é…ç½®\n\n* IDEA è¿æ¥æ•°æ®åº“\n\n![image-20210414220153821](https://gitee.com/faro/images/raw/master/img/20210414220153.png)\n\n![image-20210414221502868](https://gitee.com/faro/images/raw/master/img/20210414221502.png)\n\n\n\n* æ·»åŠ  sql è„šæœ¬\n\næ–°å»º sql æ–‡ä»¶å¤¹ï¼Œå»ºç«‹`all.sql`æ–‡ä»¶\n\n![image-20210414221647283](https://gitee.com/faro/images/raw/master/img/20210414221647.png)\n\n\n\næˆ‘ä»¬åœ¨ sql è„šæœ¬ä¸­æ·»åŠ æµ‹è¯•ç”¨æ•°æ®ï¼Œå¹¶æ‰§è¡Œ\n\n```sql\n\n# æµ‹è¯•è¡¨\ndrop table if exists `test`;\ncreate table `test` (\n  `id` bigint not null comment 'id',\n  `name` varchar(50) comment 'åç§°',\n  `password` varchar(50) comment 'å¯†ç ',\n  primary key (`id`)\n) engine=innodb default charset=utf8mb4 comment='æµ‹è¯•';\n\ninsert into `test` (id, name, password) values (1, 'æµ‹è¯•', 'password');       \n```\n\nå¯ä»¥çœ‹åˆ°ï¼Œæ•°æ®åº“å·²å»ºç«‹\n\n![image-20210415000115932](https://gitee.com/faro/images/raw/master/img/20210415000131.png)\n\n\n\n### 4. é…ç½® MyBatis\n\n* åœ¨ `resource`æ–‡ä»¶å¤¹ä¸‹ï¼Œæ–°å»º `mapper`æ–‡ä»¶å¤¹\n\nè¿™æ˜¯ç”¨æ¥å­˜æ”¾ MyBatis çš„å®ç°çš„\n\n![image-20210414201459632](https://gitee.com/faro/images/raw/master/img/20210414201459.png)\n\n\n\n* æ–°å»º pojo åŒ…\n\npojo åŒ…ç”¨æ¥å­˜æ”¾å®ä½“ç±»\n\n![image-20210415000316772](https://gitee.com/faro/images/raw/master/img/20210415000316.png)\n\n\n\n* åœ¨é¡¹ç›®ä¸‹ï¼Œæ–°å»º mapper åŒ…ï¼Œç”¨æ¥å­˜æ”¾æ¥å£\n\n![image-20210415000711989](https://gitee.com/faro/images/raw/master/img/20210415000712.png)\n\n\n\n* å°†é…ç½®æ–‡ä»¶åç¼€æ”¹ä¸º`.yml`\n\næˆ‘ä¸ªäººä¹ æƒ¯ä½¿ç”¨`.yml`è¿›è¡Œä½ç½®\n\n![image-20210414201610045](https://gitee.com/faro/images/raw/master/img/20210414201610.png)\n\n\n\n* æ·»åŠ  `Mybatis`é…ç½®\n\nè¿™é‡Œï¼Œè¦æ·»åŠ æ•°æ®æºï¼Œå’Œ MyBatis çš„é…ç½®ï¼Œéƒ¨åˆ†åœ°æ–¹ï¼Œè¦æ ¹æ®å®é™…é¡¹ç›®ï¼Œè¿›è¡Œä¿®æ”¹\n\n```yml\nspring:\n  datasource:\n    url: jdbc:mysql://localhost:3306/weixindemo?useUnicode=true&characterEncoding=utf-8\n    username: weixindemo\n    password: weixindemo\n    driver-class-name: com.mysql.cj.jdbc.Driver\n    \n    \n# æ•´åˆMybatis\nmybatis:\n  # ** è¡¨ç¤ºåœ¨mapperä¸‹ä¸ç®¡æœ‰å¤šå°‘æ–‡ä»¶å¤¹ï¼Œéƒ½å¯ä»¥å…¨éƒ¨è¯†åˆ«\n  mapper-locations: classpath:/mapper/**/*.xml\n  type-aliases-package: weixindemo.pojo\n  #  æ‰“å°sqlç›¸å…³çš„æ—¥å¿—ä¿¡æ¯\n  configuration:\n    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl\n```\n\n![image-20210415000535841](https://gitee.com/faro/images/raw/master/img/20210415000535.png)\n\n\n\n* æ·»åŠ ç«¯å£é…ç½®\n\nå› ä¸º vue ä¹Ÿæ˜¯ç”¨çš„8080ç«¯å£ï¼Œæˆ‘ä»¬ä¸èƒ½å’Œå®ƒé‡äº†\n\n```yml\nserver:\n  port: 8880\n```\n\n\n\n* å¯åŠ¨ç±»æ·»åŠ `mapper`æ¥å£æ‰«æè·¯å¾„\n\n```java\n@MapperScan(\"weixindemo.mapper\") //mybatis mapperæ¥å£æ‰«æ\n```\n\n![image-20210415000824262](https://gitee.com/faro/images/raw/master/img/20210415000824.png)\n\n\n\n### 5. MVC åŒ…å»ºç«‹\n\næˆ‘ä»¬è¿˜è¦å»ºç«‹ ==service==ï¼Œ==util==ï¼Œ==controller==åŒ…\n\n![image-20210415001226689](https://gitee.com/faro/images/raw/master/img/20210415001226.png)\n\n![image-20210415001237989](https://gitee.com/faro/images/raw/master/img/20210415001238.png)\n\n\n\n### 5. æµ‹è¯• Mybatis é…ç½®\n\né…ç½®åˆ°è¿™ä¸€æ­¥ï¼Œè¦å¯¹ä¹‹å‰çš„é…ç½®ï¼Œè¿›è¡Œä¸€ä¸ªæµ‹è¯•\n\n* pojo ä¸­ï¼Œæ–°å»º Test å®ä½“ç±»\n\n![image-20210415001028711](https://gitee.com/faro/images/raw/master/img/20210415001028.png)\n\n```java\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Test {\n    private Integer id;\n    private String name;\n}\n```\n\n\n\n* mapper åŒ…ä¸­ï¼Œæ–°å»º TestMapper æ¥å£\n\n![image-20210415001403532](https://gitee.com/faro/images/raw/master/img/20210415001420.png)\n\n```java\n@Repository\n@Mapper\npublic interface TestMapper {\n    List<Test> getList();\n}\n```\n\n\n\n* resources ä¸‹çš„ mapper æ–‡ä»¶å¤¹ä¸­ï¼Œå¢åŠ  TestMapper.xml å®ç°\n\n  ![image-20210415002153386](https://gitee.com/faro/images/raw/master/img/20210415002153.png)\n\nå…·ä½“å†…å®¹ï¼Œè¦æ ¹æ®å®é™…é¡¹ç›®ä¿®æ”¹\n\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n<!DOCTYPE mapper PUBLIC \"-//mybatis.org//DTD Mapper 3.0//EN\"\n    \"http://mybatis.org/dtd/mybatis-3-mapper.dtd\">\n\n<!--namespaceè¦å’Œæ¥å£çš„ä½ç½®å’Œåå­—å¯¹åº”-->\n<mapper namespace=\"weixindemo.mapper.TestMapper\">\n\n    <select id=\"getList\" resultType=\"weixindemo.pojo.Test\">\n        select * from test\n    </select>\n\n</mapper>\n```\n\n![image-20210415002240288](https://gitee.com/faro/images/raw/master/img/20210415002240.png)\n\n\n\n* åœ¨ service åŒ…ä¸‹ï¼Œæ–°å»º TestService\n\n![](https://gitee.com/faro/images/raw/master/img/20210415002439.png)\n\nåˆ«å¿˜äº†åŠ ä¸Š @Service æ³¨è§£\n\n```java\n@Service\npublic class TestService {\n\n    @Autowired\n    private TestMapper mapper;\n\n    public List<Test> getList() {\n        return mapper.getList();\n    }\n}\n```\n\n\n\n* åœ¨ controlleråŒ…ä¸‹ï¼Œæ–°å»º TestController\n\n![image-20210415002611361](https://gitee.com/faro/images/raw/master/img/20210415002611.png)\n\n```java\n@RestController\npublic class TestController {\n\n    @Autowired\n    private TestService testService;\n    \n\n    @RequestMapping(\"/test/list\")\n    public List<Test> list() {\n        return testService.getList();\n    }\n\n}\n```\n\n\n\n* é‡å¯é¡¹ç›®\n\n\n\n* æ–°å»º http æ–‡ä»¶ï¼Œç¼–å†™ http æµ‹è¯•è„šæœ¬ï¼Œæ‰§è¡Œ\n\n![image-20210415002803589](https://gitee.com/faro/images/raw/master/img/20210415002803.png)\n\n```http\nGET http://localhost:8880/test/list\nAccept: application/json\n\n###\n```\n\n\n\næœ€åæˆåŠŸä»æ¥å£ä¸­è·å–æ•°æ®åº“ä¸­çš„æ•°æ®ï¼Œè¯´æ˜æˆ‘ä»¬ä¹‹å‰é…ç½®çš„éƒ½æ²¡æœ‰é”™è¯¯ï¼Œå¯ä»¥è¿›è¡Œä¸‹é¢çš„æ“ä½œ\n\n![image-20210415003021769](https://gitee.com/faro/images/raw/master/img/20210415003021.png)\n\n\n\n### 6. MyBatis ä»£ç ç”Ÿæˆå™¨\n\næˆ‘ä»¬ä¸å¯èƒ½å»å†™æ‰€æœ‰æŒä¹…å±‚çš„å®ç°ï¼Œä¸šåŠ¡ä¸­ï¼Œè¿™éƒ¨åˆ†éƒ½æ˜¯è‡ªåŠ¨ç”Ÿæˆçš„\n\n\n\n* å¯¼å…¥ Maven ä¾èµ–\n\næ³¨æ„ï¼Œ==æ˜¯æ”¾åœ¨`plugiuns`ä¸‹é¢çš„==\n\n```xml\n<!-- mybatis generator è‡ªåŠ¨ç”Ÿæˆä»£ç æ’ä»¶ -->\n            <plugin>\n                <groupId>org.mybatis.generator</groupId>\n                <artifactId>mybatis-generator-maven-plugin</artifactId>\n                <version>1.4.0</version>\n                <configuration>\n                    <configurationFile>src/main/resources/generator/generator-config.xml</configurationFile>\n                    <overwrite>true</overwrite>\n                    <verbose>true</verbose>\n                </configuration>\n                <dependencies>\n                    <dependency>\n                        <groupId>mysql</groupId>\n                        <artifactId>mysql-connector-java</artifactId>\n                        <version>8.0.22</version>\n                    </dependency>\n                </dependencies>\n            </plugin>\n```\n\n\n\n* å»ºç«‹ä»£ç”Ÿæˆå™¨ä½ç½®\n\npomæ–‡ä»¶ä¸­ï¼Œæ˜¾ç¤ºäº†è¦åˆ›å»ºçš„ä»£ç ç”Ÿæˆå™¨çš„ä½ç½®`src/main/resources/generator/generator-config.xml`\n\n```xml\n<configurationFile>\n  src/main/resources/generator/generator-config.xml\n</configurationFile>\n```\n\n![image-20210323131202189](https://gitee.com/faro/images/raw/master/img/20210323131202.png)\n\n\n\n* ä»£ç ç”Ÿæˆå™¨ä»£ç \n\nä»`jdbcConnection`å¼€å§‹ï¼Œåˆ«å¿˜äº†==æ ¹æ®é¡¹ç›®è¿›è¡Œä¿®æ”¹==\n\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<!DOCTYPE generatorConfiguration\n        PUBLIC \"-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN\"\n        \"http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd\">\n\n<generatorConfiguration>\n    <context id=\"Mysql\" targetRuntime=\"MyBatis3\" defaultModelType=\"flat\">\n\n        <!-- è‡ªåŠ¨æ£€æŸ¥å…³é”®å­—ï¼Œä¸ºå…³é”®å­—å¢åŠ åå¼•å· -->\n        <property name=\"autoDelimitKeywords\" value=\"true\"/>\n        <property name=\"beginningDelimiter\" value=\"`\"/>\n        <property name=\"endingDelimiter\" value=\"`\"/>\n\n        <!--è¦†ç›–ç”ŸæˆXMLæ–‡ä»¶-->\n        <plugin type=\"org.mybatis.generator.plugins.UnmergeableXmlMappersPlugin\" />\n        <!-- ç”Ÿæˆçš„å®ä½“ç±»æ·»åŠ toString()æ–¹æ³• -->\n        <plugin type=\"org.mybatis.generator.plugins.ToStringPlugin\"/>\n\n        <!-- ä¸ç”Ÿæˆæ³¨é‡Š -->\n        <commentGenerator>\n            <property name=\"suppressAllComments\" value=\"true\"/>\n        </commentGenerator>\n\n        <jdbcConnection driverClass=\"com.mysql.cj.jdbc.Driver\"\n                        connectionURL=\"jdbc:mysql://localhost:3306/wiki?useUnicode=true&amp;characterEncoding=utf-8\"\n                        userId=\"wiki\"\n                        password=\"123456\">\n        </jdbcConnection>\n\n        <!-- domainç±»çš„ä½ç½® -->\n        <javaModelGenerator targetProject=\"src/main/java\"\n                            targetPackage=\"top.faroz.pojo\"/>\n\n        <!-- mapper xmlçš„ä½ç½® -->\n        <sqlMapGenerator targetProject=\"src/main/resources\"\n                         targetPackage=\"mapper\"/>\n\n        <!-- mapperç±»çš„ä½ç½® -->\n        <javaClientGenerator targetProject=\"src/main/java\"\n                             targetPackage=\"top.faroz.mapper\"\n                             type=\"XMLMAPPER\"/>\n\n        <table tableName=\"demo\" domainObjectName=\"Demo\"/>\n        <!--<table tableName=\"ebook\"/>-->\n        <!--<table tableName=\"category\"/>-->\n        <!--<table tableName=\"doc\"/>-->\n        <!--<table tableName=\"content\"/>-->\n        <!--<table tableName=\"user\"/>-->\n        <!--<table tableName=\"ebook_snapshot\"/>-->\n    </context>\n</generatorConfiguration>\n```\n\n\n\n* æ–°å»ºä¸€ä¸ªmavenå¯åŠ¨é¡¹\n\n![image-20210411015300856](https://gitee.com/faro/images/raw/master/img/20210411015300.png)\n\n![image-20210411015346116](https://gitee.com/faro/images/raw/master/img/20210411015346.png)\n\n```bash\nmybatis-generator:generate -e\n```\n\n![image-20210411015516818](https://gitee.com/faro/images/raw/master/img/20210411015516.png)\n\n\n\n### 7. æµ‹è¯•ä»£ç ç”Ÿæˆå™¨\n\nä»£ç ç”Ÿæˆå™¨çš„å·¥ä½œåŸç†ï¼Œæ˜¯ä»æ•°æ®åº“ä¸­å–å‡ºè¡¨ä¿¡æ¯ï¼Œç„¶åæ ¹æ®è¡¨ä¿¡æ¯ï¼Œå»æ„é€ æŒä¹…å±‚ä»£ç ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬è¦å†å»å»ºä¸€ä¸ªè¡¨\n\n\n\n* all.sql æ·»åŠ  demo è¡¨çš„å¢åŠ  SQL è¯­å¥ï¼Œå¹¶æ‰§è¡Œ\n\n```sql\n# demoåˆ—è¡¨\ndrop table if exists `demo`;\ncreate table `demo` (\n    `id` bigint not null comment 'id',\n    `name` varchar(50) comment 'åç§°',\n    primary key (`id`)\n) engine=innodb default charset =utf8mb4 comment 'æµ‹è¯•';\n\ninsert into `demo` (id,name) values(2,'æµ‹è¯•2');\n```\n\n\n\n* åœ¨ä»£ç ç”Ÿæˆå™¨æœ€åçš„éƒ¨åˆ†ï¼Œå¡«ä¸Šè¦ç”Ÿæˆçš„è¡¨å\n\n![image-20210415012438872](https://gitee.com/faro/images/raw/master/img/20210415012439.png)\n\n\n\n* æ‰§è¡Œ\n\n![image-20210415012552449](https://gitee.com/faro/images/raw/master/img/20210415012552.png)\n\n\n\n* æ‰§è¡ŒæˆåŠŸï¼Œä¼šç”Ÿæˆ 4 ä¸ªæ–°æ–‡ä»¶\n\n![image-20210415012630004](https://gitee.com/faro/images/raw/master/img/20210415012630.png)\n\n\n\n* æˆ‘ä»¬æ¨¡ä»¿ Testï¼Œå»å†™ Demoçš„ Service å’Œ Controller ä»£ç \n\n```java\n@RestController\npublic class DemoController {\n\n    @Autowired\n    private DemoService demoService;\n\n    @RequestMapping(\"/demo/list\")\n    public List<Demo> list() {\n        return demoService.getList();\n    }\n}\n```\n\n```java\n@Service\npublic class DemoService {\n\n    @Resource\n    private DemoMapper demoMapper;\n\n    public List<Demo> getList() {\n        List<Demo> list = demoMapper.selectByExample(null);\n        return list;\n    }\n}\n```\n\n\n\n* æ·»åŠ  demo çš„ http æµ‹è¯•è„šæœ¬\n\n```http\nGET http://localhost:8880/demo/list\nAccept: application/json\n\n###\n```\n\næµ‹è¯•æˆåŠŸï¼Œè¯´æ˜æˆ‘ä»¬ç”¨ä»£ç ç”Ÿæˆå™¨ç”Ÿæˆçš„ä»£ç æ²¡æœ‰é—®é¢˜\n\n![image-20210415013323695](https://gitee.com/faro/images/raw/master/img/20210415013323.png)\n\n\n\n### 8. è§£å†³å‰åç«¯è·¨åŸŸé—®é¢˜\n\nè™½ç„¶ç°åœ¨è¿˜æ²¡æœ‰æ„å»ºå‰ç«¯é¡¹ç›®ï¼Œä½†æ˜¯åé¢ï¼Œä¼šå‡ºç°è·¨åŸŸé—®é¢˜\n\n\n\n* æ–°å»º CorsConfig ç±»\n\n![image-20210415013643183](https://gitee.com/faro/images/raw/master/img/20210415013643.png)\n\n\n\n* ä»£ç å¦‚ä¸‹\n\nä¸ç”¨æ”¹åŠ¨ï¼Œç›´æ¥ç”¨ï¼Œåˆ«å¿˜äº†åŠ ä¸Š==@Configuration==æ³¨è§£\n\n```java\n@Configuration\npublic class CorsConfig implements WebMvcConfigurer {\n\n    @Override\n    public void addCorsMappings(CorsRegistry registry) {\n        registry.addMapping(\"/**\")\n                .allowedOriginPatterns(\"*\")\n                .allowedHeaders(CorsConfiguration.ALL)\n                .allowedMethods(CorsConfiguration.ALL)\n                .allowCredentials(true)\n                .maxAge(3600); // 1å°æ—¶å†…ä¸éœ€è¦å†é¢„æ£€ï¼ˆå‘OPTIONSè¯·æ±‚ï¼‰\n    }\n}\n```\n\n\n\n### 9. æ·»åŠ é›ªèŠ±ç®—æ³•å·¥å…·ç±»\n\né›ªèŠ±ç®—æ³•ï¼Œç”¨æ¥ç”Ÿæˆå”¯ä¸€ ID\n\n\n\n* æ–°å»º SnowFlake å·¥å…·ç±»\n\n![image-20210415014504164](https://gitee.com/faro/images/raw/master/img/20210415014504.png)\n\n\n\n* ä»£ç å¦‚ä¸‹\n\nåˆ«å¿˜äº†åŠ ä¸Š @Component æ³¨è§£\n\n```java\n@Component\npublic class SnowFlake {\n    /**\n     * èµ·å§‹çš„æ—¶é—´æˆ³\n     */\n    private final static long START_STMP = 1609459200000L; // 2021-01-01 00:00:00\n\n    /**\n     * æ¯ä¸€éƒ¨åˆ†å ç”¨çš„ä½æ•°\n     */\n    private final static long SEQUENCE_BIT = 12; //åºåˆ—å·å ç”¨çš„ä½æ•°\n    private final static long MACHINE_BIT = 5;   //æœºå™¨æ ‡è¯†å ç”¨çš„ä½æ•°\n    private final static long DATACENTER_BIT = 5;//æ•°æ®ä¸­å¿ƒå ç”¨çš„ä½æ•°\n\n    /**\n     * æ¯ä¸€éƒ¨åˆ†çš„æœ€å¤§å€¼\n     */\n    private final static long MAX_DATACENTER_NUM = -1L ^ (-1L << DATACENTER_BIT);\n    private final static long MAX_MACHINE_NUM = -1L ^ (-1L << MACHINE_BIT);\n    private final static long MAX_SEQUENCE = -1L ^ (-1L << SEQUENCE_BIT);\n\n    /**\n     * æ¯ä¸€éƒ¨åˆ†å‘å·¦çš„ä½ç§»\n     */\n    private final static long MACHINE_LEFT = SEQUENCE_BIT;\n    private final static long DATACENTER_LEFT = SEQUENCE_BIT + MACHINE_BIT;\n    private final static long TIMESTMP_LEFT = DATACENTER_LEFT + DATACENTER_BIT;\n\n    private long datacenterId = 1;  //æ•°æ®ä¸­å¿ƒ\n    private long machineId = 1;     //æœºå™¨æ ‡è¯†\n    private long sequence = 0L; //åºåˆ—å·\n    private long lastStmp = -1L;//ä¸Šä¸€æ¬¡æ—¶é—´æˆ³\n\n    public SnowFlake() {\n    }\n\n    public SnowFlake(long datacenterId, long machineId) {\n        if (datacenterId > MAX_DATACENTER_NUM || datacenterId < 0) {\n            throw new IllegalArgumentException(\"datacenterId can't be greater than MAX_DATACENTER_NUM or less than 0\");\n        }\n        if (machineId > MAX_MACHINE_NUM || machineId < 0) {\n            throw new IllegalArgumentException(\"machineId can't be greater than MAX_MACHINE_NUM or less than 0\");\n        }\n        this.datacenterId = datacenterId;\n        this.machineId = machineId;\n    }\n\n    /**\n     * äº§ç”Ÿä¸‹ä¸€ä¸ªID\n     *\n     * @return\n     */\n    public synchronized long nextId() {\n        long currStmp = getNewstmp();\n        if (currStmp < lastStmp) {\n            throw new RuntimeException(\"Clock moved backwards.  Refusing to generate id\");\n        }\n\n        if (currStmp == lastStmp) {\n            //ç›¸åŒæ¯«ç§’å†…ï¼Œåºåˆ—å·è‡ªå¢\n            sequence = (sequence + 1) & MAX_SEQUENCE;\n            //åŒä¸€æ¯«ç§’çš„åºåˆ—æ•°å·²ç»è¾¾åˆ°æœ€å¤§\n            if (sequence == 0L) {\n                currStmp = getNextMill();\n            }\n        } else {\n            //ä¸åŒæ¯«ç§’å†…ï¼Œåºåˆ—å·ç½®ä¸º0\n            sequence = 0L;\n        }\n\n        lastStmp = currStmp;\n\n        return (currStmp - START_STMP) << TIMESTMP_LEFT //æ—¶é—´æˆ³éƒ¨åˆ†\n                | datacenterId << DATACENTER_LEFT       //æ•°æ®ä¸­å¿ƒéƒ¨åˆ†\n                | machineId << MACHINE_LEFT             //æœºå™¨æ ‡è¯†éƒ¨åˆ†\n                | sequence;                             //åºåˆ—å·éƒ¨åˆ†\n    }\n\n    private long getNextMill() {\n        long mill = getNewstmp();\n        while (mill <= lastStmp) {\n            mill = getNewstmp();\n        }\n        return mill;\n    }\n\n    private long getNewstmp() {\n        return System.currentTimeMillis();\n    }\n\n    // public static void main(String[] args) throws ParseException {\n    //     // æ—¶é—´æˆ³\n    //     // System.out.println(System.currentTimeMillis());\n    //     // System.out.println(new Date().getTime());\n    //     //\n    //     // String dateTime = \"2021-01-01 08:00:00\";\n    //     // SimpleDateFormat sdf = new SimpleDateFormat(\"yyyy-MM-dd hh:mm:ss\");\n    //     // System.out.println(sdf.parse(dateTime).getTime());\n    //\n    //     SnowFlake snowFlake = new SnowFlake(1, 1);\n    //\n    //     long start = System.currentTimeMillis();\n    //     for (int i = 0; i < 10; i++) {\n    //         System.out.println(snowFlake.nextId());\n    //         System.out.println(System.currentTimeMillis() - start);\n    //     }\n    // }\n\n}\n```\n\n\n\n\n\n### 10. æ·»åŠ  AOP\n\nAOP ç”¨æ¥æ‰“å°æ¥å£æ—¥å¿—ï¼Œæ–¹ä¾¿åæœŸè°ƒè¯•\n\n\n\n* Maven ä¸­å¼•å…¥ fastjsonï¼Œå› ä¸º æˆ‘ä»¬çš„ç±»ä¸­è¦ç”¨\n\n```xml\n <!--fastjson-->\n<dependency>\n  <groupId>com.alibaba</groupId>\n  <artifactId>fastjson</artifactId>\n  <version>1.2.70</version>\n</dependency>\n```\n\n\n\n* Maven å¼•å…¥ AOP\n\n```xml\n<!--å¯¼å…¥aop-->\n<dependency>\n  <groupId>org.springframework.boot</groupId>\n  <artifactId>spring-boot-starter-aop</artifactId>\n</dependency>\n```\n\n\n\n* æ·»åŠ  RequestContext å·¥å…·ç±»\n\nè¿™ä¸ªæ˜¯åæœŸä¸ºäº†æ‰“å° WebSocket æ—¥å¿—çš„\n\n![image-20210415014912415](https://gitee.com/faro/images/raw/master/img/20210415014912.png)\n\n```java\npublic class RequestContext implements Serializable {\n    private static ThreadLocal<String> remoteAddr = new ThreadLocal<>();\n\n    public static String getRemoteAddr() {\n        return remoteAddr.get();\n    }\n\n    public static void setRemoteAddr(String remoteAddr) {\n        weixindemo.util.RequestContext.remoteAddr.set(remoteAddr);\n    }\n}\n```\n\n\n\n* æ–°å»º aspect åŒ…ï¼Œå¹¶æ–°å»º LogAspect ç±»\n\n![image-20210415013942484](https://gitee.com/faro/images/raw/master/img/20210415013942.png)\n\n\n\n**LogAspect ä»£ç å¦‚ä¸‹:**\n\nåˆ‡ç‚¹çš„ä»£ç ï¼Œæˆ‘ä»¬è¦ä¾æ®é¡¹ç›®ä¿®æ”¹\n\n![image-20210415015319943](https://gitee.com/faro/images/raw/master/img/20210415015320.png)\n\n```java\n@Aspect\n@Component\npublic class LogAspect {\n    private final static Logger LOG = LoggerFactory.getLogger(weixindemo.aspect.LogAspect.class);\n\n    @Resource\n    private SnowFlake snowFlake;\n\n    /** å®šä¹‰ä¸€ä¸ªåˆ‡ç‚¹ */\n    @Pointcut(\"execution(public * weixindemo.controller..*Controller.*(..))\")\n    public void controllerPointcut() {}\n\n    // @Resource\n    // private SnowFlake snowFlake;\n\n    @Before(\"controllerPointcut()\")\n    public void doBefore(JoinPoint joinPoint) throws Throwable {\n\n        // å¢åŠ æ—¥å¿—æµæ°´å·\n        MDC.put(\"LOG_ID\", String.valueOf(snowFlake.nextId()));\n\n        // å¼€å§‹æ‰“å°è¯·æ±‚æ—¥å¿—\n        ServletRequestAttributes attributes = (ServletRequestAttributes) RequestContextHolder.getRequestAttributes();\n        HttpServletRequest request = attributes.getRequest();\n        Signature signature = joinPoint.getSignature();\n        String name = signature.getName();\n\n        // æ‰“å°è¯·æ±‚ä¿¡æ¯\n        LOG.info(\"------------- å¼€å§‹ -------------\");\n        LOG.info(\"è¯·æ±‚åœ°å€: {} {}\", request.getRequestURL().toString(), request.getMethod());\n        LOG.info(\"ç±»åæ–¹æ³•: {}.{}\", signature.getDeclaringTypeName(), name);\n        LOG.info(\"è¿œç¨‹åœ°å€: {}\", request.getRemoteAddr());\n\n        RequestContext.setRemoteAddr(getRemoteIp(request));\n\n        // æ‹¿åˆ°æ‰€æœ‰çš„å‚æ•°\n        Object[] args = joinPoint.getArgs();\n        // LOG.info(\"è¯·æ±‚å‚æ•°: {}\", JSONObject.toJSONString(args));\n\n        Object[] arguments  = new Object[args.length];\n        for (int i = 0; i < args.length; i++) {\n            if (args[i] instanceof ServletRequest\n                    || args[i] instanceof ServletResponse\n                    || args[i] instanceof MultipartFile) {\n                continue;\n            }\n            arguments[i] = args[i];\n        }\n        // æ’é™¤å­—æ®µï¼Œæ•æ„Ÿå­—æ®µæˆ–å¤ªé•¿çš„å­—æ®µä¸æ˜¾ç¤º\n        String[] excludeProperties = {\"password\", \"file\"};\n        PropertyPreFilters filters = new PropertyPreFilters();\n        PropertyPreFilters.MySimplePropertyPreFilter excludefilter = filters.addFilter();\n        excludefilter.addExcludes(excludeProperties);\n        LOG.info(\"è¯·æ±‚å‚æ•°: {}\", JSONObject.toJSONString(arguments, excludefilter));\n    }\n\n    @Around(\"controllerPointcut()\")\n    public Object doAround(ProceedingJoinPoint proceedingJoinPoint) throws Throwable {\n        long startTime = System.currentTimeMillis();\n        Object result = proceedingJoinPoint.proceed();\n        // æ’é™¤å­—æ®µï¼Œæ•æ„Ÿå­—æ®µæˆ–å¤ªé•¿çš„å­—æ®µä¸æ˜¾ç¤º\n        String[] excludeProperties = {\"password\", \"file\"};\n        PropertyPreFilters filters = new PropertyPreFilters();\n        PropertyPreFilters.MySimplePropertyPreFilter excludefilter = filters.addFilter();\n        excludefilter.addExcludes(excludeProperties);\n        LOG.info(\"è¿”å›ç»“æœ: {}\", JSONObject.toJSONString(result, excludefilter));\n        LOG.info(\"------------- ç»“æŸ è€—æ—¶ï¼š{} ms -------------\", System.currentTimeMillis() - startTime);\n        return result;\n    }\n\n    /**\n     * ä½¿ç”¨nginxåšåå‘ä»£ç†ï¼Œéœ€è¦ç”¨è¯¥æ–¹æ³•æ‰èƒ½å–åˆ°çœŸå®çš„è¿œç¨‹IP\n     * å½“æˆ‘ä»¬å‘å¸ƒä¸Šçº¿åï¼Œå› ä¸ºå‰ç«¯ã€åç«¯éƒ½æ˜¯ç”¨80ç«¯å£ï¼Œä¼šå†²çª\n     * æ‰€ä»¥ç”¨æˆ·è®¿é—®çš„æ—¶å€™ï¼Œéœ€è¦å…ˆå»è®¿é—® nginxï¼Œç„¶åï¼Œè®© nginx å»åå‘ä»£ç†ï¼Œæ‰¾æˆ‘ä»¬è¦è®¿é—®çš„è·¯å¾„\n     * @param request\n     * @return\n     */\n    public String getRemoteIp(HttpServletRequest request) {\n        String ip = request.getHeader(\"x-forwarded-for\");\n        if (ip == null || ip.length() == 0 || \"unknown\".equalsIgnoreCase(ip)) {\n            ip = request.getHeader(\"Proxy-Client-IP\");\n        }\n        if (ip == null || ip.length() == 0 || \"unknown\".equalsIgnoreCase(ip)) {\n            ip = request.getHeader(\"WL-Proxy-Client-IP\");\n        }\n        if (ip == null || ip.length() == 0 || \"unknown\".equalsIgnoreCase(ip)) {\n            ip = request.getRemoteAddr();\n        }\n        return ip;\n    }\n}\n```\n\n\n\n### 11. è§£å†³å‰åç«¯ Long ç²¾åº¦ä¸¢å¤±é—®é¢˜\n\næˆ‘ä»¬åæœŸä¼šç”¨åˆ° MD5 åŠ å¯†ï¼Œåˆ°æ—¶å€™åç«¯ä¼ åˆ°å‰ç«¯çš„æ—¶å€™ï¼Œå› ä¸º javascript number çš„ç²¾åº¦é—®é¢˜ï¼Œä¼šå‡ºç°æ•°æ®ä¸¢å¤±\n\n\n\n* é…ç½®æ–‡ä»¶æ–°å¢ JacksonConfig ç±»\n\n![image-20210415020223600](https://gitee.com/faro/images/raw/master/img/20210415020223.png)\n\n\n\n* ä»£ç å¦‚ä¸‹\n\n```java\n@Configuration\npublic class JacksonConfig {\n\n    @Bean\n    public ObjectMapper jacksonObjectMapper(Jackson2ObjectMapperBuilder builder) {\n        ObjectMapper objectMapper = builder.createXmlMapper(false).build();\n        SimpleModule simpleModule = new SimpleModule();\n        // simpleModule.addSerializer(Long.class, ToStringSerializer.instance);\n        simpleModule.addSerializer(Long.class, ToStringSerializer.instance);\n        objectMapper.registerModule(simpleModule);\n        return objectMapper;\n    }\n}\n```\n\n\n\n### 12. æ–°å»º req resp åŒ…\n\næˆ‘ä»¬è¦å°†è¯·æ±‚ä¸è¿”å›åŒ…è£…\n\n![image-20210415020648707](https://gitee.com/faro/images/raw/master/img/20210415020648.png)\n\n\n\n### 13. CommonResp\n\nä¸ºäº†æ–¹ä¾¿å‰ç«¯è°ƒç”¨ï¼Œåç«¯çš„ respï¼Œæˆ‘ä»¬å†™ä¸€ä¸ªç»Ÿä¸€çš„è¿”å› CommonResp\n\n![image-20210415020805724](https://gitee.com/faro/images/raw/master/img/20210415020805.png)\n\n**ä»£ç å¦‚ä¸‹ï¼š**\n\n```java\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class CommonResp<T> {\n    /**\n     * è¿”å›æ˜¯å¦æˆåŠŸ\n     */\n    private boolean isSuccess=true;\n\n    /**\n     * è¿”å›å¤±è´¥æ—¶ï¼Œè¿”å›çš„é”™è¯¯ä¿¡æ¯\n     */\n    private String message;\n\n    /**\n     * è¿”å›æˆåŠŸçš„æ—¶å€™ï¼Œè¿”å›çš„å†…å®¹\n     */\n    private T content;\n}\n```\n\n\n\n### 14. è‡ªå®šä¹‰å¼‚å¸¸\n\n* æ–°å»ºå¼‚å¸¸ç±»`BusinessException`å’Œå¼‚å¸¸ä¿¡æ¯æšä¸¾`BusinessExceptionCode`\n\n![image-20210415021357196](https://gitee.com/faro/images/raw/master/img/20210415021357.png)\n\n\n\n* `BusinessException`ä»£ç \n\n```java\npublic class BusinessException extends RuntimeException{\n    private BusinessExceptionCode code;\n\n    public BusinessException (BusinessExceptionCode code) {\n        /**\n         * çˆ¶ç±»æœ‰ä¸ªæˆå‘˜å˜é‡  private String desc\n         * éœ€è¦ä¸ºè¿™ä¸ªæˆå‘˜å˜é‡èµ‹å€¼\n         */\n        super(code.getDesc());\n        this.code = code;\n    }\n\n    public BusinessExceptionCode getCode() {\n        return code;\n    }\n\n    public void setCode(BusinessExceptionCode code) {\n        this.code = code;\n    }\n\n    /**\n     * ä¸å†™å…¥å †æ ˆä¿¡æ¯ï¼Œæé«˜æ€§èƒ½\n     */\n    @Override\n    public Throwable fillInStackTrace() {\n        return this;\n    }\n}\n```\n\n\n\n* `BusinessExceptionCode`ä»£ç \n\n```java\npublic enum BusinessExceptionCode {\n    USER_LOGIN_NAME_EXIST(\"ç™»å½•åå·²å­˜åœ¨\"),\n    LOGIN_USER_ERROR(\"ç”¨æˆ·åä¸å­˜åœ¨æˆ–å¯†ç é”™è¯¯\"),\n    VOTE_REPEAT(\"æ‚¨å·²ç‚¹èµè¿‡\"),\n    ;\n\n    private String desc;\n\n    BusinessExceptionCode(String desc) {\n        this.desc = desc;\n    }\n\n    public String getDesc() {\n        return desc;\n    }\n\n    public void setDesc(String desc) {\n        this.desc = desc;\n    }\n}\n```\n\n\n\n\n\n### 13. ç»Ÿä¸€å¼‚å¸¸å¤„ç†\n\næˆ‘ä»¬æ‰€æœ‰å¼‚å¸¸ï¼Œéƒ½é€šè¿‡è¿™ä¸ªç±»æ¥æ•è·ï¼Œå¹¶ç”Ÿæˆä¸€ä¸ªè¿”å›é”™è¯¯ä¿¡æ¯çš„ CommonResp\n\n\n\n* æ–°å»º ControllerExceptionHandler ç±»\n\n![](https://gitee.com/faro/images/raw/master/img/20210415020947.png)\n\n\n\n* ä»£ç å¦‚ä¸‹\n\nlogger è¦æ ¹æ®é¡¹ç›®æ”¹ä¸€ä¸‹\n\n```java\n/**\n * ç»Ÿä¸€å¼‚å¸¸å¤„ç†ã€æ•°æ®é¢„å¤„ç†ç­‰\n * è¯¥ç±»ç”¨äºæ•è·ç³»ç»Ÿå¼¹å‡ºçš„å¼‚å¸¸\n * å°†å¼‚å¸¸åŒ…è£…æˆä¸€ä¸ª CommonResp\n * ä»è€Œæ–¹ä¾¿å‰ç«¯è°ƒç”¨ï¼Œæ˜¾ç¤ºé”™è¯¯ä¿¡æ¯\n */\n@ControllerAdvice\npublic class ControllerExceptionHandler {\n    private static final Logger LOG = LoggerFactory.getLogger(top.faroz.controller.ControllerExceptionHandler.class);\n\n    /**\n     * æ ¡éªŒå¼‚å¸¸ç»Ÿä¸€å¤„ç†\n     * @param e\n     * @return\n     */\n    @ExceptionHandler(value = BindException.class)\n    @ResponseBody\n    public CommonResp validExceptionHandler(BindException e) {\n        CommonResp commonResp = new CommonResp();\n        LOG.warn(\"å‚æ•°æ ¡éªŒå¤±è´¥ï¼š{}\", e.getBindingResult().getAllErrors().get(0).getDefaultMessage());\n        commonResp.setSuccess(false);\n        commonResp.setMessage(e.getBindingResult().getAllErrors().get(0).getDefaultMessage());\n        return commonResp;\n    }\n\n    /**\n     * æ ¡éªŒå¼‚å¸¸ç»Ÿä¸€å¤„ç†\n     * @param e\n     * @return\n     */\n    @ExceptionHandler(value = BusinessException.class)\n    @ResponseBody\n    public CommonResp validExceptionHandler(BusinessException e) {\n        CommonResp commonResp = new CommonResp();\n        LOG.warn(\"ä¸šåŠ¡å¼‚å¸¸ï¼š{}\", e.getCode().getDesc());\n        commonResp.setSuccess(false);\n        commonResp.setMessage(e.getCode().getDesc());\n        return commonResp;\n    }\n\n    /**\n     * æ ¡éªŒå¼‚å¸¸ç»Ÿä¸€å¤„ç†\n     * @param e\n     * @return\n     */\n    @ExceptionHandler(value = Exception.class)\n    @ResponseBody\n    public CommonResp validExceptionHandler(Exception e) {\n        CommonResp commonResp = new CommonResp();\n        LOG.error(\"ç³»ç»Ÿå¼‚å¸¸ï¼š\", e);\n        commonResp.setSuccess(false);\n        commonResp.setMessage(\"ç³»ç»Ÿå‡ºç°å¼‚å¸¸ï¼Œè¯·è”ç³»ç®¡ç†å‘˜\");\n        return commonResp;\n    }\n}\n```\n\n\n\n### 14. æ·»åŠ æ—¥å¿—è®°å½• logback\n\n* åœ¨ resource ä¸‹ï¼Œæ–°å»ºlogback-spring.xml æ–‡ä»¶\n\n![image-20210411004947139](https://gitee.com/faro/images/raw/master/img/20210411004947.png)\n\n* å†™å…¥å†…å®¹\n\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<configuration>\n    <!-- ä¿®æ”¹ä¸€ä¸‹è·¯å¾„-->\n    <property name=\"PATH\" value=\"./log\"></property>\n\n    <appender name=\"STDOUT\" class=\"ch.qos.logback.core.ConsoleAppender\">\n        <encoder>\n            <Pattern>%d{yyyy-MM-dd HH:mm:ss.SSS} %highlight(%-5level) %blue(%-50logger{50}:%-4line) %thread %msg%n</Pattern>\n            <!--<Pattern>%d{ss.SSS} %highlight(%-5level) %blue(%-30logger{30}:%-4line) %thread %green(%-18X{LOG_ID}) %msg%n</Pattern>-->\n        </encoder>\n    </appender>\n\n    <appender name=\"TRACE_FILE\" class=\"ch.qos.logback.core.rolling.RollingFileAppender\">\n        <file>${PATH}/trace.log</file>\n        <rollingPolicy class=\"ch.qos.logback.core.rolling.TimeBasedRollingPolicy\">\n            <FileNamePattern>${PATH}/trace.%d{yyyy-MM-dd}.%i.log</FileNamePattern>\n            <timeBasedFileNamingAndTriggeringPolicy class=\"ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP\">\n                <maxFileSize>10MB</maxFileSize>\n            </timeBasedFileNamingAndTriggeringPolicy>\n        </rollingPolicy>\n        <layout>\n            <pattern>%d{yyyy-MM-dd HH:mm:ss.SSS} %-5level %-50logger{50}:%-4line %green(%-18X{LOG_ID}) %msg%n</pattern>\n        </layout>\n    </appender>\n\n    <appender name=\"ERROR_FILE\" class=\"ch.qos.logback.core.rolling.RollingFileAppender\">\n        <file>${PATH}/error.log</file>\n        <rollingPolicy class=\"ch.qos.logback.core.rolling.TimeBasedRollingPolicy\">\n            <FileNamePattern>${PATH}/error.%d{yyyy-MM-dd}.%i.log</FileNamePattern>\n            <timeBasedFileNamingAndTriggeringPolicy class=\"ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP\">\n                <maxFileSize>10MB</maxFileSize>\n            </timeBasedFileNamingAndTriggeringPolicy>\n        </rollingPolicy>\n        <layout>\n            <pattern>%d{yyyy-MM-dd HH:mm:ss.SSS} %-5level %-50logger{50}:%-4line %green(%-18X{LOG_ID}) %msg%n</pattern>\n        </layout>\n        <filter class=\"ch.qos.logback.classic.filter.LevelFilter\">\n            <level>ERROR</level>\n            <onMatch>ACCEPT</onMatch>\n            <onMismatch>DENY</onMismatch>\n        </filter>\n    </appender>\n\n    <root level=\"ERROR\">\n        <appender-ref ref=\"ERROR_FILE\" />\n    </root>\n\n    <root level=\"TRACE\">\n        <appender-ref ref=\"TRACE_FILE\" />\n    </root>\n\n    <root level=\"INFO\">\n        <appender-ref ref=\"STDOUT\" />\n    </root>\n</configuration>\n\n```\n\n\n\n### 15. è‡ªå®šä¹‰ banner\n\nresources ä¸‹æ–°å»º banner.txt\n\n![image-20210415023847796](https://gitee.com/faro/images/raw/master/img/20210415023847.png)\n\n\n\né‡Œé¢æ”¾ä¸Šè‡ªå®šä¹‰ banner\n\n```txt\n ********     **     *******     *******         ********\n/**/////     ****   /**////**   **/////**       //////** \n/**         **//**  /**   /**  **     //**           **  \n/*******   **  //** /*******  /**      /**          **   \n/**////   **********/**///**  /**      /**         **    \n/**      /**//////**/**  //** //**     **         **     \n/**      /**     /**/**   //** //*******   ***** ********\n//       //      // //     //   ///////   ///// //////// \n```\n\n\n\n\n","success":true}
2021-04-16 00:47:50.674 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š20 ms -------------
2021-04-16 00:48:34.990 INFO  io.lettuce.core.protocol.ConnectionWatchdog       :171  [32m                  [0;39m Reconnecting, last destination was r-uf6ljbcdaxobsifyctpd.redis.rds.aliyuncs.com/47.103.172.100:6379
2021-04-16 00:48:35.137 INFO  io.lettuce.core.protocol.ReconnectionHandler      :164  [32m                  [0;39m Reconnected to r-uf6ljbcdaxobsifyctpd.redis.rds.aliyuncs.com:6379
2021-04-16 00:51:56.966 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:51:56.970 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/list GET
2021-04-16 00:51:56.970 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.list
2021-04-16 00:51:56.970 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:51:56.971 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":4}]
2021-04-16 00:51:56.989 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"list":[{"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Vue å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":2,"name":"Vue å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Python å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":3,"name":"Python å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Mysql å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":4,"name":"Mysql å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0}],"total":7},"success":true}
2021-04-16 00:51:56.989 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š23 ms -------------
2021-04-16 00:51:57.715 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:51:57.715 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/list GET
2021-04-16 00:51:57.715 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.list
2021-04-16 00:51:57.715 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:51:57.716 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":5}]
2021-04-16 00:51:57.721 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"list":[{"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Vue å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":2,"name":"Vue å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Python å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":3,"name":"Python å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Mysql å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":4,"name":"Mysql å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"c++çœŸçš„å¾ˆå®¹æ˜“ï¼Œä¸ä¼šæœ‰äººä¸ä¼šå§ï¼Ÿ","docCount":0,"id":5,"name":"21 å¤©å­¦ä¼šC++","viewCount":0,"voteCount":0}],"total":7},"success":true}
2021-04-16 00:51:57.722 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2021-04-16 00:51:57.934 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:51:57.934 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/list GET
2021-04-16 00:51:57.934 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.list
2021-04-16 00:51:57.935 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:51:57.935 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":5}]
2021-04-16 00:51:57.939 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"list":[{"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Vue å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":2,"name":"Vue å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Python å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":3,"name":"Python å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Mysql å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":4,"name":"Mysql å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"c++çœŸçš„å¾ˆå®¹æ˜“ï¼Œä¸ä¼šæœ‰äººä¸ä¼šå§ï¼Ÿ","docCount":0,"id":5,"name":"21 å¤©å­¦ä¼šC++","viewCount":0,"voteCount":0}],"total":7},"success":true}
2021-04-16 00:51:57.939 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2021-04-16 00:52:21.014 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:52:21.014 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find/1 GET
2021-04-16 00:52:21.015 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.find
2021-04-16 00:52:21.014 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:52:21.015 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:52:21.015 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2021-04-16 00:52:21.015 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [1]
2021-04-16 00:52:21.015 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.findContent
2021-04-16 00:52:21.016 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:52:21.016 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [1]
2021-04-16 00:52:21.018 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},"success":true}
2021-04-16 00:52:21.019 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2021-04-16 00:52:21.023 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":"# å®Œæ•´é¡¹ç›®æ­å»ºæµç¨‹\n\nè™½è¯´ SpringBoot ç›¸è¾ƒäº SSM æ¡†æ¶ï¼Œå¤§å¤§å‡è½»äº†é…ç½®çš„ç¹çï¼Œä½†æ˜¯ï¼Œè¦æ•´åˆ MyBatis ï¼Œç»Ÿä¸€å¼‚å¸¸å¤„ç†ï¼ŒVueç­‰ä¸€ç³»åˆ—ä¸œè¥¿ï¼Œè¿˜æ˜¯è¦è´¹ä¸€ç•ªåŠ²çš„ã€‚\n\nè¿™æ¬¡å°†åˆ›å»ºçš„æ•´ä¸ªæµç¨‹è®°å½•ä¸‹æ¥ï¼Œæ–¹ä¾¿ä»¥åçš„é¡¹ç›®æ­å»ºã€‚\n\nè¦æ­å»ºä¸€ä¸ªå®Œæˆçš„å‰åç«¯åˆ†ç¦»é¡¹ç›®ï¼Œåˆ†ä¸ºè¿™ä¹ˆå‡ ä¸ªéƒ¨åˆ†ï¼š==æ•°æ®åº“ã€åç«¯ã€å‰ç«¯==\n\nå¦‚æœæ˜¯ä¸ºå¾®ä¿¡å°ç¨‹åºæ­å»ºä¸€ä¸ªåç«¯æœåŠ¡ï¼Œé‚£å°±åªè¦çœ‹åˆ°==æ•°æ®åº“ã€åç«¯==å°±å¯ä»¥äº†\n\n\n\n## æ•°æ®åº“\n\nä¸€èˆ¬åœ¨æ–°å»ºé¡¹ç›®çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¼šé€‰æ‹©ä¸“é—¨ä¸ºè¿™ä¸ªé¡¹ç›®æ–°å»ºä¸€ä¸ªç”¨æˆ·ï¼Œå¹¶ä¸ºè¿™ä¸ªç”¨æˆ·ï¼Œèµ‹äºˆåªå±äºè¿™ä¸€ä¸ªé¡¹ç›®çš„æ‰€æœ‰æƒé™\n\n\n\n### 1. **è¿æ¥ admin**\n\nåªæœ‰ admin æœ‰æ‰€æœ‰æƒé™\n\næˆ‘çš„æ•°æ®åº“ admin çš„è´¦æˆ·åå’Œå¯†ç æ˜¯ï¼š\n\n**è´¦æˆ·ï¼š**admin\n\n**å¯†ç ï¼š**123\n\n![image-20210411002100312](https://gitee.com/faro/images/raw/master/img/20210411003334.png)\n\n\n\n### 2. **æ–°å»ºæ•°æ®åº“**\n\nå…¶å­—ç¬¦ç±»å‹ä¸€å®šè¦é€‰æ‹©==utf8mb4==ï¼Œè¿™æ‰æ˜¯çœŸæ­£çš„ utf8ï¼Œæ”¯æŒè¡¨æƒ…ç¬¦å·\n\n![image-20210411002304858](https://gitee.com/faro/images/raw/master/img/20210411002304.png)\n\n### 3. **ä¸ºè¿™ä¸ªæ•°æ®åº“ï¼Œä¸“é—¨å»ºä¸€ä¸ªç”¨æˆ·**\n\nå¼€å‘ç¯å¢ƒä¸­ï¼Œå°±å°†å¯†ç å’Œç”¨æˆ·åè®¾ç½®æˆä¸€æ ·çš„ï¼Œè¿™æ ·ä¸ä¼šå¿˜è®°\n\nhost è®¾ç½®ä¸º localhost\n\n![image-20210411002742750](https://gitee.com/faro/images/raw/master/img/20210411002742.png)\n\n\n\n### 4. **ä¸ºè¿™ä¸ªç”¨æˆ·ï¼Œæˆäºˆå¯¹åº”æ•°æ®åº“çš„å…¨éƒ¨æƒé™**\n\n![image-20210411003034426](https://gitee.com/faro/images/raw/master/img/20210411003034.png)\n\n![image-20210411002821790](https://gitee.com/faro/images/raw/master/img/20210414201958.png)\n\n### 5. **å¯¹å½“å‰ç”¨æˆ·ï¼Œå»ºç«‹è¿æ¥**\n\n![image-20210411002945727](https://gitee.com/faro/images/raw/master/img/20210411002945.png)\n\n\n\n\n\n## åç«¯\n\nå…³äº Mavenã€tomcat çš„ä¸‹è½½é…ç½®ï¼Œè¿™é‡Œå°±ä¸è´¹ç¬”å¢¨å»è®²è§£äº†ã€‚å¦‚æœ‰éœ€è¦ï¼Œå¯ä»¥è‡ªè¡Œç™¾åº¦æŸ¥æ‰¾ã€‚\n\n### 1. æ–°å»º SpringBoot é¡¹ç›®\n\n* ç‚¹å‡» `SpringInitiallizr`ï¼Œæ–°å»ºé¡¹ç›®\n\n![image-20210414200239335](https://gitee.com/faro/images/raw/master/img/20210414200239.png)\n\n* é€‰æ‹©é»˜è®¤ä¾èµ–çš„åŒ…\n\n![image-20210414200420395](https://gitee.com/faro/images/raw/master/img/20210414200420.png)\n\n![image-20210414200533694](https://gitee.com/faro/images/raw/master/img/20210414200533.png)\n\n![image-20210414200611051](https://gitee.com/faro/images/raw/master/img/20210414200611.png)\n\n* é€‰æ‹©å­˜æ”¾è·¯å¾„\n\n![image-20210414200656633](https://gitee.com/faro/images/raw/master/img/20210414200656.png)\n\n* æ–°å»ºå®Œæˆåï¼Œé¡¹ç›®ç›®å½•å¦‚ä¸‹\n\n![image-20210414200752152](https://gitee.com/faro/images/raw/master/img/20210414200752.png)\n\n\n\n### 2. æ›´æ”¹å¯åŠ¨ç±»ä½ç½®\n\n* æ–°å»º config åŒ…ï¼Œå°†å¯åŠ¨ç±»æ”¾è¿›å»\n\n![image-20210414201018806](https://gitee.com/faro/images/raw/master/img/20210414201018.png)\n\n\n\n* ä¸ºå¯åŠ¨ç±»æ·»åŠ æ³¨è§£\n\næ³¨è§£å†…çš„ä¿¡æ¯ï¼Œæ˜¯é¡¹ç›®åç§°\n\n```java\n@ComponentScan(\"weixindemo\")\n```\n\n![image-20210414201210978](https://gitee.com/faro/images/raw/master/img/20210414201211.png)\n\n\n\n### 3. IDEA æ•°æ®åº“é…ç½®\n\n* IDEA è¿æ¥æ•°æ®åº“\n\n![image-20210414220153821](https://gitee.com/faro/images/raw/master/img/20210414220153.png)\n\n![image-20210414221502868](https://gitee.com/faro/images/raw/master/img/20210414221502.png)\n\n\n\n* æ·»åŠ  sql è„šæœ¬\n\næ–°å»º sql æ–‡ä»¶å¤¹ï¼Œå»ºç«‹`all.sql`æ–‡ä»¶\n\n![image-20210414221647283](https://gitee.com/faro/images/raw/master/img/20210414221647.png)\n\n\n\næˆ‘ä»¬åœ¨ sql è„šæœ¬ä¸­æ·»åŠ æµ‹è¯•ç”¨æ•°æ®ï¼Œå¹¶æ‰§è¡Œ\n\n```sql\n\n# æµ‹è¯•è¡¨\ndrop table if exists `test`;\ncreate table `test` (\n  `id` bigint not null comment 'id',\n  `name` varchar(50) comment 'åç§°',\n  `password` varchar(50) comment 'å¯†ç ',\n  primary key (`id`)\n) engine=innodb default charset=utf8mb4 comment='æµ‹è¯•';\n\ninsert into `test` (id, name, password) values (1, 'æµ‹è¯•', 'password');       \n```\n\nå¯ä»¥çœ‹åˆ°ï¼Œæ•°æ®åº“å·²å»ºç«‹\n\n![image-20210415000115932](https://gitee.com/faro/images/raw/master/img/20210415000131.png)\n\n\n\n### 4. é…ç½® MyBatis\n\n* åœ¨ `resource`æ–‡ä»¶å¤¹ä¸‹ï¼Œæ–°å»º `mapper`æ–‡ä»¶å¤¹\n\nè¿™æ˜¯ç”¨æ¥å­˜æ”¾ MyBatis çš„å®ç°çš„\n\n![image-20210414201459632](https://gitee.com/faro/images/raw/master/img/20210414201459.png)\n\n\n\n* æ–°å»º pojo åŒ…\n\npojo åŒ…ç”¨æ¥å­˜æ”¾å®ä½“ç±»\n\n![image-20210415000316772](https://gitee.com/faro/images/raw/master/img/20210415000316.png)\n\n\n\n* åœ¨é¡¹ç›®ä¸‹ï¼Œæ–°å»º mapper åŒ…ï¼Œç”¨æ¥å­˜æ”¾æ¥å£\n\n![image-20210415000711989](https://gitee.com/faro/images/raw/master/img/20210415000712.png)\n\n\n\n* å°†é…ç½®æ–‡ä»¶åç¼€æ”¹ä¸º`.yml`\n\næˆ‘ä¸ªäººä¹ æƒ¯ä½¿ç”¨`.yml`è¿›è¡Œä½ç½®\n\n![image-20210414201610045](https://gitee.com/faro/images/raw/master/img/20210414201610.png)\n\n\n\n* æ·»åŠ  `Mybatis`é…ç½®\n\nè¿™é‡Œï¼Œè¦æ·»åŠ æ•°æ®æºï¼Œå’Œ MyBatis çš„é…ç½®ï¼Œéƒ¨åˆ†åœ°æ–¹ï¼Œè¦æ ¹æ®å®é™…é¡¹ç›®ï¼Œè¿›è¡Œä¿®æ”¹\n\n```yml\nspring:\n  datasource:\n    url: jdbc:mysql://localhost:3306/weixindemo?useUnicode=true&characterEncoding=utf-8\n    username: weixindemo\n    password: weixindemo\n    driver-class-name: com.mysql.cj.jdbc.Driver\n    \n    \n# æ•´åˆMybatis\nmybatis:\n  # ** è¡¨ç¤ºåœ¨mapperä¸‹ä¸ç®¡æœ‰å¤šå°‘æ–‡ä»¶å¤¹ï¼Œéƒ½å¯ä»¥å…¨éƒ¨è¯†åˆ«\n  mapper-locations: classpath:/mapper/**/*.xml\n  type-aliases-package: weixindemo.pojo\n  #  æ‰“å°sqlç›¸å…³çš„æ—¥å¿—ä¿¡æ¯\n  configuration:\n    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl\n```\n\n![image-20210415000535841](https://gitee.com/faro/images/raw/master/img/20210415000535.png)\n\n\n\n* æ·»åŠ ç«¯å£é…ç½®\n\nå› ä¸º vue ä¹Ÿæ˜¯ç”¨çš„8080ç«¯å£ï¼Œæˆ‘ä»¬ä¸èƒ½å’Œå®ƒé‡äº†\n\n```yml\nserver:\n  port: 8880\n```\n\n\n\n* å¯åŠ¨ç±»æ·»åŠ `mapper`æ¥å£æ‰«æè·¯å¾„\n\n```java\n@MapperScan(\"weixindemo.mapper\") //mybatis mapperæ¥å£æ‰«æ\n```\n\n![image-20210415000824262](https://gitee.com/faro/images/raw/master/img/20210415000824.png)\n\n\n\n### 5. MVC åŒ…å»ºç«‹\n\næˆ‘ä»¬è¿˜è¦å»ºç«‹ ==service==ï¼Œ==util==ï¼Œ==controller==åŒ…\n\n![image-20210415001226689](https://gitee.com/faro/images/raw/master/img/20210415001226.png)\n\n![image-20210415001237989](https://gitee.com/faro/images/raw/master/img/20210415001238.png)\n\n\n\n### 5. æµ‹è¯• Mybatis é…ç½®\n\né…ç½®åˆ°è¿™ä¸€æ­¥ï¼Œè¦å¯¹ä¹‹å‰çš„é…ç½®ï¼Œè¿›è¡Œä¸€ä¸ªæµ‹è¯•\n\n* pojo ä¸­ï¼Œæ–°å»º Test å®ä½“ç±»\n\n![image-20210415001028711](https://gitee.com/faro/images/raw/master/img/20210415001028.png)\n\n```java\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Test {\n    private Integer id;\n    private String name;\n}\n```\n\n\n\n* mapper åŒ…ä¸­ï¼Œæ–°å»º TestMapper æ¥å£\n\n![image-20210415001403532](https://gitee.com/faro/images/raw/master/img/20210415001420.png)\n\n```java\n@Repository\n@Mapper\npublic interface TestMapper {\n    List<Test> getList();\n}\n```\n\n\n\n* resources ä¸‹çš„ mapper æ–‡ä»¶å¤¹ä¸­ï¼Œå¢åŠ  TestMapper.xml å®ç°\n\n  ![image-20210415002153386](https://gitee.com/faro/images/raw/master/img/20210415002153.png)\n\nå…·ä½“å†…å®¹ï¼Œè¦æ ¹æ®å®é™…é¡¹ç›®ä¿®æ”¹\n\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n<!DOCTYPE mapper PUBLIC \"-//mybatis.org//DTD Mapper 3.0//EN\"\n    \"http://mybatis.org/dtd/mybatis-3-mapper.dtd\">\n\n<!--namespaceè¦å’Œæ¥å£çš„ä½ç½®å’Œåå­—å¯¹åº”-->\n<mapper namespace=\"weixindemo.mapper.TestMapper\">\n\n    <select id=\"getList\" resultType=\"weixindemo.pojo.Test\">\n        select * from test\n    </select>\n\n</mapper>\n```\n\n![image-20210415002240288](https://gitee.com/faro/images/raw/master/img/20210415002240.png)\n\n\n\n* åœ¨ service åŒ…ä¸‹ï¼Œæ–°å»º TestService\n\n![](https://gitee.com/faro/images/raw/master/img/20210415002439.png)\n\nåˆ«å¿˜äº†åŠ ä¸Š @Service æ³¨è§£\n\n```java\n@Service\npublic class TestService {\n\n    @Autowired\n    private TestMapper mapper;\n\n    public List<Test> getList() {\n        return mapper.getList();\n    }\n}\n```\n\n\n\n* åœ¨ controlleråŒ…ä¸‹ï¼Œæ–°å»º TestController\n\n![image-20210415002611361](https://gitee.com/faro/images/raw/master/img/20210415002611.png)\n\n```java\n@RestController\npublic class TestController {\n\n    @Autowired\n    private TestService testService;\n    \n\n    @RequestMapping(\"/test/list\")\n    public List<Test> list() {\n        return testService.getList();\n    }\n\n}\n```\n\n\n\n* é‡å¯é¡¹ç›®\n\n\n\n* æ–°å»º http æ–‡ä»¶ï¼Œç¼–å†™ http æµ‹è¯•è„šæœ¬ï¼Œæ‰§è¡Œ\n\n![image-20210415002803589](https://gitee.com/faro/images/raw/master/img/20210415002803.png)\n\n```http\nGET http://localhost:8880/test/list\nAccept: application/json\n\n###\n```\n\n\n\næœ€åæˆåŠŸä»æ¥å£ä¸­è·å–æ•°æ®åº“ä¸­çš„æ•°æ®ï¼Œè¯´æ˜æˆ‘ä»¬ä¹‹å‰é…ç½®çš„éƒ½æ²¡æœ‰é”™è¯¯ï¼Œå¯ä»¥è¿›è¡Œä¸‹é¢çš„æ“ä½œ\n\n![image-20210415003021769](https://gitee.com/faro/images/raw/master/img/20210415003021.png)\n\n\n\n### 6. MyBatis ä»£ç ç”Ÿæˆå™¨\n\næˆ‘ä»¬ä¸å¯èƒ½å»å†™æ‰€æœ‰æŒä¹…å±‚çš„å®ç°ï¼Œä¸šåŠ¡ä¸­ï¼Œè¿™éƒ¨åˆ†éƒ½æ˜¯è‡ªåŠ¨ç”Ÿæˆçš„\n\n\n\n* å¯¼å…¥ Maven ä¾èµ–\n\næ³¨æ„ï¼Œ==æ˜¯æ”¾åœ¨`plugiuns`ä¸‹é¢çš„==\n\n```xml\n<!-- mybatis generator è‡ªåŠ¨ç”Ÿæˆä»£ç æ’ä»¶ -->\n            <plugin>\n                <groupId>org.mybatis.generator</groupId>\n                <artifactId>mybatis-generator-maven-plugin</artifactId>\n                <version>1.4.0</version>\n                <configuration>\n                    <configurationFile>src/main/resources/generator/generator-config.xml</configurationFile>\n                    <overwrite>true</overwrite>\n                    <verbose>true</verbose>\n                </configuration>\n                <dependencies>\n                    <dependency>\n                        <groupId>mysql</groupId>\n                        <artifactId>mysql-connector-java</artifactId>\n                        <version>8.0.22</version>\n                    </dependency>\n                </dependencies>\n            </plugin>\n```\n\n\n\n* å»ºç«‹ä»£ç”Ÿæˆå™¨ä½ç½®\n\npomæ–‡ä»¶ä¸­ï¼Œæ˜¾ç¤ºäº†è¦åˆ›å»ºçš„ä»£ç ç”Ÿæˆå™¨çš„ä½ç½®`src/main/resources/generator/generator-config.xml`\n\n```xml\n<configurationFile>\n  src/main/resources/generator/generator-config.xml\n</configurationFile>\n```\n\n![image-20210323131202189](https://gitee.com/faro/images/raw/master/img/20210323131202.png)\n\n\n\n* ä»£ç ç”Ÿæˆå™¨ä»£ç \n\nä»`jdbcConnection`å¼€å§‹ï¼Œåˆ«å¿˜äº†==æ ¹æ®é¡¹ç›®è¿›è¡Œä¿®æ”¹==\n\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<!DOCTYPE generatorConfiguration\n        PUBLIC \"-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN\"\n        \"http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd\">\n\n<generatorConfiguration>\n    <context id=\"Mysql\" targetRuntime=\"MyBatis3\" defaultModelType=\"flat\">\n\n        <!-- è‡ªåŠ¨æ£€æŸ¥å…³é”®å­—ï¼Œä¸ºå…³é”®å­—å¢åŠ åå¼•å· -->\n        <property name=\"autoDelimitKeywords\" value=\"true\"/>\n        <property name=\"beginningDelimiter\" value=\"`\"/>\n        <property name=\"endingDelimiter\" value=\"`\"/>\n\n        <!--è¦†ç›–ç”ŸæˆXMLæ–‡ä»¶-->\n        <plugin type=\"org.mybatis.generator.plugins.UnmergeableXmlMappersPlugin\" />\n        <!-- ç”Ÿæˆçš„å®ä½“ç±»æ·»åŠ toString()æ–¹æ³• -->\n        <plugin type=\"org.mybatis.generator.plugins.ToStringPlugin\"/>\n\n        <!-- ä¸ç”Ÿæˆæ³¨é‡Š -->\n        <commentGenerator>\n            <property name=\"suppressAllComments\" value=\"true\"/>\n        </commentGenerator>\n\n        <jdbcConnection driverClass=\"com.mysql.cj.jdbc.Driver\"\n                        connectionURL=\"jdbc:mysql://localhost:3306/wiki?useUnicode=true&amp;characterEncoding=utf-8\"\n                        userId=\"wiki\"\n                        password=\"123456\">\n        </jdbcConnection>\n\n        <!-- domainç±»çš„ä½ç½® -->\n        <javaModelGenerator targetProject=\"src/main/java\"\n                            targetPackage=\"top.faroz.pojo\"/>\n\n        <!-- mapper xmlçš„ä½ç½® -->\n        <sqlMapGenerator targetProject=\"src/main/resources\"\n                         targetPackage=\"mapper\"/>\n\n        <!-- mapperç±»çš„ä½ç½® -->\n        <javaClientGenerator targetProject=\"src/main/java\"\n                             targetPackage=\"top.faroz.mapper\"\n                             type=\"XMLMAPPER\"/>\n\n        <table tableName=\"demo\" domainObjectName=\"Demo\"/>\n        <!--<table tableName=\"ebook\"/>-->\n        <!--<table tableName=\"category\"/>-->\n        <!--<table tableName=\"doc\"/>-->\n        <!--<table tableName=\"content\"/>-->\n        <!--<table tableName=\"user\"/>-->\n        <!--<table tableName=\"ebook_snapshot\"/>-->\n    </context>\n</generatorConfiguration>\n```\n\n\n\n* æ–°å»ºä¸€ä¸ªmavenå¯åŠ¨é¡¹\n\n![image-20210411015300856](https://gitee.com/faro/images/raw/master/img/20210411015300.png)\n\n![image-20210411015346116](https://gitee.com/faro/images/raw/master/img/20210411015346.png)\n\n```bash\nmybatis-generator:generate -e\n```\n\n![image-20210411015516818](https://gitee.com/faro/images/raw/master/img/20210411015516.png)\n\n\n\n### 7. æµ‹è¯•ä»£ç ç”Ÿæˆå™¨\n\nä»£ç ç”Ÿæˆå™¨çš„å·¥ä½œåŸç†ï¼Œæ˜¯ä»æ•°æ®åº“ä¸­å–å‡ºè¡¨ä¿¡æ¯ï¼Œç„¶åæ ¹æ®è¡¨ä¿¡æ¯ï¼Œå»æ„é€ æŒä¹…å±‚ä»£ç ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬è¦å†å»å»ºä¸€ä¸ªè¡¨\n\n\n\n* all.sql æ·»åŠ  demo è¡¨çš„å¢åŠ  SQL è¯­å¥ï¼Œå¹¶æ‰§è¡Œ\n\n```sql\n# demoåˆ—è¡¨\ndrop table if exists `demo`;\ncreate table `demo` (\n    `id` bigint not null comment 'id',\n    `name` varchar(50) comment 'åç§°',\n    primary key (`id`)\n) engine=innodb default charset =utf8mb4 comment 'æµ‹è¯•';\n\ninsert into `demo` (id,name) values(2,'æµ‹è¯•2');\n```\n\n\n\n* åœ¨ä»£ç ç”Ÿæˆå™¨æœ€åçš„éƒ¨åˆ†ï¼Œå¡«ä¸Šè¦ç”Ÿæˆçš„è¡¨å\n\n![image-20210415012438872](https://gitee.com/faro/images/raw/master/img/20210415012439.png)\n\n\n\n* æ‰§è¡Œ\n\n![image-20210415012552449](https://gitee.com/faro/images/raw/master/img/20210415012552.png)\n\n\n\n* æ‰§è¡ŒæˆåŠŸï¼Œä¼šç”Ÿæˆ 4 ä¸ªæ–°æ–‡ä»¶\n\n![image-20210415012630004](https://gitee.com/faro/images/raw/master/img/20210415012630.png)\n\n\n\n* æˆ‘ä»¬æ¨¡ä»¿ Testï¼Œå»å†™ Demoçš„ Service å’Œ Controller ä»£ç \n\n```java\n@RestController\npublic class DemoController {\n\n    @Autowired\n    private DemoService demoService;\n\n    @RequestMapping(\"/demo/list\")\n    public List<Demo> list() {\n        return demoService.getList();\n    }\n}\n```\n\n```java\n@Service\npublic class DemoService {\n\n    @Resource\n    private DemoMapper demoMapper;\n\n    public List<Demo> getList() {\n        List<Demo> list = demoMapper.selectByExample(null);\n        return list;\n    }\n}\n```\n\n\n\n* æ·»åŠ  demo çš„ http æµ‹è¯•è„šæœ¬\n\n```http\nGET http://localhost:8880/demo/list\nAccept: application/json\n\n###\n```\n\næµ‹è¯•æˆåŠŸï¼Œè¯´æ˜æˆ‘ä»¬ç”¨ä»£ç ç”Ÿæˆå™¨ç”Ÿæˆçš„ä»£ç æ²¡æœ‰é—®é¢˜\n\n![image-20210415013323695](https://gitee.com/faro/images/raw/master/img/20210415013323.png)\n\n\n\n### 8. è§£å†³å‰åç«¯è·¨åŸŸé—®é¢˜\n\nè™½ç„¶ç°åœ¨è¿˜æ²¡æœ‰æ„å»ºå‰ç«¯é¡¹ç›®ï¼Œä½†æ˜¯åé¢ï¼Œä¼šå‡ºç°è·¨åŸŸé—®é¢˜\n\n\n\n* æ–°å»º CorsConfig ç±»\n\n![image-20210415013643183](https://gitee.com/faro/images/raw/master/img/20210415013643.png)\n\n\n\n* ä»£ç å¦‚ä¸‹\n\nä¸ç”¨æ”¹åŠ¨ï¼Œç›´æ¥ç”¨ï¼Œåˆ«å¿˜äº†åŠ ä¸Š==@Configuration==æ³¨è§£\n\n```java\n@Configuration\npublic class CorsConfig implements WebMvcConfigurer {\n\n    @Override\n    public void addCorsMappings(CorsRegistry registry) {\n        registry.addMapping(\"/**\")\n                .allowedOriginPatterns(\"*\")\n                .allowedHeaders(CorsConfiguration.ALL)\n                .allowedMethods(CorsConfiguration.ALL)\n                .allowCredentials(true)\n                .maxAge(3600); // 1å°æ—¶å†…ä¸éœ€è¦å†é¢„æ£€ï¼ˆå‘OPTIONSè¯·æ±‚ï¼‰\n    }\n}\n```\n\n\n\n### 9. æ·»åŠ é›ªèŠ±ç®—æ³•å·¥å…·ç±»\n\né›ªèŠ±ç®—æ³•ï¼Œç”¨æ¥ç”Ÿæˆå”¯ä¸€ ID\n\n\n\n* æ–°å»º SnowFlake å·¥å…·ç±»\n\n![image-20210415014504164](https://gitee.com/faro/images/raw/master/img/20210415014504.png)\n\n\n\n* ä»£ç å¦‚ä¸‹\n\nåˆ«å¿˜äº†åŠ ä¸Š @Component æ³¨è§£\n\n```java\n@Component\npublic class SnowFlake {\n    /**\n     * èµ·å§‹çš„æ—¶é—´æˆ³\n     */\n    private final static long START_STMP = 1609459200000L; // 2021-01-01 00:00:00\n\n    /**\n     * æ¯ä¸€éƒ¨åˆ†å ç”¨çš„ä½æ•°\n     */\n    private final static long SEQUENCE_BIT = 12; //åºåˆ—å·å ç”¨çš„ä½æ•°\n    private final static long MACHINE_BIT = 5;   //æœºå™¨æ ‡è¯†å ç”¨çš„ä½æ•°\n    private final static long DATACENTER_BIT = 5;//æ•°æ®ä¸­å¿ƒå ç”¨çš„ä½æ•°\n\n    /**\n     * æ¯ä¸€éƒ¨åˆ†çš„æœ€å¤§å€¼\n     */\n    private final static long MAX_DATACENTER_NUM = -1L ^ (-1L << DATACENTER_BIT);\n    private final static long MAX_MACHINE_NUM = -1L ^ (-1L << MACHINE_BIT);\n    private final static long MAX_SEQUENCE = -1L ^ (-1L << SEQUENCE_BIT);\n\n    /**\n     * æ¯ä¸€éƒ¨åˆ†å‘å·¦çš„ä½ç§»\n     */\n    private final static long MACHINE_LEFT = SEQUENCE_BIT;\n    private final static long DATACENTER_LEFT = SEQUENCE_BIT + MACHINE_BIT;\n    private final static long TIMESTMP_LEFT = DATACENTER_LEFT + DATACENTER_BIT;\n\n    private long datacenterId = 1;  //æ•°æ®ä¸­å¿ƒ\n    private long machineId = 1;     //æœºå™¨æ ‡è¯†\n    private long sequence = 0L; //åºåˆ—å·\n    private long lastStmp = -1L;//ä¸Šä¸€æ¬¡æ—¶é—´æˆ³\n\n    public SnowFlake() {\n    }\n\n    public SnowFlake(long datacenterId, long machineId) {\n        if (datacenterId > MAX_DATACENTER_NUM || datacenterId < 0) {\n            throw new IllegalArgumentException(\"datacenterId can't be greater than MAX_DATACENTER_NUM or less than 0\");\n        }\n        if (machineId > MAX_MACHINE_NUM || machineId < 0) {\n            throw new IllegalArgumentException(\"machineId can't be greater than MAX_MACHINE_NUM or less than 0\");\n        }\n        this.datacenterId = datacenterId;\n        this.machineId = machineId;\n    }\n\n    /**\n     * äº§ç”Ÿä¸‹ä¸€ä¸ªID\n     *\n     * @return\n     */\n    public synchronized long nextId() {\n        long currStmp = getNewstmp();\n        if (currStmp < lastStmp) {\n            throw new RuntimeException(\"Clock moved backwards.  Refusing to generate id\");\n        }\n\n        if (currStmp == lastStmp) {\n            //ç›¸åŒæ¯«ç§’å†…ï¼Œåºåˆ—å·è‡ªå¢\n            sequence = (sequence + 1) & MAX_SEQUENCE;\n            //åŒä¸€æ¯«ç§’çš„åºåˆ—æ•°å·²ç»è¾¾åˆ°æœ€å¤§\n            if (sequence == 0L) {\n                currStmp = getNextMill();\n            }\n        } else {\n            //ä¸åŒæ¯«ç§’å†…ï¼Œåºåˆ—å·ç½®ä¸º0\n            sequence = 0L;\n        }\n\n        lastStmp = currStmp;\n\n        return (currStmp - START_STMP) << TIMESTMP_LEFT //æ—¶é—´æˆ³éƒ¨åˆ†\n                | datacenterId << DATACENTER_LEFT       //æ•°æ®ä¸­å¿ƒéƒ¨åˆ†\n                | machineId << MACHINE_LEFT             //æœºå™¨æ ‡è¯†éƒ¨åˆ†\n                | sequence;                             //åºåˆ—å·éƒ¨åˆ†\n    }\n\n    private long getNextMill() {\n        long mill = getNewstmp();\n        while (mill <= lastStmp) {\n            mill = getNewstmp();\n        }\n        return mill;\n    }\n\n    private long getNewstmp() {\n        return System.currentTimeMillis();\n    }\n\n    // public static void main(String[] args) throws ParseException {\n    //     // æ—¶é—´æˆ³\n    //     // System.out.println(System.currentTimeMillis());\n    //     // System.out.println(new Date().getTime());\n    //     //\n    //     // String dateTime = \"2021-01-01 08:00:00\";\n    //     // SimpleDateFormat sdf = new SimpleDateFormat(\"yyyy-MM-dd hh:mm:ss\");\n    //     // System.out.println(sdf.parse(dateTime).getTime());\n    //\n    //     SnowFlake snowFlake = new SnowFlake(1, 1);\n    //\n    //     long start = System.currentTimeMillis();\n    //     for (int i = 0; i < 10; i++) {\n    //         System.out.println(snowFlake.nextId());\n    //         System.out.println(System.currentTimeMillis() - start);\n    //     }\n    // }\n\n}\n```\n\n\n\n\n\n### 10. æ·»åŠ  AOP\n\nAOP ç”¨æ¥æ‰“å°æ¥å£æ—¥å¿—ï¼Œæ–¹ä¾¿åæœŸè°ƒè¯•\n\n\n\n* Maven ä¸­å¼•å…¥ fastjsonï¼Œå› ä¸º æˆ‘ä»¬çš„ç±»ä¸­è¦ç”¨\n\n```xml\n <!--fastjson-->\n<dependency>\n  <groupId>com.alibaba</groupId>\n  <artifactId>fastjson</artifactId>\n  <version>1.2.70</version>\n</dependency>\n```\n\n\n\n* Maven å¼•å…¥ AOP\n\n```xml\n<!--å¯¼å…¥aop-->\n<dependency>\n  <groupId>org.springframework.boot</groupId>\n  <artifactId>spring-boot-starter-aop</artifactId>\n</dependency>\n```\n\n\n\n* æ·»åŠ  RequestContext å·¥å…·ç±»\n\nè¿™ä¸ªæ˜¯åæœŸä¸ºäº†æ‰“å° WebSocket æ—¥å¿—çš„\n\n![image-20210415014912415](https://gitee.com/faro/images/raw/master/img/20210415014912.png)\n\n```java\npublic class RequestContext implements Serializable {\n    private static ThreadLocal<String> remoteAddr = new ThreadLocal<>();\n\n    public static String getRemoteAddr() {\n        return remoteAddr.get();\n    }\n\n    public static void setRemoteAddr(String remoteAddr) {\n        weixindemo.util.RequestContext.remoteAddr.set(remoteAddr);\n    }\n}\n```\n\n\n\n* æ–°å»º aspect åŒ…ï¼Œå¹¶æ–°å»º LogAspect ç±»\n\n![image-20210415013942484](https://gitee.com/faro/images/raw/master/img/20210415013942.png)\n\n\n\n**LogAspect ä»£ç å¦‚ä¸‹:**\n\nåˆ‡ç‚¹çš„ä»£ç ï¼Œæˆ‘ä»¬è¦ä¾æ®é¡¹ç›®ä¿®æ”¹\n\n![image-20210415015319943](https://gitee.com/faro/images/raw/master/img/20210415015320.png)\n\n```java\n@Aspect\n@Component\npublic class LogAspect {\n    private final static Logger LOG = LoggerFactory.getLogger(weixindemo.aspect.LogAspect.class);\n\n    @Resource\n    private SnowFlake snowFlake;\n\n    /** å®šä¹‰ä¸€ä¸ªåˆ‡ç‚¹ */\n    @Pointcut(\"execution(public * weixindemo.controller..*Controller.*(..))\")\n    public void controllerPointcut() {}\n\n    // @Resource\n    // private SnowFlake snowFlake;\n\n    @Before(\"controllerPointcut()\")\n    public void doBefore(JoinPoint joinPoint) throws Throwable {\n\n        // å¢åŠ æ—¥å¿—æµæ°´å·\n        MDC.put(\"LOG_ID\", String.valueOf(snowFlake.nextId()));\n\n        // å¼€å§‹æ‰“å°è¯·æ±‚æ—¥å¿—\n        ServletRequestAttributes attributes = (ServletRequestAttributes) RequestContextHolder.getRequestAttributes();\n        HttpServletRequest request = attributes.getRequest();\n        Signature signature = joinPoint.getSignature();\n        String name = signature.getName();\n\n        // æ‰“å°è¯·æ±‚ä¿¡æ¯\n        LOG.info(\"------------- å¼€å§‹ -------------\");\n        LOG.info(\"è¯·æ±‚åœ°å€: {} {}\", request.getRequestURL().toString(), request.getMethod());\n        LOG.info(\"ç±»åæ–¹æ³•: {}.{}\", signature.getDeclaringTypeName(), name);\n        LOG.info(\"è¿œç¨‹åœ°å€: {}\", request.getRemoteAddr());\n\n        RequestContext.setRemoteAddr(getRemoteIp(request));\n\n        // æ‹¿åˆ°æ‰€æœ‰çš„å‚æ•°\n        Object[] args = joinPoint.getArgs();\n        // LOG.info(\"è¯·æ±‚å‚æ•°: {}\", JSONObject.toJSONString(args));\n\n        Object[] arguments  = new Object[args.length];\n        for (int i = 0; i < args.length; i++) {\n            if (args[i] instanceof ServletRequest\n                    || args[i] instanceof ServletResponse\n                    || args[i] instanceof MultipartFile) {\n                continue;\n            }\n            arguments[i] = args[i];\n        }\n        // æ’é™¤å­—æ®µï¼Œæ•æ„Ÿå­—æ®µæˆ–å¤ªé•¿çš„å­—æ®µä¸æ˜¾ç¤º\n        String[] excludeProperties = {\"password\", \"file\"};\n        PropertyPreFilters filters = new PropertyPreFilters();\n        PropertyPreFilters.MySimplePropertyPreFilter excludefilter = filters.addFilter();\n        excludefilter.addExcludes(excludeProperties);\n        LOG.info(\"è¯·æ±‚å‚æ•°: {}\", JSONObject.toJSONString(arguments, excludefilter));\n    }\n\n    @Around(\"controllerPointcut()\")\n    public Object doAround(ProceedingJoinPoint proceedingJoinPoint) throws Throwable {\n        long startTime = System.currentTimeMillis();\n        Object result = proceedingJoinPoint.proceed();\n        // æ’é™¤å­—æ®µï¼Œæ•æ„Ÿå­—æ®µæˆ–å¤ªé•¿çš„å­—æ®µä¸æ˜¾ç¤º\n        String[] excludeProperties = {\"password\", \"file\"};\n        PropertyPreFilters filters = new PropertyPreFilters();\n        PropertyPreFilters.MySimplePropertyPreFilter excludefilter = filters.addFilter();\n        excludefilter.addExcludes(excludeProperties);\n        LOG.info(\"è¿”å›ç»“æœ: {}\", JSONObject.toJSONString(result, excludefilter));\n        LOG.info(\"------------- ç»“æŸ è€—æ—¶ï¼š{} ms -------------\", System.currentTimeMillis() - startTime);\n        return result;\n    }\n\n    /**\n     * ä½¿ç”¨nginxåšåå‘ä»£ç†ï¼Œéœ€è¦ç”¨è¯¥æ–¹æ³•æ‰èƒ½å–åˆ°çœŸå®çš„è¿œç¨‹IP\n     * å½“æˆ‘ä»¬å‘å¸ƒä¸Šçº¿åï¼Œå› ä¸ºå‰ç«¯ã€åç«¯éƒ½æ˜¯ç”¨80ç«¯å£ï¼Œä¼šå†²çª\n     * æ‰€ä»¥ç”¨æˆ·è®¿é—®çš„æ—¶å€™ï¼Œéœ€è¦å…ˆå»è®¿é—® nginxï¼Œç„¶åï¼Œè®© nginx å»åå‘ä»£ç†ï¼Œæ‰¾æˆ‘ä»¬è¦è®¿é—®çš„è·¯å¾„\n     * @param request\n     * @return\n     */\n    public String getRemoteIp(HttpServletRequest request) {\n        String ip = request.getHeader(\"x-forwarded-for\");\n        if (ip == null || ip.length() == 0 || \"unknown\".equalsIgnoreCase(ip)) {\n            ip = request.getHeader(\"Proxy-Client-IP\");\n        }\n        if (ip == null || ip.length() == 0 || \"unknown\".equalsIgnoreCase(ip)) {\n            ip = request.getHeader(\"WL-Proxy-Client-IP\");\n        }\n        if (ip == null || ip.length() == 0 || \"unknown\".equalsIgnoreCase(ip)) {\n            ip = request.getRemoteAddr();\n        }\n        return ip;\n    }\n}\n```\n\n\n\n### 11. è§£å†³å‰åç«¯ Long ç²¾åº¦ä¸¢å¤±é—®é¢˜\n\næˆ‘ä»¬åæœŸä¼šç”¨åˆ° MD5 åŠ å¯†ï¼Œåˆ°æ—¶å€™åç«¯ä¼ åˆ°å‰ç«¯çš„æ—¶å€™ï¼Œå› ä¸º javascript number çš„ç²¾åº¦é—®é¢˜ï¼Œä¼šå‡ºç°æ•°æ®ä¸¢å¤±\n\n\n\n* é…ç½®æ–‡ä»¶æ–°å¢ JacksonConfig ç±»\n\n![image-20210415020223600](https://gitee.com/faro/images/raw/master/img/20210415020223.png)\n\n\n\n* ä»£ç å¦‚ä¸‹\n\n```java\n@Configuration\npublic class JacksonConfig {\n\n    @Bean\n    public ObjectMapper jacksonObjectMapper(Jackson2ObjectMapperBuilder builder) {\n        ObjectMapper objectMapper = builder.createXmlMapper(false).build();\n        SimpleModule simpleModule = new SimpleModule();\n        // simpleModule.addSerializer(Long.class, ToStringSerializer.instance);\n        simpleModule.addSerializer(Long.class, ToStringSerializer.instance);\n        objectMapper.registerModule(simpleModule);\n        return objectMapper;\n    }\n}\n```\n\n\n\n### 12. æ–°å»º req resp åŒ…\n\næˆ‘ä»¬è¦å°†è¯·æ±‚ä¸è¿”å›åŒ…è£…\n\n![image-20210415020648707](https://gitee.com/faro/images/raw/master/img/20210415020648.png)\n\n\n\n### 13. CommonResp\n\nä¸ºäº†æ–¹ä¾¿å‰ç«¯è°ƒç”¨ï¼Œåç«¯çš„ respï¼Œæˆ‘ä»¬å†™ä¸€ä¸ªç»Ÿä¸€çš„è¿”å› CommonResp\n\n![image-20210415020805724](https://gitee.com/faro/images/raw/master/img/20210415020805.png)\n\n**ä»£ç å¦‚ä¸‹ï¼š**\n\n```java\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class CommonResp<T> {\n    /**\n     * è¿”å›æ˜¯å¦æˆåŠŸ\n     */\n    private boolean isSuccess=true;\n\n    /**\n     * è¿”å›å¤±è´¥æ—¶ï¼Œè¿”å›çš„é”™è¯¯ä¿¡æ¯\n     */\n    private String message;\n\n    /**\n     * è¿”å›æˆåŠŸçš„æ—¶å€™ï¼Œè¿”å›çš„å†…å®¹\n     */\n    private T content;\n}\n```\n\n\n\n### 14. è‡ªå®šä¹‰å¼‚å¸¸\n\n* æ–°å»ºå¼‚å¸¸ç±»`BusinessException`å’Œå¼‚å¸¸ä¿¡æ¯æšä¸¾`BusinessExceptionCode`\n\n![image-20210415021357196](https://gitee.com/faro/images/raw/master/img/20210415021357.png)\n\n\n\n* `BusinessException`ä»£ç \n\n```java\npublic class BusinessException extends RuntimeException{\n    private BusinessExceptionCode code;\n\n    public BusinessException (BusinessExceptionCode code) {\n        /**\n         * çˆ¶ç±»æœ‰ä¸ªæˆå‘˜å˜é‡  private String desc\n         * éœ€è¦ä¸ºè¿™ä¸ªæˆå‘˜å˜é‡èµ‹å€¼\n         */\n        super(code.getDesc());\n        this.code = code;\n    }\n\n    public BusinessExceptionCode getCode() {\n        return code;\n    }\n\n    public void setCode(BusinessExceptionCode code) {\n        this.code = code;\n    }\n\n    /**\n     * ä¸å†™å…¥å †æ ˆä¿¡æ¯ï¼Œæé«˜æ€§èƒ½\n     */\n    @Override\n    public Throwable fillInStackTrace() {\n        return this;\n    }\n}\n```\n\n\n\n* `BusinessExceptionCode`ä»£ç \n\n```java\npublic enum BusinessExceptionCode {\n    USER_LOGIN_NAME_EXIST(\"ç™»å½•åå·²å­˜åœ¨\"),\n    LOGIN_USER_ERROR(\"ç”¨æˆ·åä¸å­˜åœ¨æˆ–å¯†ç é”™è¯¯\"),\n    VOTE_REPEAT(\"æ‚¨å·²ç‚¹èµè¿‡\"),\n    ;\n\n    private String desc;\n\n    BusinessExceptionCode(String desc) {\n        this.desc = desc;\n    }\n\n    public String getDesc() {\n        return desc;\n    }\n\n    public void setDesc(String desc) {\n        this.desc = desc;\n    }\n}\n```\n\n\n\n\n\n### 13. ç»Ÿä¸€å¼‚å¸¸å¤„ç†\n\næˆ‘ä»¬æ‰€æœ‰å¼‚å¸¸ï¼Œéƒ½é€šè¿‡è¿™ä¸ªç±»æ¥æ•è·ï¼Œå¹¶ç”Ÿæˆä¸€ä¸ªè¿”å›é”™è¯¯ä¿¡æ¯çš„ CommonResp\n\n\n\n* æ–°å»º ControllerExceptionHandler ç±»\n\n![](https://gitee.com/faro/images/raw/master/img/20210415020947.png)\n\n\n\n* ä»£ç å¦‚ä¸‹\n\nlogger è¦æ ¹æ®é¡¹ç›®æ”¹ä¸€ä¸‹\n\n```java\n/**\n * ç»Ÿä¸€å¼‚å¸¸å¤„ç†ã€æ•°æ®é¢„å¤„ç†ç­‰\n * è¯¥ç±»ç”¨äºæ•è·ç³»ç»Ÿå¼¹å‡ºçš„å¼‚å¸¸\n * å°†å¼‚å¸¸åŒ…è£…æˆä¸€ä¸ª CommonResp\n * ä»è€Œæ–¹ä¾¿å‰ç«¯è°ƒç”¨ï¼Œæ˜¾ç¤ºé”™è¯¯ä¿¡æ¯\n */\n@ControllerAdvice\npublic class ControllerExceptionHandler {\n    private static final Logger LOG = LoggerFactory.getLogger(top.faroz.controller.ControllerExceptionHandler.class);\n\n    /**\n     * æ ¡éªŒå¼‚å¸¸ç»Ÿä¸€å¤„ç†\n     * @param e\n     * @return\n     */\n    @ExceptionHandler(value = BindException.class)\n    @ResponseBody\n    public CommonResp validExceptionHandler(BindException e) {\n        CommonResp commonResp = new CommonResp();\n        LOG.warn(\"å‚æ•°æ ¡éªŒå¤±è´¥ï¼š{}\", e.getBindingResult().getAllErrors().get(0).getDefaultMessage());\n        commonResp.setSuccess(false);\n        commonResp.setMessage(e.getBindingResult().getAllErrors().get(0).getDefaultMessage());\n        return commonResp;\n    }\n\n    /**\n     * æ ¡éªŒå¼‚å¸¸ç»Ÿä¸€å¤„ç†\n     * @param e\n     * @return\n     */\n    @ExceptionHandler(value = BusinessException.class)\n    @ResponseBody\n    public CommonResp validExceptionHandler(BusinessException e) {\n        CommonResp commonResp = new CommonResp();\n        LOG.warn(\"ä¸šåŠ¡å¼‚å¸¸ï¼š{}\", e.getCode().getDesc());\n        commonResp.setSuccess(false);\n        commonResp.setMessage(e.getCode().getDesc());\n        return commonResp;\n    }\n\n    /**\n     * æ ¡éªŒå¼‚å¸¸ç»Ÿä¸€å¤„ç†\n     * @param e\n     * @return\n     */\n    @ExceptionHandler(value = Exception.class)\n    @ResponseBody\n    public CommonResp validExceptionHandler(Exception e) {\n        CommonResp commonResp = new CommonResp();\n        LOG.error(\"ç³»ç»Ÿå¼‚å¸¸ï¼š\", e);\n        commonResp.setSuccess(false);\n        commonResp.setMessage(\"ç³»ç»Ÿå‡ºç°å¼‚å¸¸ï¼Œè¯·è”ç³»ç®¡ç†å‘˜\");\n        return commonResp;\n    }\n}\n```\n\n\n\n### 14. æ·»åŠ æ—¥å¿—è®°å½• logback\n\n* åœ¨ resource ä¸‹ï¼Œæ–°å»ºlogback-spring.xml æ–‡ä»¶\n\n![image-20210411004947139](https://gitee.com/faro/images/raw/master/img/20210411004947.png)\n\n* å†™å…¥å†…å®¹\n\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<configuration>\n    <!-- ä¿®æ”¹ä¸€ä¸‹è·¯å¾„-->\n    <property name=\"PATH\" value=\"./log\"></property>\n\n    <appender name=\"STDOUT\" class=\"ch.qos.logback.core.ConsoleAppender\">\n        <encoder>\n            <Pattern>%d{yyyy-MM-dd HH:mm:ss.SSS} %highlight(%-5level) %blue(%-50logger{50}:%-4line) %thread %msg%n</Pattern>\n            <!--<Pattern>%d{ss.SSS} %highlight(%-5level) %blue(%-30logger{30}:%-4line) %thread %green(%-18X{LOG_ID}) %msg%n</Pattern>-->\n        </encoder>\n    </appender>\n\n    <appender name=\"TRACE_FILE\" class=\"ch.qos.logback.core.rolling.RollingFileAppender\">\n        <file>${PATH}/trace.log</file>\n        <rollingPolicy class=\"ch.qos.logback.core.rolling.TimeBasedRollingPolicy\">\n            <FileNamePattern>${PATH}/trace.%d{yyyy-MM-dd}.%i.log</FileNamePattern>\n            <timeBasedFileNamingAndTriggeringPolicy class=\"ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP\">\n                <maxFileSize>10MB</maxFileSize>\n            </timeBasedFileNamingAndTriggeringPolicy>\n        </rollingPolicy>\n        <layout>\n            <pattern>%d{yyyy-MM-dd HH:mm:ss.SSS} %-5level %-50logger{50}:%-4line %green(%-18X{LOG_ID}) %msg%n</pattern>\n        </layout>\n    </appender>\n\n    <appender name=\"ERROR_FILE\" class=\"ch.qos.logback.core.rolling.RollingFileAppender\">\n        <file>${PATH}/error.log</file>\n        <rollingPolicy class=\"ch.qos.logback.core.rolling.TimeBasedRollingPolicy\">\n            <FileNamePattern>${PATH}/error.%d{yyyy-MM-dd}.%i.log</FileNamePattern>\n            <timeBasedFileNamingAndTriggeringPolicy class=\"ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP\">\n                <maxFileSize>10MB</maxFileSize>\n            </timeBasedFileNamingAndTriggeringPolicy>\n        </rollingPolicy>\n        <layout>\n            <pattern>%d{yyyy-MM-dd HH:mm:ss.SSS} %-5level %-50logger{50}:%-4line %green(%-18X{LOG_ID}) %msg%n</pattern>\n        </layout>\n        <filter class=\"ch.qos.logback.classic.filter.LevelFilter\">\n            <level>ERROR</level>\n            <onMatch>ACCEPT</onMatch>\n            <onMismatch>DENY</onMismatch>\n        </filter>\n    </appender>\n\n    <root level=\"ERROR\">\n        <appender-ref ref=\"ERROR_FILE\" />\n    </root>\n\n    <root level=\"TRACE\">\n        <appender-ref ref=\"TRACE_FILE\" />\n    </root>\n\n    <root level=\"INFO\">\n        <appender-ref ref=\"STDOUT\" />\n    </root>\n</configuration>\n\n```\n\n\n\n### 15. è‡ªå®šä¹‰ banner\n\nresources ä¸‹æ–°å»º banner.txt\n\n![image-20210415023847796](https://gitee.com/faro/images/raw/master/img/20210415023847.png)\n\n\n\né‡Œé¢æ”¾ä¸Šè‡ªå®šä¹‰ banner\n\n```txt\n ********     **     *******     *******         ********\n/**/////     ****   /**////**   **/////**       //////** \n/**         **//**  /**   /**  **     //**           **  \n/*******   **  //** /*******  /**      /**          **   \n/**////   **********/**///**  /**      /**         **    \n/**      /**//////**/**  //** //**     **         **     \n/**      /**     /**/**   //** //*******   ***** ********\n//       //      // //     //   ///////   ///// //////// \n```\n\n\n\n\n","success":true}
2021-04-16 00:52:21.024 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š10 ms -------------
2021-04-16 00:53:35.187 INFO  io.lettuce.core.protocol.ConnectionWatchdog       :171  [32m                  [0;39m Reconnecting, last destination was r-uf6ljbcdaxobsifyctpd.redis.rds.aliyuncs.com/47.103.172.100:6379
2021-04-16 00:53:35.244 INFO  io.lettuce.core.protocol.ReconnectionHandler      :164  [32m                  [0;39m Reconnected to r-uf6ljbcdaxobsifyctpd.redis.rds.aliyuncs.com:6379
2021-04-16 00:53:54.072 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:53:54.072 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2021-04-16 00:53:54.072 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.findContent
2021-04-16 00:53:54.072 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:53:54.073 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:53:54.073 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find/1 GET
2021-04-16 00:53:54.073 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.find
2021-04-16 00:53:54.073 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:53:54.073 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [1]
2021-04-16 00:53:54.073 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [1]
2021-04-16 00:53:54.078 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},"success":true}
2021-04-16 00:53:54.078 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2021-04-16 00:53:54.082 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":"# å®Œæ•´é¡¹ç›®æ­å»ºæµç¨‹\n\nè™½è¯´ SpringBoot ç›¸è¾ƒäº SSM æ¡†æ¶ï¼Œå¤§å¤§å‡è½»äº†é…ç½®çš„ç¹çï¼Œä½†æ˜¯ï¼Œè¦æ•´åˆ MyBatis ï¼Œç»Ÿä¸€å¼‚å¸¸å¤„ç†ï¼ŒVueç­‰ä¸€ç³»åˆ—ä¸œè¥¿ï¼Œè¿˜æ˜¯è¦è´¹ä¸€ç•ªåŠ²çš„ã€‚\n\nè¿™æ¬¡å°†åˆ›å»ºçš„æ•´ä¸ªæµç¨‹è®°å½•ä¸‹æ¥ï¼Œæ–¹ä¾¿ä»¥åçš„é¡¹ç›®æ­å»ºã€‚\n\nè¦æ­å»ºä¸€ä¸ªå®Œæˆçš„å‰åç«¯åˆ†ç¦»é¡¹ç›®ï¼Œåˆ†ä¸ºè¿™ä¹ˆå‡ ä¸ªéƒ¨åˆ†ï¼š==æ•°æ®åº“ã€åç«¯ã€å‰ç«¯==\n\nå¦‚æœæ˜¯ä¸ºå¾®ä¿¡å°ç¨‹åºæ­å»ºä¸€ä¸ªåç«¯æœåŠ¡ï¼Œé‚£å°±åªè¦çœ‹åˆ°==æ•°æ®åº“ã€åç«¯==å°±å¯ä»¥äº†\n\n\n\n## æ•°æ®åº“\n\nä¸€èˆ¬åœ¨æ–°å»ºé¡¹ç›®çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¼šé€‰æ‹©ä¸“é—¨ä¸ºè¿™ä¸ªé¡¹ç›®æ–°å»ºä¸€ä¸ªç”¨æˆ·ï¼Œå¹¶ä¸ºè¿™ä¸ªç”¨æˆ·ï¼Œèµ‹äºˆåªå±äºè¿™ä¸€ä¸ªé¡¹ç›®çš„æ‰€æœ‰æƒé™\n\n\n\n### 1. **è¿æ¥ admin**\n\nåªæœ‰ admin æœ‰æ‰€æœ‰æƒé™\n\næˆ‘çš„æ•°æ®åº“ admin çš„è´¦æˆ·åå’Œå¯†ç æ˜¯ï¼š\n\n**è´¦æˆ·ï¼š**admin\n\n**å¯†ç ï¼š**123\n\n![image-20210411002100312](https://gitee.com/faro/images/raw/master/img/20210411003334.png)\n\n\n\n### 2. **æ–°å»ºæ•°æ®åº“**\n\nå…¶å­—ç¬¦ç±»å‹ä¸€å®šè¦é€‰æ‹©==utf8mb4==ï¼Œè¿™æ‰æ˜¯çœŸæ­£çš„ utf8ï¼Œæ”¯æŒè¡¨æƒ…ç¬¦å·\n\n![image-20210411002304858](https://gitee.com/faro/images/raw/master/img/20210411002304.png)\n\n### 3. **ä¸ºè¿™ä¸ªæ•°æ®åº“ï¼Œä¸“é—¨å»ºä¸€ä¸ªç”¨æˆ·**\n\nå¼€å‘ç¯å¢ƒä¸­ï¼Œå°±å°†å¯†ç å’Œç”¨æˆ·åè®¾ç½®æˆä¸€æ ·çš„ï¼Œè¿™æ ·ä¸ä¼šå¿˜è®°\n\nhost è®¾ç½®ä¸º localhost\n\n![image-20210411002742750](https://gitee.com/faro/images/raw/master/img/20210411002742.png)\n\n\n\n### 4. **ä¸ºè¿™ä¸ªç”¨æˆ·ï¼Œæˆäºˆå¯¹åº”æ•°æ®åº“çš„å…¨éƒ¨æƒé™**\n\n![image-20210411003034426](https://gitee.com/faro/images/raw/master/img/20210411003034.png)\n\n![image-20210411002821790](https://gitee.com/faro/images/raw/master/img/20210414201958.png)\n\n### 5. **å¯¹å½“å‰ç”¨æˆ·ï¼Œå»ºç«‹è¿æ¥**\n\n![image-20210411002945727](https://gitee.com/faro/images/raw/master/img/20210411002945.png)\n\n\n\n\n\n## åç«¯\n\nå…³äº Mavenã€tomcat çš„ä¸‹è½½é…ç½®ï¼Œè¿™é‡Œå°±ä¸è´¹ç¬”å¢¨å»è®²è§£äº†ã€‚å¦‚æœ‰éœ€è¦ï¼Œå¯ä»¥è‡ªè¡Œç™¾åº¦æŸ¥æ‰¾ã€‚\n\n### 1. æ–°å»º SpringBoot é¡¹ç›®\n\n* ç‚¹å‡» `SpringInitiallizr`ï¼Œæ–°å»ºé¡¹ç›®\n\n![image-20210414200239335](https://gitee.com/faro/images/raw/master/img/20210414200239.png)\n\n* é€‰æ‹©é»˜è®¤ä¾èµ–çš„åŒ…\n\n![image-20210414200420395](https://gitee.com/faro/images/raw/master/img/20210414200420.png)\n\n![image-20210414200533694](https://gitee.com/faro/images/raw/master/img/20210414200533.png)\n\n![image-20210414200611051](https://gitee.com/faro/images/raw/master/img/20210414200611.png)\n\n* é€‰æ‹©å­˜æ”¾è·¯å¾„\n\n![image-20210414200656633](https://gitee.com/faro/images/raw/master/img/20210414200656.png)\n\n* æ–°å»ºå®Œæˆåï¼Œé¡¹ç›®ç›®å½•å¦‚ä¸‹\n\n![image-20210414200752152](https://gitee.com/faro/images/raw/master/img/20210414200752.png)\n\n\n\n### 2. æ›´æ”¹å¯åŠ¨ç±»ä½ç½®\n\n* æ–°å»º config åŒ…ï¼Œå°†å¯åŠ¨ç±»æ”¾è¿›å»\n\n![image-20210414201018806](https://gitee.com/faro/images/raw/master/img/20210414201018.png)\n\n\n\n* ä¸ºå¯åŠ¨ç±»æ·»åŠ æ³¨è§£\n\næ³¨è§£å†…çš„ä¿¡æ¯ï¼Œæ˜¯é¡¹ç›®åç§°\n\n```java\n@ComponentScan(\"weixindemo\")\n```\n\n![image-20210414201210978](https://gitee.com/faro/images/raw/master/img/20210414201211.png)\n\n\n\n### 3. IDEA æ•°æ®åº“é…ç½®\n\n* IDEA è¿æ¥æ•°æ®åº“\n\n![image-20210414220153821](https://gitee.com/faro/images/raw/master/img/20210414220153.png)\n\n![image-20210414221502868](https://gitee.com/faro/images/raw/master/img/20210414221502.png)\n\n\n\n* æ·»åŠ  sql è„šæœ¬\n\næ–°å»º sql æ–‡ä»¶å¤¹ï¼Œå»ºç«‹`all.sql`æ–‡ä»¶\n\n![image-20210414221647283](https://gitee.com/faro/images/raw/master/img/20210414221647.png)\n\n\n\næˆ‘ä»¬åœ¨ sql è„šæœ¬ä¸­æ·»åŠ æµ‹è¯•ç”¨æ•°æ®ï¼Œå¹¶æ‰§è¡Œ\n\n```sql\n\n# æµ‹è¯•è¡¨\ndrop table if exists `test`;\ncreate table `test` (\n  `id` bigint not null comment 'id',\n  `name` varchar(50) comment 'åç§°',\n  `password` varchar(50) comment 'å¯†ç ',\n  primary key (`id`)\n) engine=innodb default charset=utf8mb4 comment='æµ‹è¯•';\n\ninsert into `test` (id, name, password) values (1, 'æµ‹è¯•', 'password');       \n```\n\nå¯ä»¥çœ‹åˆ°ï¼Œæ•°æ®åº“å·²å»ºç«‹\n\n![image-20210415000115932](https://gitee.com/faro/images/raw/master/img/20210415000131.png)\n\n\n\n### 4. é…ç½® MyBatis\n\n* åœ¨ `resource`æ–‡ä»¶å¤¹ä¸‹ï¼Œæ–°å»º `mapper`æ–‡ä»¶å¤¹\n\nè¿™æ˜¯ç”¨æ¥å­˜æ”¾ MyBatis çš„å®ç°çš„\n\n![image-20210414201459632](https://gitee.com/faro/images/raw/master/img/20210414201459.png)\n\n\n\n* æ–°å»º pojo åŒ…\n\npojo åŒ…ç”¨æ¥å­˜æ”¾å®ä½“ç±»\n\n![image-20210415000316772](https://gitee.com/faro/images/raw/master/img/20210415000316.png)\n\n\n\n* åœ¨é¡¹ç›®ä¸‹ï¼Œæ–°å»º mapper åŒ…ï¼Œç”¨æ¥å­˜æ”¾æ¥å£\n\n![image-20210415000711989](https://gitee.com/faro/images/raw/master/img/20210415000712.png)\n\n\n\n* å°†é…ç½®æ–‡ä»¶åç¼€æ”¹ä¸º`.yml`\n\næˆ‘ä¸ªäººä¹ æƒ¯ä½¿ç”¨`.yml`è¿›è¡Œä½ç½®\n\n![image-20210414201610045](https://gitee.com/faro/images/raw/master/img/20210414201610.png)\n\n\n\n* æ·»åŠ  `Mybatis`é…ç½®\n\nè¿™é‡Œï¼Œè¦æ·»åŠ æ•°æ®æºï¼Œå’Œ MyBatis çš„é…ç½®ï¼Œéƒ¨åˆ†åœ°æ–¹ï¼Œè¦æ ¹æ®å®é™…é¡¹ç›®ï¼Œè¿›è¡Œä¿®æ”¹\n\n```yml\nspring:\n  datasource:\n    url: jdbc:mysql://localhost:3306/weixindemo?useUnicode=true&characterEncoding=utf-8\n    username: weixindemo\n    password: weixindemo\n    driver-class-name: com.mysql.cj.jdbc.Driver\n    \n    \n# æ•´åˆMybatis\nmybatis:\n  # ** è¡¨ç¤ºåœ¨mapperä¸‹ä¸ç®¡æœ‰å¤šå°‘æ–‡ä»¶å¤¹ï¼Œéƒ½å¯ä»¥å…¨éƒ¨è¯†åˆ«\n  mapper-locations: classpath:/mapper/**/*.xml\n  type-aliases-package: weixindemo.pojo\n  #  æ‰“å°sqlç›¸å…³çš„æ—¥å¿—ä¿¡æ¯\n  configuration:\n    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl\n```\n\n![image-20210415000535841](https://gitee.com/faro/images/raw/master/img/20210415000535.png)\n\n\n\n* æ·»åŠ ç«¯å£é…ç½®\n\nå› ä¸º vue ä¹Ÿæ˜¯ç”¨çš„8080ç«¯å£ï¼Œæˆ‘ä»¬ä¸èƒ½å’Œå®ƒé‡äº†\n\n```yml\nserver:\n  port: 8880\n```\n\n\n\n* å¯åŠ¨ç±»æ·»åŠ `mapper`æ¥å£æ‰«æè·¯å¾„\n\n```java\n@MapperScan(\"weixindemo.mapper\") //mybatis mapperæ¥å£æ‰«æ\n```\n\n![image-20210415000824262](https://gitee.com/faro/images/raw/master/img/20210415000824.png)\n\n\n\n### 5. MVC åŒ…å»ºç«‹\n\næˆ‘ä»¬è¿˜è¦å»ºç«‹ ==service==ï¼Œ==util==ï¼Œ==controller==åŒ…\n\n![image-20210415001226689](https://gitee.com/faro/images/raw/master/img/20210415001226.png)\n\n![image-20210415001237989](https://gitee.com/faro/images/raw/master/img/20210415001238.png)\n\n\n\n### 5. æµ‹è¯• Mybatis é…ç½®\n\né…ç½®åˆ°è¿™ä¸€æ­¥ï¼Œè¦å¯¹ä¹‹å‰çš„é…ç½®ï¼Œè¿›è¡Œä¸€ä¸ªæµ‹è¯•\n\n* pojo ä¸­ï¼Œæ–°å»º Test å®ä½“ç±»\n\n![image-20210415001028711](https://gitee.com/faro/images/raw/master/img/20210415001028.png)\n\n```java\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Test {\n    private Integer id;\n    private String name;\n}\n```\n\n\n\n* mapper åŒ…ä¸­ï¼Œæ–°å»º TestMapper æ¥å£\n\n![image-20210415001403532](https://gitee.com/faro/images/raw/master/img/20210415001420.png)\n\n```java\n@Repository\n@Mapper\npublic interface TestMapper {\n    List<Test> getList();\n}\n```\n\n\n\n* resources ä¸‹çš„ mapper æ–‡ä»¶å¤¹ä¸­ï¼Œå¢åŠ  TestMapper.xml å®ç°\n\n  ![image-20210415002153386](https://gitee.com/faro/images/raw/master/img/20210415002153.png)\n\nå…·ä½“å†…å®¹ï¼Œè¦æ ¹æ®å®é™…é¡¹ç›®ä¿®æ”¹\n\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n<!DOCTYPE mapper PUBLIC \"-//mybatis.org//DTD Mapper 3.0//EN\"\n    \"http://mybatis.org/dtd/mybatis-3-mapper.dtd\">\n\n<!--namespaceè¦å’Œæ¥å£çš„ä½ç½®å’Œåå­—å¯¹åº”-->\n<mapper namespace=\"weixindemo.mapper.TestMapper\">\n\n    <select id=\"getList\" resultType=\"weixindemo.pojo.Test\">\n        select * from test\n    </select>\n\n</mapper>\n```\n\n![image-20210415002240288](https://gitee.com/faro/images/raw/master/img/20210415002240.png)\n\n\n\n* åœ¨ service åŒ…ä¸‹ï¼Œæ–°å»º TestService\n\n![](https://gitee.com/faro/images/raw/master/img/20210415002439.png)\n\nåˆ«å¿˜äº†åŠ ä¸Š @Service æ³¨è§£\n\n```java\n@Service\npublic class TestService {\n\n    @Autowired\n    private TestMapper mapper;\n\n    public List<Test> getList() {\n        return mapper.getList();\n    }\n}\n```\n\n\n\n* åœ¨ controlleråŒ…ä¸‹ï¼Œæ–°å»º TestController\n\n![image-20210415002611361](https://gitee.com/faro/images/raw/master/img/20210415002611.png)\n\n```java\n@RestController\npublic class TestController {\n\n    @Autowired\n    private TestService testService;\n    \n\n    @RequestMapping(\"/test/list\")\n    public List<Test> list() {\n        return testService.getList();\n    }\n\n}\n```\n\n\n\n* é‡å¯é¡¹ç›®\n\n\n\n* æ–°å»º http æ–‡ä»¶ï¼Œç¼–å†™ http æµ‹è¯•è„šæœ¬ï¼Œæ‰§è¡Œ\n\n![image-20210415002803589](https://gitee.com/faro/images/raw/master/img/20210415002803.png)\n\n```http\nGET http://localhost:8880/test/list\nAccept: application/json\n\n###\n```\n\n\n\næœ€åæˆåŠŸä»æ¥å£ä¸­è·å–æ•°æ®åº“ä¸­çš„æ•°æ®ï¼Œè¯´æ˜æˆ‘ä»¬ä¹‹å‰é…ç½®çš„éƒ½æ²¡æœ‰é”™è¯¯ï¼Œå¯ä»¥è¿›è¡Œä¸‹é¢çš„æ“ä½œ\n\n![image-20210415003021769](https://gitee.com/faro/images/raw/master/img/20210415003021.png)\n\n\n\n### 6. MyBatis ä»£ç ç”Ÿæˆå™¨\n\næˆ‘ä»¬ä¸å¯èƒ½å»å†™æ‰€æœ‰æŒä¹…å±‚çš„å®ç°ï¼Œä¸šåŠ¡ä¸­ï¼Œè¿™éƒ¨åˆ†éƒ½æ˜¯è‡ªåŠ¨ç”Ÿæˆçš„\n\n\n\n* å¯¼å…¥ Maven ä¾èµ–\n\næ³¨æ„ï¼Œ==æ˜¯æ”¾åœ¨`plugiuns`ä¸‹é¢çš„==\n\n```xml\n<!-- mybatis generator è‡ªåŠ¨ç”Ÿæˆä»£ç æ’ä»¶ -->\n            <plugin>\n                <groupId>org.mybatis.generator</groupId>\n                <artifactId>mybatis-generator-maven-plugin</artifactId>\n                <version>1.4.0</version>\n                <configuration>\n                    <configurationFile>src/main/resources/generator/generator-config.xml</configurationFile>\n                    <overwrite>true</overwrite>\n                    <verbose>true</verbose>\n                </configuration>\n                <dependencies>\n                    <dependency>\n                        <groupId>mysql</groupId>\n                        <artifactId>mysql-connector-java</artifactId>\n                        <version>8.0.22</version>\n                    </dependency>\n                </dependencies>\n            </plugin>\n```\n\n\n\n* å»ºç«‹ä»£ç”Ÿæˆå™¨ä½ç½®\n\npomæ–‡ä»¶ä¸­ï¼Œæ˜¾ç¤ºäº†è¦åˆ›å»ºçš„ä»£ç ç”Ÿæˆå™¨çš„ä½ç½®`src/main/resources/generator/generator-config.xml`\n\n```xml\n<configurationFile>\n  src/main/resources/generator/generator-config.xml\n</configurationFile>\n```\n\n![image-20210323131202189](https://gitee.com/faro/images/raw/master/img/20210323131202.png)\n\n\n\n* ä»£ç ç”Ÿæˆå™¨ä»£ç \n\nä»`jdbcConnection`å¼€å§‹ï¼Œåˆ«å¿˜äº†==æ ¹æ®é¡¹ç›®è¿›è¡Œä¿®æ”¹==\n\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<!DOCTYPE generatorConfiguration\n        PUBLIC \"-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN\"\n        \"http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd\">\n\n<generatorConfiguration>\n    <context id=\"Mysql\" targetRuntime=\"MyBatis3\" defaultModelType=\"flat\">\n\n        <!-- è‡ªåŠ¨æ£€æŸ¥å…³é”®å­—ï¼Œä¸ºå…³é”®å­—å¢åŠ åå¼•å· -->\n        <property name=\"autoDelimitKeywords\" value=\"true\"/>\n        <property name=\"beginningDelimiter\" value=\"`\"/>\n        <property name=\"endingDelimiter\" value=\"`\"/>\n\n        <!--è¦†ç›–ç”ŸæˆXMLæ–‡ä»¶-->\n        <plugin type=\"org.mybatis.generator.plugins.UnmergeableXmlMappersPlugin\" />\n        <!-- ç”Ÿæˆçš„å®ä½“ç±»æ·»åŠ toString()æ–¹æ³• -->\n        <plugin type=\"org.mybatis.generator.plugins.ToStringPlugin\"/>\n\n        <!-- ä¸ç”Ÿæˆæ³¨é‡Š -->\n        <commentGenerator>\n            <property name=\"suppressAllComments\" value=\"true\"/>\n        </commentGenerator>\n\n        <jdbcConnection driverClass=\"com.mysql.cj.jdbc.Driver\"\n                        connectionURL=\"jdbc:mysql://localhost:3306/wiki?useUnicode=true&amp;characterEncoding=utf-8\"\n                        userId=\"wiki\"\n                        password=\"123456\">\n        </jdbcConnection>\n\n        <!-- domainç±»çš„ä½ç½® -->\n        <javaModelGenerator targetProject=\"src/main/java\"\n                            targetPackage=\"top.faroz.pojo\"/>\n\n        <!-- mapper xmlçš„ä½ç½® -->\n        <sqlMapGenerator targetProject=\"src/main/resources\"\n                         targetPackage=\"mapper\"/>\n\n        <!-- mapperç±»çš„ä½ç½® -->\n        <javaClientGenerator targetProject=\"src/main/java\"\n                             targetPackage=\"top.faroz.mapper\"\n                             type=\"XMLMAPPER\"/>\n\n        <table tableName=\"demo\" domainObjectName=\"Demo\"/>\n        <!--<table tableName=\"ebook\"/>-->\n        <!--<table tableName=\"category\"/>-->\n        <!--<table tableName=\"doc\"/>-->\n        <!--<table tableName=\"content\"/>-->\n        <!--<table tableName=\"user\"/>-->\n        <!--<table tableName=\"ebook_snapshot\"/>-->\n    </context>\n</generatorConfiguration>\n```\n\n\n\n* æ–°å»ºä¸€ä¸ªmavenå¯åŠ¨é¡¹\n\n![image-20210411015300856](https://gitee.com/faro/images/raw/master/img/20210411015300.png)\n\n![image-20210411015346116](https://gitee.com/faro/images/raw/master/img/20210411015346.png)\n\n```bash\nmybatis-generator:generate -e\n```\n\n![image-20210411015516818](https://gitee.com/faro/images/raw/master/img/20210411015516.png)\n\n\n\n### 7. æµ‹è¯•ä»£ç ç”Ÿæˆå™¨\n\nä»£ç ç”Ÿæˆå™¨çš„å·¥ä½œåŸç†ï¼Œæ˜¯ä»æ•°æ®åº“ä¸­å–å‡ºè¡¨ä¿¡æ¯ï¼Œç„¶åæ ¹æ®è¡¨ä¿¡æ¯ï¼Œå»æ„é€ æŒä¹…å±‚ä»£ç ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬è¦å†å»å»ºä¸€ä¸ªè¡¨\n\n\n\n* all.sql æ·»åŠ  demo è¡¨çš„å¢åŠ  SQL è¯­å¥ï¼Œå¹¶æ‰§è¡Œ\n\n```sql\n# demoåˆ—è¡¨\ndrop table if exists `demo`;\ncreate table `demo` (\n    `id` bigint not null comment 'id',\n    `name` varchar(50) comment 'åç§°',\n    primary key (`id`)\n) engine=innodb default charset =utf8mb4 comment 'æµ‹è¯•';\n\ninsert into `demo` (id,name) values(2,'æµ‹è¯•2');\n```\n\n\n\n* åœ¨ä»£ç ç”Ÿæˆå™¨æœ€åçš„éƒ¨åˆ†ï¼Œå¡«ä¸Šè¦ç”Ÿæˆçš„è¡¨å\n\n![image-20210415012438872](https://gitee.com/faro/images/raw/master/img/20210415012439.png)\n\n\n\n* æ‰§è¡Œ\n\n![image-20210415012552449](https://gitee.com/faro/images/raw/master/img/20210415012552.png)\n\n\n\n* æ‰§è¡ŒæˆåŠŸï¼Œä¼šç”Ÿæˆ 4 ä¸ªæ–°æ–‡ä»¶\n\n![image-20210415012630004](https://gitee.com/faro/images/raw/master/img/20210415012630.png)\n\n\n\n* æˆ‘ä»¬æ¨¡ä»¿ Testï¼Œå»å†™ Demoçš„ Service å’Œ Controller ä»£ç \n\n```java\n@RestController\npublic class DemoController {\n\n    @Autowired\n    private DemoService demoService;\n\n    @RequestMapping(\"/demo/list\")\n    public List<Demo> list() {\n        return demoService.getList();\n    }\n}\n```\n\n```java\n@Service\npublic class DemoService {\n\n    @Resource\n    private DemoMapper demoMapper;\n\n    public List<Demo> getList() {\n        List<Demo> list = demoMapper.selectByExample(null);\n        return list;\n    }\n}\n```\n\n\n\n* æ·»åŠ  demo çš„ http æµ‹è¯•è„šæœ¬\n\n```http\nGET http://localhost:8880/demo/list\nAccept: application/json\n\n###\n```\n\næµ‹è¯•æˆåŠŸï¼Œè¯´æ˜æˆ‘ä»¬ç”¨ä»£ç ç”Ÿæˆå™¨ç”Ÿæˆçš„ä»£ç æ²¡æœ‰é—®é¢˜\n\n![image-20210415013323695](https://gitee.com/faro/images/raw/master/img/20210415013323.png)\n\n\n\n### 8. è§£å†³å‰åç«¯è·¨åŸŸé—®é¢˜\n\nè™½ç„¶ç°åœ¨è¿˜æ²¡æœ‰æ„å»ºå‰ç«¯é¡¹ç›®ï¼Œä½†æ˜¯åé¢ï¼Œä¼šå‡ºç°è·¨åŸŸé—®é¢˜\n\n\n\n* æ–°å»º CorsConfig ç±»\n\n![image-20210415013643183](https://gitee.com/faro/images/raw/master/img/20210415013643.png)\n\n\n\n* ä»£ç å¦‚ä¸‹\n\nä¸ç”¨æ”¹åŠ¨ï¼Œç›´æ¥ç”¨ï¼Œåˆ«å¿˜äº†åŠ ä¸Š==@Configuration==æ³¨è§£\n\n```java\n@Configuration\npublic class CorsConfig implements WebMvcConfigurer {\n\n    @Override\n    public void addCorsMappings(CorsRegistry registry) {\n        registry.addMapping(\"/**\")\n                .allowedOriginPatterns(\"*\")\n                .allowedHeaders(CorsConfiguration.ALL)\n                .allowedMethods(CorsConfiguration.ALL)\n                .allowCredentials(true)\n                .maxAge(3600); // 1å°æ—¶å†…ä¸éœ€è¦å†é¢„æ£€ï¼ˆå‘OPTIONSè¯·æ±‚ï¼‰\n    }\n}\n```\n\n\n\n### 9. æ·»åŠ é›ªèŠ±ç®—æ³•å·¥å…·ç±»\n\né›ªèŠ±ç®—æ³•ï¼Œç”¨æ¥ç”Ÿæˆå”¯ä¸€ ID\n\n\n\n* æ–°å»º SnowFlake å·¥å…·ç±»\n\n![image-20210415014504164](https://gitee.com/faro/images/raw/master/img/20210415014504.png)\n\n\n\n* ä»£ç å¦‚ä¸‹\n\nåˆ«å¿˜äº†åŠ ä¸Š @Component æ³¨è§£\n\n```java\n@Component\npublic class SnowFlake {\n    /**\n     * èµ·å§‹çš„æ—¶é—´æˆ³\n     */\n    private final static long START_STMP = 1609459200000L; // 2021-01-01 00:00:00\n\n    /**\n     * æ¯ä¸€éƒ¨åˆ†å ç”¨çš„ä½æ•°\n     */\n    private final static long SEQUENCE_BIT = 12; //åºåˆ—å·å ç”¨çš„ä½æ•°\n    private final static long MACHINE_BIT = 5;   //æœºå™¨æ ‡è¯†å ç”¨çš„ä½æ•°\n    private final static long DATACENTER_BIT = 5;//æ•°æ®ä¸­å¿ƒå ç”¨çš„ä½æ•°\n\n    /**\n     * æ¯ä¸€éƒ¨åˆ†çš„æœ€å¤§å€¼\n     */\n    private final static long MAX_DATACENTER_NUM = -1L ^ (-1L << DATACENTER_BIT);\n    private final static long MAX_MACHINE_NUM = -1L ^ (-1L << MACHINE_BIT);\n    private final static long MAX_SEQUENCE = -1L ^ (-1L << SEQUENCE_BIT);\n\n    /**\n     * æ¯ä¸€éƒ¨åˆ†å‘å·¦çš„ä½ç§»\n     */\n    private final static long MACHINE_LEFT = SEQUENCE_BIT;\n    private final static long DATACENTER_LEFT = SEQUENCE_BIT + MACHINE_BIT;\n    private final static long TIMESTMP_LEFT = DATACENTER_LEFT + DATACENTER_BIT;\n\n    private long datacenterId = 1;  //æ•°æ®ä¸­å¿ƒ\n    private long machineId = 1;     //æœºå™¨æ ‡è¯†\n    private long sequence = 0L; //åºåˆ—å·\n    private long lastStmp = -1L;//ä¸Šä¸€æ¬¡æ—¶é—´æˆ³\n\n    public SnowFlake() {\n    }\n\n    public SnowFlake(long datacenterId, long machineId) {\n        if (datacenterId > MAX_DATACENTER_NUM || datacenterId < 0) {\n            throw new IllegalArgumentException(\"datacenterId can't be greater than MAX_DATACENTER_NUM or less than 0\");\n        }\n        if (machineId > MAX_MACHINE_NUM || machineId < 0) {\n            throw new IllegalArgumentException(\"machineId can't be greater than MAX_MACHINE_NUM or less than 0\");\n        }\n        this.datacenterId = datacenterId;\n        this.machineId = machineId;\n    }\n\n    /**\n     * äº§ç”Ÿä¸‹ä¸€ä¸ªID\n     *\n     * @return\n     */\n    public synchronized long nextId() {\n        long currStmp = getNewstmp();\n        if (currStmp < lastStmp) {\n            throw new RuntimeException(\"Clock moved backwards.  Refusing to generate id\");\n        }\n\n        if (currStmp == lastStmp) {\n            //ç›¸åŒæ¯«ç§’å†…ï¼Œåºåˆ—å·è‡ªå¢\n            sequence = (sequence + 1) & MAX_SEQUENCE;\n            //åŒä¸€æ¯«ç§’çš„åºåˆ—æ•°å·²ç»è¾¾åˆ°æœ€å¤§\n            if (sequence == 0L) {\n                currStmp = getNextMill();\n            }\n        } else {\n            //ä¸åŒæ¯«ç§’å†…ï¼Œåºåˆ—å·ç½®ä¸º0\n            sequence = 0L;\n        }\n\n        lastStmp = currStmp;\n\n        return (currStmp - START_STMP) << TIMESTMP_LEFT //æ—¶é—´æˆ³éƒ¨åˆ†\n                | datacenterId << DATACENTER_LEFT       //æ•°æ®ä¸­å¿ƒéƒ¨åˆ†\n                | machineId << MACHINE_LEFT             //æœºå™¨æ ‡è¯†éƒ¨åˆ†\n                | sequence;                             //åºåˆ—å·éƒ¨åˆ†\n    }\n\n    private long getNextMill() {\n        long mill = getNewstmp();\n        while (mill <= lastStmp) {\n            mill = getNewstmp();\n        }\n        return mill;\n    }\n\n    private long getNewstmp() {\n        return System.currentTimeMillis();\n    }\n\n    // public static void main(String[] args) throws ParseException {\n    //     // æ—¶é—´æˆ³\n    //     // System.out.println(System.currentTimeMillis());\n    //     // System.out.println(new Date().getTime());\n    //     //\n    //     // String dateTime = \"2021-01-01 08:00:00\";\n    //     // SimpleDateFormat sdf = new SimpleDateFormat(\"yyyy-MM-dd hh:mm:ss\");\n    //     // System.out.println(sdf.parse(dateTime).getTime());\n    //\n    //     SnowFlake snowFlake = new SnowFlake(1, 1);\n    //\n    //     long start = System.currentTimeMillis();\n    //     for (int i = 0; i < 10; i++) {\n    //         System.out.println(snowFlake.nextId());\n    //         System.out.println(System.currentTimeMillis() - start);\n    //     }\n    // }\n\n}\n```\n\n\n\n\n\n### 10. æ·»åŠ  AOP\n\nAOP ç”¨æ¥æ‰“å°æ¥å£æ—¥å¿—ï¼Œæ–¹ä¾¿åæœŸè°ƒè¯•\n\n\n\n* Maven ä¸­å¼•å…¥ fastjsonï¼Œå› ä¸º æˆ‘ä»¬çš„ç±»ä¸­è¦ç”¨\n\n```xml\n <!--fastjson-->\n<dependency>\n  <groupId>com.alibaba</groupId>\n  <artifactId>fastjson</artifactId>\n  <version>1.2.70</version>\n</dependency>\n```\n\n\n\n* Maven å¼•å…¥ AOP\n\n```xml\n<!--å¯¼å…¥aop-->\n<dependency>\n  <groupId>org.springframework.boot</groupId>\n  <artifactId>spring-boot-starter-aop</artifactId>\n</dependency>\n```\n\n\n\n* æ·»åŠ  RequestContext å·¥å…·ç±»\n\nè¿™ä¸ªæ˜¯åæœŸä¸ºäº†æ‰“å° WebSocket æ—¥å¿—çš„\n\n![image-20210415014912415](https://gitee.com/faro/images/raw/master/img/20210415014912.png)\n\n```java\npublic class RequestContext implements Serializable {\n    private static ThreadLocal<String> remoteAddr = new ThreadLocal<>();\n\n    public static String getRemoteAddr() {\n        return remoteAddr.get();\n    }\n\n    public static void setRemoteAddr(String remoteAddr) {\n        weixindemo.util.RequestContext.remoteAddr.set(remoteAddr);\n    }\n}\n```\n\n\n\n* æ–°å»º aspect åŒ…ï¼Œå¹¶æ–°å»º LogAspect ç±»\n\n![image-20210415013942484](https://gitee.com/faro/images/raw/master/img/20210415013942.png)\n\n\n\n**LogAspect ä»£ç å¦‚ä¸‹:**\n\nåˆ‡ç‚¹çš„ä»£ç ï¼Œæˆ‘ä»¬è¦ä¾æ®é¡¹ç›®ä¿®æ”¹\n\n![image-20210415015319943](https://gitee.com/faro/images/raw/master/img/20210415015320.png)\n\n```java\n@Aspect\n@Component\npublic class LogAspect {\n    private final static Logger LOG = LoggerFactory.getLogger(weixindemo.aspect.LogAspect.class);\n\n    @Resource\n    private SnowFlake snowFlake;\n\n    /** å®šä¹‰ä¸€ä¸ªåˆ‡ç‚¹ */\n    @Pointcut(\"execution(public * weixindemo.controller..*Controller.*(..))\")\n    public void controllerPointcut() {}\n\n    // @Resource\n    // private SnowFlake snowFlake;\n\n    @Before(\"controllerPointcut()\")\n    public void doBefore(JoinPoint joinPoint) throws Throwable {\n\n        // å¢åŠ æ—¥å¿—æµæ°´å·\n        MDC.put(\"LOG_ID\", String.valueOf(snowFlake.nextId()));\n\n        // å¼€å§‹æ‰“å°è¯·æ±‚æ—¥å¿—\n        ServletRequestAttributes attributes = (ServletRequestAttributes) RequestContextHolder.getRequestAttributes();\n        HttpServletRequest request = attributes.getRequest();\n        Signature signature = joinPoint.getSignature();\n        String name = signature.getName();\n\n        // æ‰“å°è¯·æ±‚ä¿¡æ¯\n        LOG.info(\"------------- å¼€å§‹ -------------\");\n        LOG.info(\"è¯·æ±‚åœ°å€: {} {}\", request.getRequestURL().toString(), request.getMethod());\n        LOG.info(\"ç±»åæ–¹æ³•: {}.{}\", signature.getDeclaringTypeName(), name);\n        LOG.info(\"è¿œç¨‹åœ°å€: {}\", request.getRemoteAddr());\n\n        RequestContext.setRemoteAddr(getRemoteIp(request));\n\n        // æ‹¿åˆ°æ‰€æœ‰çš„å‚æ•°\n        Object[] args = joinPoint.getArgs();\n        // LOG.info(\"è¯·æ±‚å‚æ•°: {}\", JSONObject.toJSONString(args));\n\n        Object[] arguments  = new Object[args.length];\n        for (int i = 0; i < args.length; i++) {\n            if (args[i] instanceof ServletRequest\n                    || args[i] instanceof ServletResponse\n                    || args[i] instanceof MultipartFile) {\n                continue;\n            }\n            arguments[i] = args[i];\n        }\n        // æ’é™¤å­—æ®µï¼Œæ•æ„Ÿå­—æ®µæˆ–å¤ªé•¿çš„å­—æ®µä¸æ˜¾ç¤º\n        String[] excludeProperties = {\"password\", \"file\"};\n        PropertyPreFilters filters = new PropertyPreFilters();\n        PropertyPreFilters.MySimplePropertyPreFilter excludefilter = filters.addFilter();\n        excludefilter.addExcludes(excludeProperties);\n        LOG.info(\"è¯·æ±‚å‚æ•°: {}\", JSONObject.toJSONString(arguments, excludefilter));\n    }\n\n    @Around(\"controllerPointcut()\")\n    public Object doAround(ProceedingJoinPoint proceedingJoinPoint) throws Throwable {\n        long startTime = System.currentTimeMillis();\n        Object result = proceedingJoinPoint.proceed();\n        // æ’é™¤å­—æ®µï¼Œæ•æ„Ÿå­—æ®µæˆ–å¤ªé•¿çš„å­—æ®µä¸æ˜¾ç¤º\n        String[] excludeProperties = {\"password\", \"file\"};\n        PropertyPreFilters filters = new PropertyPreFilters();\n        PropertyPreFilters.MySimplePropertyPreFilter excludefilter = filters.addFilter();\n        excludefilter.addExcludes(excludeProperties);\n        LOG.info(\"è¿”å›ç»“æœ: {}\", JSONObject.toJSONString(result, excludefilter));\n        LOG.info(\"------------- ç»“æŸ è€—æ—¶ï¼š{} ms -------------\", System.currentTimeMillis() - startTime);\n        return result;\n    }\n\n    /**\n     * ä½¿ç”¨nginxåšåå‘ä»£ç†ï¼Œéœ€è¦ç”¨è¯¥æ–¹æ³•æ‰èƒ½å–åˆ°çœŸå®çš„è¿œç¨‹IP\n     * å½“æˆ‘ä»¬å‘å¸ƒä¸Šçº¿åï¼Œå› ä¸ºå‰ç«¯ã€åç«¯éƒ½æ˜¯ç”¨80ç«¯å£ï¼Œä¼šå†²çª\n     * æ‰€ä»¥ç”¨æˆ·è®¿é—®çš„æ—¶å€™ï¼Œéœ€è¦å…ˆå»è®¿é—® nginxï¼Œç„¶åï¼Œè®© nginx å»åå‘ä»£ç†ï¼Œæ‰¾æˆ‘ä»¬è¦è®¿é—®çš„è·¯å¾„\n     * @param request\n     * @return\n     */\n    public String getRemoteIp(HttpServletRequest request) {\n        String ip = request.getHeader(\"x-forwarded-for\");\n        if (ip == null || ip.length() == 0 || \"unknown\".equalsIgnoreCase(ip)) {\n            ip = request.getHeader(\"Proxy-Client-IP\");\n        }\n        if (ip == null || ip.length() == 0 || \"unknown\".equalsIgnoreCase(ip)) {\n            ip = request.getHeader(\"WL-Proxy-Client-IP\");\n        }\n        if (ip == null || ip.length() == 0 || \"unknown\".equalsIgnoreCase(ip)) {\n            ip = request.getRemoteAddr();\n        }\n        return ip;\n    }\n}\n```\n\n\n\n### 11. è§£å†³å‰åç«¯ Long ç²¾åº¦ä¸¢å¤±é—®é¢˜\n\næˆ‘ä»¬åæœŸä¼šç”¨åˆ° MD5 åŠ å¯†ï¼Œåˆ°æ—¶å€™åç«¯ä¼ åˆ°å‰ç«¯çš„æ—¶å€™ï¼Œå› ä¸º javascript number çš„ç²¾åº¦é—®é¢˜ï¼Œä¼šå‡ºç°æ•°æ®ä¸¢å¤±\n\n\n\n* é…ç½®æ–‡ä»¶æ–°å¢ JacksonConfig ç±»\n\n![image-20210415020223600](https://gitee.com/faro/images/raw/master/img/20210415020223.png)\n\n\n\n* ä»£ç å¦‚ä¸‹\n\n```java\n@Configuration\npublic class JacksonConfig {\n\n    @Bean\n    public ObjectMapper jacksonObjectMapper(Jackson2ObjectMapperBuilder builder) {\n        ObjectMapper objectMapper = builder.createXmlMapper(false).build();\n        SimpleModule simpleModule = new SimpleModule();\n        // simpleModule.addSerializer(Long.class, ToStringSerializer.instance);\n        simpleModule.addSerializer(Long.class, ToStringSerializer.instance);\n        objectMapper.registerModule(simpleModule);\n        return objectMapper;\n    }\n}\n```\n\n\n\n### 12. æ–°å»º req resp åŒ…\n\næˆ‘ä»¬è¦å°†è¯·æ±‚ä¸è¿”å›åŒ…è£…\n\n![image-20210415020648707](https://gitee.com/faro/images/raw/master/img/20210415020648.png)\n\n\n\n### 13. CommonResp\n\nä¸ºäº†æ–¹ä¾¿å‰ç«¯è°ƒç”¨ï¼Œåç«¯çš„ respï¼Œæˆ‘ä»¬å†™ä¸€ä¸ªç»Ÿä¸€çš„è¿”å› CommonResp\n\n![image-20210415020805724](https://gitee.com/faro/images/raw/master/img/20210415020805.png)\n\n**ä»£ç å¦‚ä¸‹ï¼š**\n\n```java\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class CommonResp<T> {\n    /**\n     * è¿”å›æ˜¯å¦æˆåŠŸ\n     */\n    private boolean isSuccess=true;\n\n    /**\n     * è¿”å›å¤±è´¥æ—¶ï¼Œè¿”å›çš„é”™è¯¯ä¿¡æ¯\n     */\n    private String message;\n\n    /**\n     * è¿”å›æˆåŠŸçš„æ—¶å€™ï¼Œè¿”å›çš„å†…å®¹\n     */\n    private T content;\n}\n```\n\n\n\n### 14. è‡ªå®šä¹‰å¼‚å¸¸\n\n* æ–°å»ºå¼‚å¸¸ç±»`BusinessException`å’Œå¼‚å¸¸ä¿¡æ¯æšä¸¾`BusinessExceptionCode`\n\n![image-20210415021357196](https://gitee.com/faro/images/raw/master/img/20210415021357.png)\n\n\n\n* `BusinessException`ä»£ç \n\n```java\npublic class BusinessException extends RuntimeException{\n    private BusinessExceptionCode code;\n\n    public BusinessException (BusinessExceptionCode code) {\n        /**\n         * çˆ¶ç±»æœ‰ä¸ªæˆå‘˜å˜é‡  private String desc\n         * éœ€è¦ä¸ºè¿™ä¸ªæˆå‘˜å˜é‡èµ‹å€¼\n         */\n        super(code.getDesc());\n        this.code = code;\n    }\n\n    public BusinessExceptionCode getCode() {\n        return code;\n    }\n\n    public void setCode(BusinessExceptionCode code) {\n        this.code = code;\n    }\n\n    /**\n     * ä¸å†™å…¥å †æ ˆä¿¡æ¯ï¼Œæé«˜æ€§èƒ½\n     */\n    @Override\n    public Throwable fillInStackTrace() {\n        return this;\n    }\n}\n```\n\n\n\n* `BusinessExceptionCode`ä»£ç \n\n```java\npublic enum BusinessExceptionCode {\n    USER_LOGIN_NAME_EXIST(\"ç™»å½•åå·²å­˜åœ¨\"),\n    LOGIN_USER_ERROR(\"ç”¨æˆ·åä¸å­˜åœ¨æˆ–å¯†ç é”™è¯¯\"),\n    VOTE_REPEAT(\"æ‚¨å·²ç‚¹èµè¿‡\"),\n    ;\n\n    private String desc;\n\n    BusinessExceptionCode(String desc) {\n        this.desc = desc;\n    }\n\n    public String getDesc() {\n        return desc;\n    }\n\n    public void setDesc(String desc) {\n        this.desc = desc;\n    }\n}\n```\n\n\n\n\n\n### 13. ç»Ÿä¸€å¼‚å¸¸å¤„ç†\n\næˆ‘ä»¬æ‰€æœ‰å¼‚å¸¸ï¼Œéƒ½é€šè¿‡è¿™ä¸ªç±»æ¥æ•è·ï¼Œå¹¶ç”Ÿæˆä¸€ä¸ªè¿”å›é”™è¯¯ä¿¡æ¯çš„ CommonResp\n\n\n\n* æ–°å»º ControllerExceptionHandler ç±»\n\n![](https://gitee.com/faro/images/raw/master/img/20210415020947.png)\n\n\n\n* ä»£ç å¦‚ä¸‹\n\nlogger è¦æ ¹æ®é¡¹ç›®æ”¹ä¸€ä¸‹\n\n```java\n/**\n * ç»Ÿä¸€å¼‚å¸¸å¤„ç†ã€æ•°æ®é¢„å¤„ç†ç­‰\n * è¯¥ç±»ç”¨äºæ•è·ç³»ç»Ÿå¼¹å‡ºçš„å¼‚å¸¸\n * å°†å¼‚å¸¸åŒ…è£…æˆä¸€ä¸ª CommonResp\n * ä»è€Œæ–¹ä¾¿å‰ç«¯è°ƒç”¨ï¼Œæ˜¾ç¤ºé”™è¯¯ä¿¡æ¯\n */\n@ControllerAdvice\npublic class ControllerExceptionHandler {\n    private static final Logger LOG = LoggerFactory.getLogger(top.faroz.controller.ControllerExceptionHandler.class);\n\n    /**\n     * æ ¡éªŒå¼‚å¸¸ç»Ÿä¸€å¤„ç†\n     * @param e\n     * @return\n     */\n    @ExceptionHandler(value = BindException.class)\n    @ResponseBody\n    public CommonResp validExceptionHandler(BindException e) {\n        CommonResp commonResp = new CommonResp();\n        LOG.warn(\"å‚æ•°æ ¡éªŒå¤±è´¥ï¼š{}\", e.getBindingResult().getAllErrors().get(0).getDefaultMessage());\n        commonResp.setSuccess(false);\n        commonResp.setMessage(e.getBindingResult().getAllErrors().get(0).getDefaultMessage());\n        return commonResp;\n    }\n\n    /**\n     * æ ¡éªŒå¼‚å¸¸ç»Ÿä¸€å¤„ç†\n     * @param e\n     * @return\n     */\n    @ExceptionHandler(value = BusinessException.class)\n    @ResponseBody\n    public CommonResp validExceptionHandler(BusinessException e) {\n        CommonResp commonResp = new CommonResp();\n        LOG.warn(\"ä¸šåŠ¡å¼‚å¸¸ï¼š{}\", e.getCode().getDesc());\n        commonResp.setSuccess(false);\n        commonResp.setMessage(e.getCode().getDesc());\n        return commonResp;\n    }\n\n    /**\n     * æ ¡éªŒå¼‚å¸¸ç»Ÿä¸€å¤„ç†\n     * @param e\n     * @return\n     */\n    @ExceptionHandler(value = Exception.class)\n    @ResponseBody\n    public CommonResp validExceptionHandler(Exception e) {\n        CommonResp commonResp = new CommonResp();\n        LOG.error(\"ç³»ç»Ÿå¼‚å¸¸ï¼š\", e);\n        commonResp.setSuccess(false);\n        commonResp.setMessage(\"ç³»ç»Ÿå‡ºç°å¼‚å¸¸ï¼Œè¯·è”ç³»ç®¡ç†å‘˜\");\n        return commonResp;\n    }\n}\n```\n\n\n\n### 14. æ·»åŠ æ—¥å¿—è®°å½• logback\n\n* åœ¨ resource ä¸‹ï¼Œæ–°å»ºlogback-spring.xml æ–‡ä»¶\n\n![image-20210411004947139](https://gitee.com/faro/images/raw/master/img/20210411004947.png)\n\n* å†™å…¥å†…å®¹\n\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<configuration>\n    <!-- ä¿®æ”¹ä¸€ä¸‹è·¯å¾„-->\n    <property name=\"PATH\" value=\"./log\"></property>\n\n    <appender name=\"STDOUT\" class=\"ch.qos.logback.core.ConsoleAppender\">\n        <encoder>\n            <Pattern>%d{yyyy-MM-dd HH:mm:ss.SSS} %highlight(%-5level) %blue(%-50logger{50}:%-4line) %thread %msg%n</Pattern>\n            <!--<Pattern>%d{ss.SSS} %highlight(%-5level) %blue(%-30logger{30}:%-4line) %thread %green(%-18X{LOG_ID}) %msg%n</Pattern>-->\n        </encoder>\n    </appender>\n\n    <appender name=\"TRACE_FILE\" class=\"ch.qos.logback.core.rolling.RollingFileAppender\">\n        <file>${PATH}/trace.log</file>\n        <rollingPolicy class=\"ch.qos.logback.core.rolling.TimeBasedRollingPolicy\">\n            <FileNamePattern>${PATH}/trace.%d{yyyy-MM-dd}.%i.log</FileNamePattern>\n            <timeBasedFileNamingAndTriggeringPolicy class=\"ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP\">\n                <maxFileSize>10MB</maxFileSize>\n            </timeBasedFileNamingAndTriggeringPolicy>\n        </rollingPolicy>\n        <layout>\n            <pattern>%d{yyyy-MM-dd HH:mm:ss.SSS} %-5level %-50logger{50}:%-4line %green(%-18X{LOG_ID}) %msg%n</pattern>\n        </layout>\n    </appender>\n\n    <appender name=\"ERROR_FILE\" class=\"ch.qos.logback.core.rolling.RollingFileAppender\">\n        <file>${PATH}/error.log</file>\n        <rollingPolicy class=\"ch.qos.logback.core.rolling.TimeBasedRollingPolicy\">\n            <FileNamePattern>${PATH}/error.%d{yyyy-MM-dd}.%i.log</FileNamePattern>\n            <timeBasedFileNamingAndTriggeringPolicy class=\"ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP\">\n                <maxFileSize>10MB</maxFileSize>\n            </timeBasedFileNamingAndTriggeringPolicy>\n        </rollingPolicy>\n        <layout>\n            <pattern>%d{yyyy-MM-dd HH:mm:ss.SSS} %-5level %-50logger{50}:%-4line %green(%-18X{LOG_ID}) %msg%n</pattern>\n        </layout>\n        <filter class=\"ch.qos.logback.classic.filter.LevelFilter\">\n            <level>ERROR</level>\n            <onMatch>ACCEPT</onMatch>\n            <onMismatch>DENY</onMismatch>\n        </filter>\n    </appender>\n\n    <root level=\"ERROR\">\n        <appender-ref ref=\"ERROR_FILE\" />\n    </root>\n\n    <root level=\"TRACE\">\n        <appender-ref ref=\"TRACE_FILE\" />\n    </root>\n\n    <root level=\"INFO\">\n        <appender-ref ref=\"STDOUT\" />\n    </root>\n</configuration>\n\n```\n\n\n\n### 15. è‡ªå®šä¹‰ banner\n\nresources ä¸‹æ–°å»º banner.txt\n\n![image-20210415023847796](https://gitee.com/faro/images/raw/master/img/20210415023847.png)\n\n\n\né‡Œé¢æ”¾ä¸Šè‡ªå®šä¹‰ banner\n\n```txt\n ********     **     *******     *******         ********\n/**/////     ****   /**////**   **/////**       //////** \n/**         **//**  /**   /**  **     //**           **  \n/*******   **  //** /*******  /**      /**          **   \n/**////   **********/**///**  /**      /**         **    \n/**      /**//////**/**  //** //**     **         **     \n/**      /**     /**/**   //** //*******   ***** ********\n//       //      // //     //   ///////   ///// //////// \n```\n\n\n\n\n","success":true}
2021-04-16 00:53:54.084 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š12 ms -------------
2021-04-16 00:54:36.413 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:54:36.414 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:54:36.414 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2021-04-16 00:54:36.414 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find/1 GET
2021-04-16 00:54:36.415 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.findContent
2021-04-16 00:54:36.415 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.find
2021-04-16 00:54:36.415 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:54:36.415 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:54:36.415 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [1]
2021-04-16 00:54:36.415 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [1]
2021-04-16 00:54:36.418 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},"success":true}
2021-04-16 00:54:36.418 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2021-04-16 00:54:36.422 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":"# å®Œæ•´é¡¹ç›®æ­å»ºæµç¨‹\n\nè™½è¯´ SpringBoot ç›¸è¾ƒäº SSM æ¡†æ¶ï¼Œå¤§å¤§å‡è½»äº†é…ç½®çš„ç¹çï¼Œä½†æ˜¯ï¼Œè¦æ•´åˆ MyBatis ï¼Œç»Ÿä¸€å¼‚å¸¸å¤„ç†ï¼ŒVueç­‰ä¸€ç³»åˆ—ä¸œè¥¿ï¼Œè¿˜æ˜¯è¦è´¹ä¸€ç•ªåŠ²çš„ã€‚\n\nè¿™æ¬¡å°†åˆ›å»ºçš„æ•´ä¸ªæµç¨‹è®°å½•ä¸‹æ¥ï¼Œæ–¹ä¾¿ä»¥åçš„é¡¹ç›®æ­å»ºã€‚\n\nè¦æ­å»ºä¸€ä¸ªå®Œæˆçš„å‰åç«¯åˆ†ç¦»é¡¹ç›®ï¼Œåˆ†ä¸ºè¿™ä¹ˆå‡ ä¸ªéƒ¨åˆ†ï¼š==æ•°æ®åº“ã€åç«¯ã€å‰ç«¯==\n\nå¦‚æœæ˜¯ä¸ºå¾®ä¿¡å°ç¨‹åºæ­å»ºä¸€ä¸ªåç«¯æœåŠ¡ï¼Œé‚£å°±åªè¦çœ‹åˆ°==æ•°æ®åº“ã€åç«¯==å°±å¯ä»¥äº†\n\n\n\n## æ•°æ®åº“\n\nä¸€èˆ¬åœ¨æ–°å»ºé¡¹ç›®çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¼šé€‰æ‹©ä¸“é—¨ä¸ºè¿™ä¸ªé¡¹ç›®æ–°å»ºä¸€ä¸ªç”¨æˆ·ï¼Œå¹¶ä¸ºè¿™ä¸ªç”¨æˆ·ï¼Œèµ‹äºˆåªå±äºè¿™ä¸€ä¸ªé¡¹ç›®çš„æ‰€æœ‰æƒé™\n\n\n\n### 1. **è¿æ¥ admin**\n\nåªæœ‰ admin æœ‰æ‰€æœ‰æƒé™\n\næˆ‘çš„æ•°æ®åº“ admin çš„è´¦æˆ·åå’Œå¯†ç æ˜¯ï¼š\n\n**è´¦æˆ·ï¼š**admin\n\n**å¯†ç ï¼š**123\n\n![image-20210411002100312](https://gitee.com/faro/images/raw/master/img/20210411003334.png)\n\n\n\n### 2. **æ–°å»ºæ•°æ®åº“**\n\nå…¶å­—ç¬¦ç±»å‹ä¸€å®šè¦é€‰æ‹©==utf8mb4==ï¼Œè¿™æ‰æ˜¯çœŸæ­£çš„ utf8ï¼Œæ”¯æŒè¡¨æƒ…ç¬¦å·\n\n![image-20210411002304858](https://gitee.com/faro/images/raw/master/img/20210411002304.png)\n\n### 3. **ä¸ºè¿™ä¸ªæ•°æ®åº“ï¼Œä¸“é—¨å»ºä¸€ä¸ªç”¨æˆ·**\n\nå¼€å‘ç¯å¢ƒä¸­ï¼Œå°±å°†å¯†ç å’Œç”¨æˆ·åè®¾ç½®æˆä¸€æ ·çš„ï¼Œè¿™æ ·ä¸ä¼šå¿˜è®°\n\nhost è®¾ç½®ä¸º localhost\n\n![image-20210411002742750](https://gitee.com/faro/images/raw/master/img/20210411002742.png)\n\n\n\n### 4. **ä¸ºè¿™ä¸ªç”¨æˆ·ï¼Œæˆäºˆå¯¹åº”æ•°æ®åº“çš„å…¨éƒ¨æƒé™**\n\n![image-20210411003034426](https://gitee.com/faro/images/raw/master/img/20210411003034.png)\n\n![image-20210411002821790](https://gitee.com/faro/images/raw/master/img/20210414201958.png)\n\n### 5. **å¯¹å½“å‰ç”¨æˆ·ï¼Œå»ºç«‹è¿æ¥**\n\n![image-20210411002945727](https://gitee.com/faro/images/raw/master/img/20210411002945.png)\n\n\n\n\n\n## åç«¯\n\nå…³äº Mavenã€tomcat çš„ä¸‹è½½é…ç½®ï¼Œè¿™é‡Œå°±ä¸è´¹ç¬”å¢¨å»è®²è§£äº†ã€‚å¦‚æœ‰éœ€è¦ï¼Œå¯ä»¥è‡ªè¡Œç™¾åº¦æŸ¥æ‰¾ã€‚\n\n### 1. æ–°å»º SpringBoot é¡¹ç›®\n\n* ç‚¹å‡» `SpringInitiallizr`ï¼Œæ–°å»ºé¡¹ç›®\n\n![image-20210414200239335](https://gitee.com/faro/images/raw/master/img/20210414200239.png)\n\n* é€‰æ‹©é»˜è®¤ä¾èµ–çš„åŒ…\n\n![image-20210414200420395](https://gitee.com/faro/images/raw/master/img/20210414200420.png)\n\n![image-20210414200533694](https://gitee.com/faro/images/raw/master/img/20210414200533.png)\n\n![image-20210414200611051](https://gitee.com/faro/images/raw/master/img/20210414200611.png)\n\n* é€‰æ‹©å­˜æ”¾è·¯å¾„\n\n![image-20210414200656633](https://gitee.com/faro/images/raw/master/img/20210414200656.png)\n\n* æ–°å»ºå®Œæˆåï¼Œé¡¹ç›®ç›®å½•å¦‚ä¸‹\n\n![image-20210414200752152](https://gitee.com/faro/images/raw/master/img/20210414200752.png)\n\n\n\n### 2. æ›´æ”¹å¯åŠ¨ç±»ä½ç½®\n\n* æ–°å»º config åŒ…ï¼Œå°†å¯åŠ¨ç±»æ”¾è¿›å»\n\n![image-20210414201018806](https://gitee.com/faro/images/raw/master/img/20210414201018.png)\n\n\n\n* ä¸ºå¯åŠ¨ç±»æ·»åŠ æ³¨è§£\n\næ³¨è§£å†…çš„ä¿¡æ¯ï¼Œæ˜¯é¡¹ç›®åç§°\n\n```java\n@ComponentScan(\"weixindemo\")\n```\n\n![image-20210414201210978](https://gitee.com/faro/images/raw/master/img/20210414201211.png)\n\n\n\n### 3. IDEA æ•°æ®åº“é…ç½®\n\n* IDEA è¿æ¥æ•°æ®åº“\n\n![image-20210414220153821](https://gitee.com/faro/images/raw/master/img/20210414220153.png)\n\n![image-20210414221502868](https://gitee.com/faro/images/raw/master/img/20210414221502.png)\n\n\n\n* æ·»åŠ  sql è„šæœ¬\n\næ–°å»º sql æ–‡ä»¶å¤¹ï¼Œå»ºç«‹`all.sql`æ–‡ä»¶\n\n![image-20210414221647283](https://gitee.com/faro/images/raw/master/img/20210414221647.png)\n\n\n\næˆ‘ä»¬åœ¨ sql è„šæœ¬ä¸­æ·»åŠ æµ‹è¯•ç”¨æ•°æ®ï¼Œå¹¶æ‰§è¡Œ\n\n```sql\n\n# æµ‹è¯•è¡¨\ndrop table if exists `test`;\ncreate table `test` (\n  `id` bigint not null comment 'id',\n  `name` varchar(50) comment 'åç§°',\n  `password` varchar(50) comment 'å¯†ç ',\n  primary key (`id`)\n) engine=innodb default charset=utf8mb4 comment='æµ‹è¯•';\n\ninsert into `test` (id, name, password) values (1, 'æµ‹è¯•', 'password');       \n```\n\nå¯ä»¥çœ‹åˆ°ï¼Œæ•°æ®åº“å·²å»ºç«‹\n\n![image-20210415000115932](https://gitee.com/faro/images/raw/master/img/20210415000131.png)\n\n\n\n### 4. é…ç½® MyBatis\n\n* åœ¨ `resource`æ–‡ä»¶å¤¹ä¸‹ï¼Œæ–°å»º `mapper`æ–‡ä»¶å¤¹\n\nè¿™æ˜¯ç”¨æ¥å­˜æ”¾ MyBatis çš„å®ç°çš„\n\n![image-20210414201459632](https://gitee.com/faro/images/raw/master/img/20210414201459.png)\n\n\n\n* æ–°å»º pojo åŒ…\n\npojo åŒ…ç”¨æ¥å­˜æ”¾å®ä½“ç±»\n\n![image-20210415000316772](https://gitee.com/faro/images/raw/master/img/20210415000316.png)\n\n\n\n* åœ¨é¡¹ç›®ä¸‹ï¼Œæ–°å»º mapper åŒ…ï¼Œç”¨æ¥å­˜æ”¾æ¥å£\n\n![image-20210415000711989](https://gitee.com/faro/images/raw/master/img/20210415000712.png)\n\n\n\n* å°†é…ç½®æ–‡ä»¶åç¼€æ”¹ä¸º`.yml`\n\næˆ‘ä¸ªäººä¹ æƒ¯ä½¿ç”¨`.yml`è¿›è¡Œä½ç½®\n\n![image-20210414201610045](https://gitee.com/faro/images/raw/master/img/20210414201610.png)\n\n\n\n* æ·»åŠ  `Mybatis`é…ç½®\n\nè¿™é‡Œï¼Œè¦æ·»åŠ æ•°æ®æºï¼Œå’Œ MyBatis çš„é…ç½®ï¼Œéƒ¨åˆ†åœ°æ–¹ï¼Œè¦æ ¹æ®å®é™…é¡¹ç›®ï¼Œè¿›è¡Œä¿®æ”¹\n\n```yml\nspring:\n  datasource:\n    url: jdbc:mysql://localhost:3306/weixindemo?useUnicode=true&characterEncoding=utf-8\n    username: weixindemo\n    password: weixindemo\n    driver-class-name: com.mysql.cj.jdbc.Driver\n    \n    \n# æ•´åˆMybatis\nmybatis:\n  # ** è¡¨ç¤ºåœ¨mapperä¸‹ä¸ç®¡æœ‰å¤šå°‘æ–‡ä»¶å¤¹ï¼Œéƒ½å¯ä»¥å…¨éƒ¨è¯†åˆ«\n  mapper-locations: classpath:/mapper/**/*.xml\n  type-aliases-package: weixindemo.pojo\n  #  æ‰“å°sqlç›¸å…³çš„æ—¥å¿—ä¿¡æ¯\n  configuration:\n    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl\n```\n\n![image-20210415000535841](https://gitee.com/faro/images/raw/master/img/20210415000535.png)\n\n\n\n* æ·»åŠ ç«¯å£é…ç½®\n\nå› ä¸º vue ä¹Ÿæ˜¯ç”¨çš„8080ç«¯å£ï¼Œæˆ‘ä»¬ä¸èƒ½å’Œå®ƒé‡äº†\n\n```yml\nserver:\n  port: 8880\n```\n\n\n\n* å¯åŠ¨ç±»æ·»åŠ `mapper`æ¥å£æ‰«æè·¯å¾„\n\n```java\n@MapperScan(\"weixindemo.mapper\") //mybatis mapperæ¥å£æ‰«æ\n```\n\n![image-20210415000824262](https://gitee.com/faro/images/raw/master/img/20210415000824.png)\n\n\n\n### 5. MVC åŒ…å»ºç«‹\n\næˆ‘ä»¬è¿˜è¦å»ºç«‹ ==service==ï¼Œ==util==ï¼Œ==controller==åŒ…\n\n![image-20210415001226689](https://gitee.com/faro/images/raw/master/img/20210415001226.png)\n\n![image-20210415001237989](https://gitee.com/faro/images/raw/master/img/20210415001238.png)\n\n\n\n### 5. æµ‹è¯• Mybatis é…ç½®\n\né…ç½®åˆ°è¿™ä¸€æ­¥ï¼Œè¦å¯¹ä¹‹å‰çš„é…ç½®ï¼Œè¿›è¡Œä¸€ä¸ªæµ‹è¯•\n\n* pojo ä¸­ï¼Œæ–°å»º Test å®ä½“ç±»\n\n![image-20210415001028711](https://gitee.com/faro/images/raw/master/img/20210415001028.png)\n\n```java\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Test {\n    private Integer id;\n    private String name;\n}\n```\n\n\n\n* mapper åŒ…ä¸­ï¼Œæ–°å»º TestMapper æ¥å£\n\n![image-20210415001403532](https://gitee.com/faro/images/raw/master/img/20210415001420.png)\n\n```java\n@Repository\n@Mapper\npublic interface TestMapper {\n    List<Test> getList();\n}\n```\n\n\n\n* resources ä¸‹çš„ mapper æ–‡ä»¶å¤¹ä¸­ï¼Œå¢åŠ  TestMapper.xml å®ç°\n\n  ![image-20210415002153386](https://gitee.com/faro/images/raw/master/img/20210415002153.png)\n\nå…·ä½“å†…å®¹ï¼Œè¦æ ¹æ®å®é™…é¡¹ç›®ä¿®æ”¹\n\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n<!DOCTYPE mapper PUBLIC \"-//mybatis.org//DTD Mapper 3.0//EN\"\n    \"http://mybatis.org/dtd/mybatis-3-mapper.dtd\">\n\n<!--namespaceè¦å’Œæ¥å£çš„ä½ç½®å’Œåå­—å¯¹åº”-->\n<mapper namespace=\"weixindemo.mapper.TestMapper\">\n\n    <select id=\"getList\" resultType=\"weixindemo.pojo.Test\">\n        select * from test\n    </select>\n\n</mapper>\n```\n\n![image-20210415002240288](https://gitee.com/faro/images/raw/master/img/20210415002240.png)\n\n\n\n* åœ¨ service åŒ…ä¸‹ï¼Œæ–°å»º TestService\n\n![](https://gitee.com/faro/images/raw/master/img/20210415002439.png)\n\nåˆ«å¿˜äº†åŠ ä¸Š @Service æ³¨è§£\n\n```java\n@Service\npublic class TestService {\n\n    @Autowired\n    private TestMapper mapper;\n\n    public List<Test> getList() {\n        return mapper.getList();\n    }\n}\n```\n\n\n\n* åœ¨ controlleråŒ…ä¸‹ï¼Œæ–°å»º TestController\n\n![image-20210415002611361](https://gitee.com/faro/images/raw/master/img/20210415002611.png)\n\n```java\n@RestController\npublic class TestController {\n\n    @Autowired\n    private TestService testService;\n    \n\n    @RequestMapping(\"/test/list\")\n    public List<Test> list() {\n        return testService.getList();\n    }\n\n}\n```\n\n\n\n* é‡å¯é¡¹ç›®\n\n\n\n* æ–°å»º http æ–‡ä»¶ï¼Œç¼–å†™ http æµ‹è¯•è„šæœ¬ï¼Œæ‰§è¡Œ\n\n![image-20210415002803589](https://gitee.com/faro/images/raw/master/img/20210415002803.png)\n\n```http\nGET http://localhost:8880/test/list\nAccept: application/json\n\n###\n```\n\n\n\næœ€åæˆåŠŸä»æ¥å£ä¸­è·å–æ•°æ®åº“ä¸­çš„æ•°æ®ï¼Œè¯´æ˜æˆ‘ä»¬ä¹‹å‰é…ç½®çš„éƒ½æ²¡æœ‰é”™è¯¯ï¼Œå¯ä»¥è¿›è¡Œä¸‹é¢çš„æ“ä½œ\n\n![image-20210415003021769](https://gitee.com/faro/images/raw/master/img/20210415003021.png)\n\n\n\n### 6. MyBatis ä»£ç ç”Ÿæˆå™¨\n\næˆ‘ä»¬ä¸å¯èƒ½å»å†™æ‰€æœ‰æŒä¹…å±‚çš„å®ç°ï¼Œä¸šåŠ¡ä¸­ï¼Œè¿™éƒ¨åˆ†éƒ½æ˜¯è‡ªåŠ¨ç”Ÿæˆçš„\n\n\n\n* å¯¼å…¥ Maven ä¾èµ–\n\næ³¨æ„ï¼Œ==æ˜¯æ”¾åœ¨`plugiuns`ä¸‹é¢çš„==\n\n```xml\n<!-- mybatis generator è‡ªåŠ¨ç”Ÿæˆä»£ç æ’ä»¶ -->\n            <plugin>\n                <groupId>org.mybatis.generator</groupId>\n                <artifactId>mybatis-generator-maven-plugin</artifactId>\n                <version>1.4.0</version>\n                <configuration>\n                    <configurationFile>src/main/resources/generator/generator-config.xml</configurationFile>\n                    <overwrite>true</overwrite>\n                    <verbose>true</verbose>\n                </configuration>\n                <dependencies>\n                    <dependency>\n                        <groupId>mysql</groupId>\n                        <artifactId>mysql-connector-java</artifactId>\n                        <version>8.0.22</version>\n                    </dependency>\n                </dependencies>\n            </plugin>\n```\n\n\n\n* å»ºç«‹ä»£ç”Ÿæˆå™¨ä½ç½®\n\npomæ–‡ä»¶ä¸­ï¼Œæ˜¾ç¤ºäº†è¦åˆ›å»ºçš„ä»£ç ç”Ÿæˆå™¨çš„ä½ç½®`src/main/resources/generator/generator-config.xml`\n\n```xml\n<configurationFile>\n  src/main/resources/generator/generator-config.xml\n</configurationFile>\n```\n\n![image-20210323131202189](https://gitee.com/faro/images/raw/master/img/20210323131202.png)\n\n\n\n* ä»£ç ç”Ÿæˆå™¨ä»£ç \n\nä»`jdbcConnection`å¼€å§‹ï¼Œåˆ«å¿˜äº†==æ ¹æ®é¡¹ç›®è¿›è¡Œä¿®æ”¹==\n\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<!DOCTYPE generatorConfiguration\n        PUBLIC \"-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN\"\n        \"http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd\">\n\n<generatorConfiguration>\n    <context id=\"Mysql\" targetRuntime=\"MyBatis3\" defaultModelType=\"flat\">\n\n        <!-- è‡ªåŠ¨æ£€æŸ¥å…³é”®å­—ï¼Œä¸ºå…³é”®å­—å¢åŠ åå¼•å· -->\n        <property name=\"autoDelimitKeywords\" value=\"true\"/>\n        <property name=\"beginningDelimiter\" value=\"`\"/>\n        <property name=\"endingDelimiter\" value=\"`\"/>\n\n        <!--è¦†ç›–ç”ŸæˆXMLæ–‡ä»¶-->\n        <plugin type=\"org.mybatis.generator.plugins.UnmergeableXmlMappersPlugin\" />\n        <!-- ç”Ÿæˆçš„å®ä½“ç±»æ·»åŠ toString()æ–¹æ³• -->\n        <plugin type=\"org.mybatis.generator.plugins.ToStringPlugin\"/>\n\n        <!-- ä¸ç”Ÿæˆæ³¨é‡Š -->\n        <commentGenerator>\n            <property name=\"suppressAllComments\" value=\"true\"/>\n        </commentGenerator>\n\n        <jdbcConnection driverClass=\"com.mysql.cj.jdbc.Driver\"\n                        connectionURL=\"jdbc:mysql://localhost:3306/wiki?useUnicode=true&amp;characterEncoding=utf-8\"\n                        userId=\"wiki\"\n                        password=\"123456\">\n        </jdbcConnection>\n\n        <!-- domainç±»çš„ä½ç½® -->\n        <javaModelGenerator targetProject=\"src/main/java\"\n                            targetPackage=\"top.faroz.pojo\"/>\n\n        <!-- mapper xmlçš„ä½ç½® -->\n        <sqlMapGenerator targetProject=\"src/main/resources\"\n                         targetPackage=\"mapper\"/>\n\n        <!-- mapperç±»çš„ä½ç½® -->\n        <javaClientGenerator targetProject=\"src/main/java\"\n                             targetPackage=\"top.faroz.mapper\"\n                             type=\"XMLMAPPER\"/>\n\n        <table tableName=\"demo\" domainObjectName=\"Demo\"/>\n        <!--<table tableName=\"ebook\"/>-->\n        <!--<table tableName=\"category\"/>-->\n        <!--<table tableName=\"doc\"/>-->\n        <!--<table tableName=\"content\"/>-->\n        <!--<table tableName=\"user\"/>-->\n        <!--<table tableName=\"ebook_snapshot\"/>-->\n    </context>\n</generatorConfiguration>\n```\n\n\n\n* æ–°å»ºä¸€ä¸ªmavenå¯åŠ¨é¡¹\n\n![image-20210411015300856](https://gitee.com/faro/images/raw/master/img/20210411015300.png)\n\n![image-20210411015346116](https://gitee.com/faro/images/raw/master/img/20210411015346.png)\n\n```bash\nmybatis-generator:generate -e\n```\n\n![image-20210411015516818](https://gitee.com/faro/images/raw/master/img/20210411015516.png)\n\n\n\n### 7. æµ‹è¯•ä»£ç ç”Ÿæˆå™¨\n\nä»£ç ç”Ÿæˆå™¨çš„å·¥ä½œåŸç†ï¼Œæ˜¯ä»æ•°æ®åº“ä¸­å–å‡ºè¡¨ä¿¡æ¯ï¼Œç„¶åæ ¹æ®è¡¨ä¿¡æ¯ï¼Œå»æ„é€ æŒä¹…å±‚ä»£ç ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬è¦å†å»å»ºä¸€ä¸ªè¡¨\n\n\n\n* all.sql æ·»åŠ  demo è¡¨çš„å¢åŠ  SQL è¯­å¥ï¼Œå¹¶æ‰§è¡Œ\n\n```sql\n# demoåˆ—è¡¨\ndrop table if exists `demo`;\ncreate table `demo` (\n    `id` bigint not null comment 'id',\n    `name` varchar(50) comment 'åç§°',\n    primary key (`id`)\n) engine=innodb default charset =utf8mb4 comment 'æµ‹è¯•';\n\ninsert into `demo` (id,name) values(2,'æµ‹è¯•2');\n```\n\n\n\n* åœ¨ä»£ç ç”Ÿæˆå™¨æœ€åçš„éƒ¨åˆ†ï¼Œå¡«ä¸Šè¦ç”Ÿæˆçš„è¡¨å\n\n![image-20210415012438872](https://gitee.com/faro/images/raw/master/img/20210415012439.png)\n\n\n\n* æ‰§è¡Œ\n\n![image-20210415012552449](https://gitee.com/faro/images/raw/master/img/20210415012552.png)\n\n\n\n* æ‰§è¡ŒæˆåŠŸï¼Œä¼šç”Ÿæˆ 4 ä¸ªæ–°æ–‡ä»¶\n\n![image-20210415012630004](https://gitee.com/faro/images/raw/master/img/20210415012630.png)\n\n\n\n* æˆ‘ä»¬æ¨¡ä»¿ Testï¼Œå»å†™ Demoçš„ Service å’Œ Controller ä»£ç \n\n```java\n@RestController\npublic class DemoController {\n\n    @Autowired\n    private DemoService demoService;\n\n    @RequestMapping(\"/demo/list\")\n    public List<Demo> list() {\n        return demoService.getList();\n    }\n}\n```\n\n```java\n@Service\npublic class DemoService {\n\n    @Resource\n    private DemoMapper demoMapper;\n\n    public List<Demo> getList() {\n        List<Demo> list = demoMapper.selectByExample(null);\n        return list;\n    }\n}\n```\n\n\n\n* æ·»åŠ  demo çš„ http æµ‹è¯•è„šæœ¬\n\n```http\nGET http://localhost:8880/demo/list\nAccept: application/json\n\n###\n```\n\næµ‹è¯•æˆåŠŸï¼Œè¯´æ˜æˆ‘ä»¬ç”¨ä»£ç ç”Ÿæˆå™¨ç”Ÿæˆçš„ä»£ç æ²¡æœ‰é—®é¢˜\n\n![image-20210415013323695](https://gitee.com/faro/images/raw/master/img/20210415013323.png)\n\n\n\n### 8. è§£å†³å‰åç«¯è·¨åŸŸé—®é¢˜\n\nè™½ç„¶ç°åœ¨è¿˜æ²¡æœ‰æ„å»ºå‰ç«¯é¡¹ç›®ï¼Œä½†æ˜¯åé¢ï¼Œä¼šå‡ºç°è·¨åŸŸé—®é¢˜\n\n\n\n* æ–°å»º CorsConfig ç±»\n\n![image-20210415013643183](https://gitee.com/faro/images/raw/master/img/20210415013643.png)\n\n\n\n* ä»£ç å¦‚ä¸‹\n\nä¸ç”¨æ”¹åŠ¨ï¼Œç›´æ¥ç”¨ï¼Œåˆ«å¿˜äº†åŠ ä¸Š==@Configuration==æ³¨è§£\n\n```java\n@Configuration\npublic class CorsConfig implements WebMvcConfigurer {\n\n    @Override\n    public void addCorsMappings(CorsRegistry registry) {\n        registry.addMapping(\"/**\")\n                .allowedOriginPatterns(\"*\")\n                .allowedHeaders(CorsConfiguration.ALL)\n                .allowedMethods(CorsConfiguration.ALL)\n                .allowCredentials(true)\n                .maxAge(3600); // 1å°æ—¶å†…ä¸éœ€è¦å†é¢„æ£€ï¼ˆå‘OPTIONSè¯·æ±‚ï¼‰\n    }\n}\n```\n\n\n\n### 9. æ·»åŠ é›ªèŠ±ç®—æ³•å·¥å…·ç±»\n\né›ªèŠ±ç®—æ³•ï¼Œç”¨æ¥ç”Ÿæˆå”¯ä¸€ ID\n\n\n\n* æ–°å»º SnowFlake å·¥å…·ç±»\n\n![image-20210415014504164](https://gitee.com/faro/images/raw/master/img/20210415014504.png)\n\n\n\n* ä»£ç å¦‚ä¸‹\n\nåˆ«å¿˜äº†åŠ ä¸Š @Component æ³¨è§£\n\n```java\n@Component\npublic class SnowFlake {\n    /**\n     * èµ·å§‹çš„æ—¶é—´æˆ³\n     */\n    private final static long START_STMP = 1609459200000L; // 2021-01-01 00:00:00\n\n    /**\n     * æ¯ä¸€éƒ¨åˆ†å ç”¨çš„ä½æ•°\n     */\n    private final static long SEQUENCE_BIT = 12; //åºåˆ—å·å ç”¨çš„ä½æ•°\n    private final static long MACHINE_BIT = 5;   //æœºå™¨æ ‡è¯†å ç”¨çš„ä½æ•°\n    private final static long DATACENTER_BIT = 5;//æ•°æ®ä¸­å¿ƒå ç”¨çš„ä½æ•°\n\n    /**\n     * æ¯ä¸€éƒ¨åˆ†çš„æœ€å¤§å€¼\n     */\n    private final static long MAX_DATACENTER_NUM = -1L ^ (-1L << DATACENTER_BIT);\n    private final static long MAX_MACHINE_NUM = -1L ^ (-1L << MACHINE_BIT);\n    private final static long MAX_SEQUENCE = -1L ^ (-1L << SEQUENCE_BIT);\n\n    /**\n     * æ¯ä¸€éƒ¨åˆ†å‘å·¦çš„ä½ç§»\n     */\n    private final static long MACHINE_LEFT = SEQUENCE_BIT;\n    private final static long DATACENTER_LEFT = SEQUENCE_BIT + MACHINE_BIT;\n    private final static long TIMESTMP_LEFT = DATACENTER_LEFT + DATACENTER_BIT;\n\n    private long datacenterId = 1;  //æ•°æ®ä¸­å¿ƒ\n    private long machineId = 1;     //æœºå™¨æ ‡è¯†\n    private long sequence = 0L; //åºåˆ—å·\n    private long lastStmp = -1L;//ä¸Šä¸€æ¬¡æ—¶é—´æˆ³\n\n    public SnowFlake() {\n    }\n\n    public SnowFlake(long datacenterId, long machineId) {\n        if (datacenterId > MAX_DATACENTER_NUM || datacenterId < 0) {\n            throw new IllegalArgumentException(\"datacenterId can't be greater than MAX_DATACENTER_NUM or less than 0\");\n        }\n        if (machineId > MAX_MACHINE_NUM || machineId < 0) {\n            throw new IllegalArgumentException(\"machineId can't be greater than MAX_MACHINE_NUM or less than 0\");\n        }\n        this.datacenterId = datacenterId;\n        this.machineId = machineId;\n    }\n\n    /**\n     * äº§ç”Ÿä¸‹ä¸€ä¸ªID\n     *\n     * @return\n     */\n    public synchronized long nextId() {\n        long currStmp = getNewstmp();\n        if (currStmp < lastStmp) {\n            throw new RuntimeException(\"Clock moved backwards.  Refusing to generate id\");\n        }\n\n        if (currStmp == lastStmp) {\n            //ç›¸åŒæ¯«ç§’å†…ï¼Œåºåˆ—å·è‡ªå¢\n            sequence = (sequence + 1) & MAX_SEQUENCE;\n            //åŒä¸€æ¯«ç§’çš„åºåˆ—æ•°å·²ç»è¾¾åˆ°æœ€å¤§\n            if (sequence == 0L) {\n                currStmp = getNextMill();\n            }\n        } else {\n            //ä¸åŒæ¯«ç§’å†…ï¼Œåºåˆ—å·ç½®ä¸º0\n            sequence = 0L;\n        }\n\n        lastStmp = currStmp;\n\n        return (currStmp - START_STMP) << TIMESTMP_LEFT //æ—¶é—´æˆ³éƒ¨åˆ†\n                | datacenterId << DATACENTER_LEFT       //æ•°æ®ä¸­å¿ƒéƒ¨åˆ†\n                | machineId << MACHINE_LEFT             //æœºå™¨æ ‡è¯†éƒ¨åˆ†\n                | sequence;                             //åºåˆ—å·éƒ¨åˆ†\n    }\n\n    private long getNextMill() {\n        long mill = getNewstmp();\n        while (mill <= lastStmp) {\n            mill = getNewstmp();\n        }\n        return mill;\n    }\n\n    private long getNewstmp() {\n        return System.currentTimeMillis();\n    }\n\n    // public static void main(String[] args) throws ParseException {\n    //     // æ—¶é—´æˆ³\n    //     // System.out.println(System.currentTimeMillis());\n    //     // System.out.println(new Date().getTime());\n    //     //\n    //     // String dateTime = \"2021-01-01 08:00:00\";\n    //     // SimpleDateFormat sdf = new SimpleDateFormat(\"yyyy-MM-dd hh:mm:ss\");\n    //     // System.out.println(sdf.parse(dateTime).getTime());\n    //\n    //     SnowFlake snowFlake = new SnowFlake(1, 1);\n    //\n    //     long start = System.currentTimeMillis();\n    //     for (int i = 0; i < 10; i++) {\n    //         System.out.println(snowFlake.nextId());\n    //         System.out.println(System.currentTimeMillis() - start);\n    //     }\n    // }\n\n}\n```\n\n\n\n\n\n### 10. æ·»åŠ  AOP\n\nAOP ç”¨æ¥æ‰“å°æ¥å£æ—¥å¿—ï¼Œæ–¹ä¾¿åæœŸè°ƒè¯•\n\n\n\n* Maven ä¸­å¼•å…¥ fastjsonï¼Œå› ä¸º æˆ‘ä»¬çš„ç±»ä¸­è¦ç”¨\n\n```xml\n <!--fastjson-->\n<dependency>\n  <groupId>com.alibaba</groupId>\n  <artifactId>fastjson</artifactId>\n  <version>1.2.70</version>\n</dependency>\n```\n\n\n\n* Maven å¼•å…¥ AOP\n\n```xml\n<!--å¯¼å…¥aop-->\n<dependency>\n  <groupId>org.springframework.boot</groupId>\n  <artifactId>spring-boot-starter-aop</artifactId>\n</dependency>\n```\n\n\n\n* æ·»åŠ  RequestContext å·¥å…·ç±»\n\nè¿™ä¸ªæ˜¯åæœŸä¸ºäº†æ‰“å° WebSocket æ—¥å¿—çš„\n\n![image-20210415014912415](https://gitee.com/faro/images/raw/master/img/20210415014912.png)\n\n```java\npublic class RequestContext implements Serializable {\n    private static ThreadLocal<String> remoteAddr = new ThreadLocal<>();\n\n    public static String getRemoteAddr() {\n        return remoteAddr.get();\n    }\n\n    public static void setRemoteAddr(String remoteAddr) {\n        weixindemo.util.RequestContext.remoteAddr.set(remoteAddr);\n    }\n}\n```\n\n\n\n* æ–°å»º aspect åŒ…ï¼Œå¹¶æ–°å»º LogAspect ç±»\n\n![image-20210415013942484](https://gitee.com/faro/images/raw/master/img/20210415013942.png)\n\n\n\n**LogAspect ä»£ç å¦‚ä¸‹:**\n\nåˆ‡ç‚¹çš„ä»£ç ï¼Œæˆ‘ä»¬è¦ä¾æ®é¡¹ç›®ä¿®æ”¹\n\n![image-20210415015319943](https://gitee.com/faro/images/raw/master/img/20210415015320.png)\n\n```java\n@Aspect\n@Component\npublic class LogAspect {\n    private final static Logger LOG = LoggerFactory.getLogger(weixindemo.aspect.LogAspect.class);\n\n    @Resource\n    private SnowFlake snowFlake;\n\n    /** å®šä¹‰ä¸€ä¸ªåˆ‡ç‚¹ */\n    @Pointcut(\"execution(public * weixindemo.controller..*Controller.*(..))\")\n    public void controllerPointcut() {}\n\n    // @Resource\n    // private SnowFlake snowFlake;\n\n    @Before(\"controllerPointcut()\")\n    public void doBefore(JoinPoint joinPoint) throws Throwable {\n\n        // å¢åŠ æ—¥å¿—æµæ°´å·\n        MDC.put(\"LOG_ID\", String.valueOf(snowFlake.nextId()));\n\n        // å¼€å§‹æ‰“å°è¯·æ±‚æ—¥å¿—\n        ServletRequestAttributes attributes = (ServletRequestAttributes) RequestContextHolder.getRequestAttributes();\n        HttpServletRequest request = attributes.getRequest();\n        Signature signature = joinPoint.getSignature();\n        String name = signature.getName();\n\n        // æ‰“å°è¯·æ±‚ä¿¡æ¯\n        LOG.info(\"------------- å¼€å§‹ -------------\");\n        LOG.info(\"è¯·æ±‚åœ°å€: {} {}\", request.getRequestURL().toString(), request.getMethod());\n        LOG.info(\"ç±»åæ–¹æ³•: {}.{}\", signature.getDeclaringTypeName(), name);\n        LOG.info(\"è¿œç¨‹åœ°å€: {}\", request.getRemoteAddr());\n\n        RequestContext.setRemoteAddr(getRemoteIp(request));\n\n        // æ‹¿åˆ°æ‰€æœ‰çš„å‚æ•°\n        Object[] args = joinPoint.getArgs();\n        // LOG.info(\"è¯·æ±‚å‚æ•°: {}\", JSONObject.toJSONString(args));\n\n        Object[] arguments  = new Object[args.length];\n        for (int i = 0; i < args.length; i++) {\n            if (args[i] instanceof ServletRequest\n                    || args[i] instanceof ServletResponse\n                    || args[i] instanceof MultipartFile) {\n                continue;\n            }\n            arguments[i] = args[i];\n        }\n        // æ’é™¤å­—æ®µï¼Œæ•æ„Ÿå­—æ®µæˆ–å¤ªé•¿çš„å­—æ®µä¸æ˜¾ç¤º\n        String[] excludeProperties = {\"password\", \"file\"};\n        PropertyPreFilters filters = new PropertyPreFilters();\n        PropertyPreFilters.MySimplePropertyPreFilter excludefilter = filters.addFilter();\n        excludefilter.addExcludes(excludeProperties);\n        LOG.info(\"è¯·æ±‚å‚æ•°: {}\", JSONObject.toJSONString(arguments, excludefilter));\n    }\n\n    @Around(\"controllerPointcut()\")\n    public Object doAround(ProceedingJoinPoint proceedingJoinPoint) throws Throwable {\n        long startTime = System.currentTimeMillis();\n        Object result = proceedingJoinPoint.proceed();\n        // æ’é™¤å­—æ®µï¼Œæ•æ„Ÿå­—æ®µæˆ–å¤ªé•¿çš„å­—æ®µä¸æ˜¾ç¤º\n        String[] excludeProperties = {\"password\", \"file\"};\n        PropertyPreFilters filters = new PropertyPreFilters();\n        PropertyPreFilters.MySimplePropertyPreFilter excludefilter = filters.addFilter();\n        excludefilter.addExcludes(excludeProperties);\n        LOG.info(\"è¿”å›ç»“æœ: {}\", JSONObject.toJSONString(result, excludefilter));\n        LOG.info(\"------------- ç»“æŸ è€—æ—¶ï¼š{} ms -------------\", System.currentTimeMillis() - startTime);\n        return result;\n    }\n\n    /**\n     * ä½¿ç”¨nginxåšåå‘ä»£ç†ï¼Œéœ€è¦ç”¨è¯¥æ–¹æ³•æ‰èƒ½å–åˆ°çœŸå®çš„è¿œç¨‹IP\n     * å½“æˆ‘ä»¬å‘å¸ƒä¸Šçº¿åï¼Œå› ä¸ºå‰ç«¯ã€åç«¯éƒ½æ˜¯ç”¨80ç«¯å£ï¼Œä¼šå†²çª\n     * æ‰€ä»¥ç”¨æˆ·è®¿é—®çš„æ—¶å€™ï¼Œéœ€è¦å…ˆå»è®¿é—® nginxï¼Œç„¶åï¼Œè®© nginx å»åå‘ä»£ç†ï¼Œæ‰¾æˆ‘ä»¬è¦è®¿é—®çš„è·¯å¾„\n     * @param request\n     * @return\n     */\n    public String getRemoteIp(HttpServletRequest request) {\n        String ip = request.getHeader(\"x-forwarded-for\");\n        if (ip == null || ip.length() == 0 || \"unknown\".equalsIgnoreCase(ip)) {\n            ip = request.getHeader(\"Proxy-Client-IP\");\n        }\n        if (ip == null || ip.length() == 0 || \"unknown\".equalsIgnoreCase(ip)) {\n            ip = request.getHeader(\"WL-Proxy-Client-IP\");\n        }\n        if (ip == null || ip.length() == 0 || \"unknown\".equalsIgnoreCase(ip)) {\n            ip = request.getRemoteAddr();\n        }\n        return ip;\n    }\n}\n```\n\n\n\n### 11. è§£å†³å‰åç«¯ Long ç²¾åº¦ä¸¢å¤±é—®é¢˜\n\næˆ‘ä»¬åæœŸä¼šç”¨åˆ° MD5 åŠ å¯†ï¼Œåˆ°æ—¶å€™åç«¯ä¼ åˆ°å‰ç«¯çš„æ—¶å€™ï¼Œå› ä¸º javascript number çš„ç²¾åº¦é—®é¢˜ï¼Œä¼šå‡ºç°æ•°æ®ä¸¢å¤±\n\n\n\n* é…ç½®æ–‡ä»¶æ–°å¢ JacksonConfig ç±»\n\n![image-20210415020223600](https://gitee.com/faro/images/raw/master/img/20210415020223.png)\n\n\n\n* ä»£ç å¦‚ä¸‹\n\n```java\n@Configuration\npublic class JacksonConfig {\n\n    @Bean\n    public ObjectMapper jacksonObjectMapper(Jackson2ObjectMapperBuilder builder) {\n        ObjectMapper objectMapper = builder.createXmlMapper(false).build();\n        SimpleModule simpleModule = new SimpleModule();\n        // simpleModule.addSerializer(Long.class, ToStringSerializer.instance);\n        simpleModule.addSerializer(Long.class, ToStringSerializer.instance);\n        objectMapper.registerModule(simpleModule);\n        return objectMapper;\n    }\n}\n```\n\n\n\n### 12. æ–°å»º req resp åŒ…\n\næˆ‘ä»¬è¦å°†è¯·æ±‚ä¸è¿”å›åŒ…è£…\n\n![image-20210415020648707](https://gitee.com/faro/images/raw/master/img/20210415020648.png)\n\n\n\n### 13. CommonResp\n\nä¸ºäº†æ–¹ä¾¿å‰ç«¯è°ƒç”¨ï¼Œåç«¯çš„ respï¼Œæˆ‘ä»¬å†™ä¸€ä¸ªç»Ÿä¸€çš„è¿”å› CommonResp\n\n![image-20210415020805724](https://gitee.com/faro/images/raw/master/img/20210415020805.png)\n\n**ä»£ç å¦‚ä¸‹ï¼š**\n\n```java\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class CommonResp<T> {\n    /**\n     * è¿”å›æ˜¯å¦æˆåŠŸ\n     */\n    private boolean isSuccess=true;\n\n    /**\n     * è¿”å›å¤±è´¥æ—¶ï¼Œè¿”å›çš„é”™è¯¯ä¿¡æ¯\n     */\n    private String message;\n\n    /**\n     * è¿”å›æˆåŠŸçš„æ—¶å€™ï¼Œè¿”å›çš„å†…å®¹\n     */\n    private T content;\n}\n```\n\n\n\n### 14. è‡ªå®šä¹‰å¼‚å¸¸\n\n* æ–°å»ºå¼‚å¸¸ç±»`BusinessException`å’Œå¼‚å¸¸ä¿¡æ¯æšä¸¾`BusinessExceptionCode`\n\n![image-20210415021357196](https://gitee.com/faro/images/raw/master/img/20210415021357.png)\n\n\n\n* `BusinessException`ä»£ç \n\n```java\npublic class BusinessException extends RuntimeException{\n    private BusinessExceptionCode code;\n\n    public BusinessException (BusinessExceptionCode code) {\n        /**\n         * çˆ¶ç±»æœ‰ä¸ªæˆå‘˜å˜é‡  private String desc\n         * éœ€è¦ä¸ºè¿™ä¸ªæˆå‘˜å˜é‡èµ‹å€¼\n         */\n        super(code.getDesc());\n        this.code = code;\n    }\n\n    public BusinessExceptionCode getCode() {\n        return code;\n    }\n\n    public void setCode(BusinessExceptionCode code) {\n        this.code = code;\n    }\n\n    /**\n     * ä¸å†™å…¥å †æ ˆä¿¡æ¯ï¼Œæé«˜æ€§èƒ½\n     */\n    @Override\n    public Throwable fillInStackTrace() {\n        return this;\n    }\n}\n```\n\n\n\n* `BusinessExceptionCode`ä»£ç \n\n```java\npublic enum BusinessExceptionCode {\n    USER_LOGIN_NAME_EXIST(\"ç™»å½•åå·²å­˜åœ¨\"),\n    LOGIN_USER_ERROR(\"ç”¨æˆ·åä¸å­˜åœ¨æˆ–å¯†ç é”™è¯¯\"),\n    VOTE_REPEAT(\"æ‚¨å·²ç‚¹èµè¿‡\"),\n    ;\n\n    private String desc;\n\n    BusinessExceptionCode(String desc) {\n        this.desc = desc;\n    }\n\n    public String getDesc() {\n        return desc;\n    }\n\n    public void setDesc(String desc) {\n        this.desc = desc;\n    }\n}\n```\n\n\n\n\n\n### 13. ç»Ÿä¸€å¼‚å¸¸å¤„ç†\n\næˆ‘ä»¬æ‰€æœ‰å¼‚å¸¸ï¼Œéƒ½é€šè¿‡è¿™ä¸ªç±»æ¥æ•è·ï¼Œå¹¶ç”Ÿæˆä¸€ä¸ªè¿”å›é”™è¯¯ä¿¡æ¯çš„ CommonResp\n\n\n\n* æ–°å»º ControllerExceptionHandler ç±»\n\n![](https://gitee.com/faro/images/raw/master/img/20210415020947.png)\n\n\n\n* ä»£ç å¦‚ä¸‹\n\nlogger è¦æ ¹æ®é¡¹ç›®æ”¹ä¸€ä¸‹\n\n```java\n/**\n * ç»Ÿä¸€å¼‚å¸¸å¤„ç†ã€æ•°æ®é¢„å¤„ç†ç­‰\n * è¯¥ç±»ç”¨äºæ•è·ç³»ç»Ÿå¼¹å‡ºçš„å¼‚å¸¸\n * å°†å¼‚å¸¸åŒ…è£…æˆä¸€ä¸ª CommonResp\n * ä»è€Œæ–¹ä¾¿å‰ç«¯è°ƒç”¨ï¼Œæ˜¾ç¤ºé”™è¯¯ä¿¡æ¯\n */\n@ControllerAdvice\npublic class ControllerExceptionHandler {\n    private static final Logger LOG = LoggerFactory.getLogger(top.faroz.controller.ControllerExceptionHandler.class);\n\n    /**\n     * æ ¡éªŒå¼‚å¸¸ç»Ÿä¸€å¤„ç†\n     * @param e\n     * @return\n     */\n    @ExceptionHandler(value = BindException.class)\n    @ResponseBody\n    public CommonResp validExceptionHandler(BindException e) {\n        CommonResp commonResp = new CommonResp();\n        LOG.warn(\"å‚æ•°æ ¡éªŒå¤±è´¥ï¼š{}\", e.getBindingResult().getAllErrors().get(0).getDefaultMessage());\n        commonResp.setSuccess(false);\n        commonResp.setMessage(e.getBindingResult().getAllErrors().get(0).getDefaultMessage());\n        return commonResp;\n    }\n\n    /**\n     * æ ¡éªŒå¼‚å¸¸ç»Ÿä¸€å¤„ç†\n     * @param e\n     * @return\n     */\n    @ExceptionHandler(value = BusinessException.class)\n    @ResponseBody\n    public CommonResp validExceptionHandler(BusinessException e) {\n        CommonResp commonResp = new CommonResp();\n        LOG.warn(\"ä¸šåŠ¡å¼‚å¸¸ï¼š{}\", e.getCode().getDesc());\n        commonResp.setSuccess(false);\n        commonResp.setMessage(e.getCode().getDesc());\n        return commonResp;\n    }\n\n    /**\n     * æ ¡éªŒå¼‚å¸¸ç»Ÿä¸€å¤„ç†\n     * @param e\n     * @return\n     */\n    @ExceptionHandler(value = Exception.class)\n    @ResponseBody\n    public CommonResp validExceptionHandler(Exception e) {\n        CommonResp commonResp = new CommonResp();\n        LOG.error(\"ç³»ç»Ÿå¼‚å¸¸ï¼š\", e);\n        commonResp.setSuccess(false);\n        commonResp.setMessage(\"ç³»ç»Ÿå‡ºç°å¼‚å¸¸ï¼Œè¯·è”ç³»ç®¡ç†å‘˜\");\n        return commonResp;\n    }\n}\n```\n\n\n\n### 14. æ·»åŠ æ—¥å¿—è®°å½• logback\n\n* åœ¨ resource ä¸‹ï¼Œæ–°å»ºlogback-spring.xml æ–‡ä»¶\n\n![image-20210411004947139](https://gitee.com/faro/images/raw/master/img/20210411004947.png)\n\n* å†™å…¥å†…å®¹\n\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<configuration>\n    <!-- ä¿®æ”¹ä¸€ä¸‹è·¯å¾„-->\n    <property name=\"PATH\" value=\"./log\"></property>\n\n    <appender name=\"STDOUT\" class=\"ch.qos.logback.core.ConsoleAppender\">\n        <encoder>\n            <Pattern>%d{yyyy-MM-dd HH:mm:ss.SSS} %highlight(%-5level) %blue(%-50logger{50}:%-4line) %thread %msg%n</Pattern>\n            <!--<Pattern>%d{ss.SSS} %highlight(%-5level) %blue(%-30logger{30}:%-4line) %thread %green(%-18X{LOG_ID}) %msg%n</Pattern>-->\n        </encoder>\n    </appender>\n\n    <appender name=\"TRACE_FILE\" class=\"ch.qos.logback.core.rolling.RollingFileAppender\">\n        <file>${PATH}/trace.log</file>\n        <rollingPolicy class=\"ch.qos.logback.core.rolling.TimeBasedRollingPolicy\">\n            <FileNamePattern>${PATH}/trace.%d{yyyy-MM-dd}.%i.log</FileNamePattern>\n            <timeBasedFileNamingAndTriggeringPolicy class=\"ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP\">\n                <maxFileSize>10MB</maxFileSize>\n            </timeBasedFileNamingAndTriggeringPolicy>\n        </rollingPolicy>\n        <layout>\n            <pattern>%d{yyyy-MM-dd HH:mm:ss.SSS} %-5level %-50logger{50}:%-4line %green(%-18X{LOG_ID}) %msg%n</pattern>\n        </layout>\n    </appender>\n\n    <appender name=\"ERROR_FILE\" class=\"ch.qos.logback.core.rolling.RollingFileAppender\">\n        <file>${PATH}/error.log</file>\n        <rollingPolicy class=\"ch.qos.logback.core.rolling.TimeBasedRollingPolicy\">\n            <FileNamePattern>${PATH}/error.%d{yyyy-MM-dd}.%i.log</FileNamePattern>\n            <timeBasedFileNamingAndTriggeringPolicy class=\"ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP\">\n                <maxFileSize>10MB</maxFileSize>\n            </timeBasedFileNamingAndTriggeringPolicy>\n        </rollingPolicy>\n        <layout>\n            <pattern>%d{yyyy-MM-dd HH:mm:ss.SSS} %-5level %-50logger{50}:%-4line %green(%-18X{LOG_ID}) %msg%n</pattern>\n        </layout>\n        <filter class=\"ch.qos.logback.classic.filter.LevelFilter\">\n            <level>ERROR</level>\n            <onMatch>ACCEPT</onMatch>\n            <onMismatch>DENY</onMismatch>\n        </filter>\n    </appender>\n\n    <root level=\"ERROR\">\n        <appender-ref ref=\"ERROR_FILE\" />\n    </root>\n\n    <root level=\"TRACE\">\n        <appender-ref ref=\"TRACE_FILE\" />\n    </root>\n\n    <root level=\"INFO\">\n        <appender-ref ref=\"STDOUT\" />\n    </root>\n</configuration>\n\n```\n\n\n\n### 15. è‡ªå®šä¹‰ banner\n\nresources ä¸‹æ–°å»º banner.txt\n\n![image-20210415023847796](https://gitee.com/faro/images/raw/master/img/20210415023847.png)\n\n\n\né‡Œé¢æ”¾ä¸Šè‡ªå®šä¹‰ banner\n\n```txt\n ********     **     *******     *******         ********\n/**/////     ****   /**////**   **/////**       //////** \n/**         **//**  /**   /**  **     //**           **  \n/*******   **  //** /*******  /**      /**          **   \n/**////   **********/**///**  /**      /**         **    \n/**      /**//////**/**  //** //**     **         **     \n/**      /**     /**/**   //** //*******   ***** ********\n//       //      // //     //   ///////   ///// //////// \n```\n\n\n\n\n","success":true}
2021-04-16 00:54:36.424 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š11 ms -------------
2021-04-16 00:55:30.554 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:55:30.555 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/list GET
2021-04-16 00:55:30.555 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.list
2021-04-16 00:55:30.556 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:55:30.557 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":4}]
2021-04-16 00:55:30.566 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"list":[{"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Vue å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":2,"name":"Vue å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Python å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":3,"name":"Python å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Mysql å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":4,"name":"Mysql å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0}],"total":7},"success":true}
2021-04-16 00:55:30.566 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š12 ms -------------
2021-04-16 00:55:31.045 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:55:31.045 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/list GET
2021-04-16 00:55:31.045 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.list
2021-04-16 00:55:31.046 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:55:31.046 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":4}]
2021-04-16 00:55:31.050 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"list":[{"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Vue å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":2,"name":"Vue å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Python å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":3,"name":"Python å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Mysql å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":4,"name":"Mysql å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0}],"total":7},"success":true}
2021-04-16 00:55:31.050 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2021-04-16 00:55:35.936 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:55:35.936 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/list GET
2021-04-16 00:55:35.936 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.list
2021-04-16 00:55:35.936 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:55:35.937 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":4}]
2021-04-16 00:55:35.946 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"list":[{"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Vue å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":2,"name":"Vue å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Python å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":3,"name":"Python å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Mysql å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":4,"name":"Mysql å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0}],"total":7},"success":true}
2021-04-16 00:55:35.947 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š12 ms -------------
2021-04-16 00:55:39.758 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:55:39.759 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/list GET
2021-04-16 00:55:39.759 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.list
2021-04-16 00:55:39.759 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:55:39.760 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":4}]
2021-04-16 00:55:39.764 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"list":[{"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Vue å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":2,"name":"Vue å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Python å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":3,"name":"Python å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Mysql å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":4,"name":"Mysql å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0}],"total":7},"success":true}
2021-04-16 00:55:39.764 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2021-04-16 00:55:42.109 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:55:42.110 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/list GET
2021-04-16 00:55:42.110 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.list
2021-04-16 00:55:42.110 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:55:42.111 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [{"page":2,"size":4}]
2021-04-16 00:55:42.116 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"list":[{"description":"c++çœŸçš„å¾ˆå®¹æ˜“ï¼Œä¸ä¼šæœ‰äººä¸ä¼šå§ï¼Ÿ","docCount":0,"id":5,"name":"21 å¤©å­¦ä¼šC++","viewCount":0,"voteCount":0},{"description":"å¡é‡Œå¤æ‹‰æ–‡ç« é“¾æ¥","docCount":0,"id":36754863593492480,"name":"å¡é‡Œå¤æ‹‰","viewCount":0,"voteCount":0},{"description":" python,2å¤©å°±å¤Ÿäº†","docCount":0,"id":36776384114331648,"name":"2å¤©å­¦ä¼špython","viewCount":0,"voteCount":0}],"total":7},"success":true}
2021-04-16 00:55:42.116 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2021-04-16 00:56:26.317 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:56:26.318 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find/36754863593492480 GET
2021-04-16 00:56:26.318 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:56:26.318 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.find
2021-04-16 00:56:26.318 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/36754863593492480 GET
2021-04-16 00:56:26.318 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:56:26.318 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.findContent
2021-04-16 00:56:26.319 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:56:26.319 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [36754863593492480]
2021-04-16 00:56:26.319 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [36754863593492480]
2021-04-16 00:56:26.323 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"description":"å¡é‡Œå¤æ‹‰æ–‡ç« é“¾æ¥","docCount":0,"id":36754863593492480,"name":"å¡é‡Œå¤æ‹‰","viewCount":0,"voteCount":0},"success":true}
2021-04-16 00:56:26.323 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":"# Java æ¥å£\n\nè¿™é‡Œä¸è®²ä¸ºä»€ä¹ˆéœ€è¦ä½¿ç”¨æ¥å£ï¼Œå› ä¸ºå¤§éƒ¨åˆ†äººå¼€å‘é‚£ä¹ˆä¹…ï¼Œåº”è¯¥éƒ½äº†è§£ä½¿ç”¨æ¥å£çš„åŸå› å’Œå¥½å¤„äº†å§\n\n\n\n## **1. æ¥å£ä¸­çš„æ–¹æ³•ä¸ç”¨å£°æ˜ä¸º`public`**\n\nè™½ç„¶å†™ä¸Šä¸ä¼šæŠ¥é”™ï¼Œä½†æ˜¯å®Œå…¨æ²¡æœ‰å¿…è¦ï¼Œå› ä¸ºæ¥å£å®ç°çš„æ—¶å€™ï¼Œåªèƒ½æ˜¯`public`\n\næ›´åˆ«æå°†æ¥å£æ–¹æ³•å£°æ˜ä¸º`private`ï¼Œ`protected`äº†ï¼Œç›´æ¥æŠ¥é”™\n\n![image-20210317235222474](https://gitee.com/faro/images/raw/master/img/20210317235222.png)\n\n\n\n## **2. å› ä¸ºæ¥å£å®ç°çš„æ—¶å€™ï¼Œåªèƒ½æ˜¯`public`**\n\né™¤äº†`public`ï¼Œå…¶ä»–ç±»å‹å‡†æŠ¥é”™\n\nä½•å†µä½ å†æƒ³æƒ³ï¼Œå¦‚æœè¦å°†æ¥å£æ–¹æ³•ç”³æ˜ä¸º`private`ï¼Œé‚£å†™è¿™ä¸ªæ¥å£ï¼Œè¿˜æœ‰ä»€ä¹ˆæ„ä¹‰ï¼Ÿ\n\næ¥å£çš„ç›®çš„ï¼Œæœ¬æ¥å°±æ˜¯ä¸ºäº†æ¾è€¦åˆï¼Œå†™æˆ`private`åˆ°å¥½ï¼Œè®©æ–¹æ³•åªèƒ½åœ¨ç±»å†…éƒ¨ä½¿ç”¨äº†ï¼Œé‚£è¿˜æ¾è€¦åˆæ¾ä¸ªé¬¼å•Šã€‚\n\n![image-20210317235447384](https://gitee.com/faro/images/raw/master/img/20210317235447.png)\n\n\n\n## **3. å®ç°å¤šä¸ªæ¥å£çš„é‡åé—®é¢˜**\n\n### 3.1 ä¸¤ä¸ªæ–¹æ³•ä¸€æ¨¡ä¸€æ ·\n\nè¿™é‡Œå®šä¹‰ä¸¤ä¸ªæ¥å£ï¼Œå…¶è‡ªå¸¦çš„æ–¹æ³•ï¼Œ**ä¸€æ¨¡ä¸€æ ·**ï¼ˆä¸€æ¨¡ä¸€æ ·ï¼Œå³æŒ‡`å‡½æ•°å`ï¼Œ`è¿”å›å€¼`ï¼Œ`å‚æ•°ç±»å‹`ï¼Œ`å‚æ•°ä¸ªæ•°`å’Œ`ä¸åŒç±»å‹å‚æ•°çš„æ’åˆ—é¡ºåº`éƒ½ä¸€æ¨¡ä¸€æ ·ï¼Œè¿™äº›æ¡ä»¶ï¼Œ<font color=\"red\">é™¤äº†è¿”å›å€¼</font>å’Œå‡½æ•°åï¼Œå…¶ä½™ä¸‰æ ·ï¼Œæ¯ä¸€æ ·éƒ½æ˜¯ä¿è¯å‡½æ•°èƒ½å¤Ÿé‡è½½çš„æ¡ä»¶ï¼‰\n\n![image-20210318000412331](https://gitee.com/faro/images/raw/master/img/20210318000412.png)\n\n![image-20210318000424942](https://gitee.com/faro/images/raw/master/img/20210318000424.png)\n\né‚£æœ€åå¤šæ¥å£å®ç°çš„æ—¶å€™ï¼Œå…¶å®å°±ç›¸å½“äºåªå®ç°ä¸€ä¸ªæ–¹æ³•ï¼Œæ²¡æœ‰ä»€ä¹ˆå½±å“ï¼Œä¸”éƒ½å¯ä»¥å®ç°å¤šæ€ï¼š\n\n![image-20210318000627167](https://gitee.com/faro/images/raw/master/img/20210318000627.png)\n\n\n\n### 3.2 åªæœ‰è¿”å›ç±»å‹ä¸ä¸€æ ·\n\nä½†æ˜¯ï¼Œå¦‚æœä¸¤ä¸ªæ¥å£å‡½æ•°åå’Œå‚æ•°ä¸ªæ•°éƒ½ä¸€æ ·ï¼Œ**åªæœ‰è¿”å›å€¼ä¸ä¸€æ ·**ï¼Œæ¢å¥è¯è¯´ï¼Œå°±æ˜¯==ä¸æ»¡è¶³åŒºåˆ†å‡½æ•°é‡è½½çš„æ¡ä»¶==ï¼Œé‚£ç¼–è¯‘å™¨å°±ä¼šæŠ¥é”™ï¼š\n\n![image-20210318000846017](https://gitee.com/faro/images/raw/master/img/20210318000846.png)\n\n![image-20210318000859682](https://gitee.com/faro/images/raw/master/img/20210318000859.png)\n\næ­¤æ—¶ï¼Œå› ä¸ºä¸€ä¸ªè¿”å›`int`ï¼Œä¸€ä¸ªä¸è¿”å›ï¼Œé‚£æ¥å£å®ç°å†™`int`ä¹Ÿä¸æ˜¯ï¼Œå†™`void`ä¹Ÿä¸æ˜¯ï¼Œ\n\n![image-20210318000931012](https://gitee.com/faro/images/raw/master/img/20210318000931.png)\n\nåˆå› ä¸ºï¼Œ<font color=\"blue\">æ–¹æ³•è¿”å›çš„ç±»å‹ä¸èƒ½ä½œä¸ºé‡è½½çš„æ ‡å¿—</font>ï¼Œæ‰€ä»¥ï¼Œä¸‹é¢è¿™ç§å†™æ³•ä¹Ÿæ— æµäºäº‹...\n\n![image-20210318001053987](https://gitee.com/faro/images/raw/master/img/20210318001054.png)\n\n\n\n### 3.3 åªæœ‰æ»¡è¶³å‡½æ•°é‡è½½çš„æ¡ä»¶ï¼Œæ¥å£æ‰å¯é‡å\n\nåœ¨  3.1  ä¹Ÿæåˆ°è¿‡ï¼Œ`å‚æ•°ç±»å‹ï¼Œå‚æ•°ä¸ªæ•°ã€ä¸åŒç±»å‹å‚æ•°çš„æ’åˆ—é¡ºåº`è¿™ä¸‰æ ·ï¼Œæ¯æ ·éƒ½å¯ä»¥æˆä¸ºé‡è½½çš„æ¡ä»¶ï¼Œåªè¦æ»¡è¶³ä»»ä½•ä¸€æ ·ï¼Œå°±èƒ½å®ç°åŒå‡½æ•°åæ¥å£çš„å¤šç»§æ‰¿åŠå®ç°ã€‚\n\n","success":true}
2021-04-16 00:56:26.323 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2021-04-16 00:56:26.324 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2021-04-16 00:56:28.873 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:56:28.874 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/list GET
2021-04-16 00:56:28.874 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.list
2021-04-16 00:56:28.875 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:56:28.875 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":4}]
2021-04-16 00:56:28.885 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"list":[{"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Vue å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":2,"name":"Vue å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Python å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":3,"name":"Python å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Mysql å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":4,"name":"Mysql å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0}],"total":7},"success":true}
2021-04-16 00:56:28.885 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š12 ms -------------
2021-04-16 00:56:29.750 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:56:29.751 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/list GET
2021-04-16 00:56:29.751 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.list
2021-04-16 00:56:29.751 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:56:29.751 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":4}]
2021-04-16 00:56:29.756 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"list":[{"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Vue å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":2,"name":"Vue å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Python å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":3,"name":"Python å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Mysql å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":4,"name":"Mysql å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0}],"total":7},"success":true}
2021-04-16 00:56:29.756 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2021-04-16 00:56:30.733 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:56:30.733 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:56:30.733 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2021-04-16 00:56:30.733 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find/1 GET
2021-04-16 00:56:30.733 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.find
2021-04-16 00:56:30.733 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.findContent
2021-04-16 00:56:30.733 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:56:30.733 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:56:30.733 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [1]
2021-04-16 00:56:30.734 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [1]
2021-04-16 00:56:30.737 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},"success":true}
2021-04-16 00:56:30.737 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2021-04-16 00:56:30.737 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":"# å®Œæ•´é¡¹ç›®æ­å»ºæµç¨‹\n\nè™½è¯´ SpringBoot ç›¸è¾ƒäº SSM æ¡†æ¶ï¼Œå¤§å¤§å‡è½»äº†é…ç½®çš„ç¹çï¼Œä½†æ˜¯ï¼Œè¦æ•´åˆ MyBatis ï¼Œç»Ÿä¸€å¼‚å¸¸å¤„ç†ï¼ŒVueç­‰ä¸€ç³»åˆ—ä¸œè¥¿ï¼Œè¿˜æ˜¯è¦è´¹ä¸€ç•ªåŠ²çš„ã€‚\n\nè¿™æ¬¡å°†åˆ›å»ºçš„æ•´ä¸ªæµç¨‹è®°å½•ä¸‹æ¥ï¼Œæ–¹ä¾¿ä»¥åçš„é¡¹ç›®æ­å»ºã€‚\n\nè¦æ­å»ºä¸€ä¸ªå®Œæˆçš„å‰åç«¯åˆ†ç¦»é¡¹ç›®ï¼Œåˆ†ä¸ºè¿™ä¹ˆå‡ ä¸ªéƒ¨åˆ†ï¼š==æ•°æ®åº“ã€åç«¯ã€å‰ç«¯==\n\nå¦‚æœæ˜¯ä¸ºå¾®ä¿¡å°ç¨‹åºæ­å»ºä¸€ä¸ªåç«¯æœåŠ¡ï¼Œé‚£å°±åªè¦çœ‹åˆ°==æ•°æ®åº“ã€åç«¯==å°±å¯ä»¥äº†\n\n\n\n## æ•°æ®åº“\n\nä¸€èˆ¬åœ¨æ–°å»ºé¡¹ç›®çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¼šé€‰æ‹©ä¸“é—¨ä¸ºè¿™ä¸ªé¡¹ç›®æ–°å»ºä¸€ä¸ªç”¨æˆ·ï¼Œå¹¶ä¸ºè¿™ä¸ªç”¨æˆ·ï¼Œèµ‹äºˆåªå±äºè¿™ä¸€ä¸ªé¡¹ç›®çš„æ‰€æœ‰æƒé™\n\n\n\n### 1. **è¿æ¥ admin**\n\nåªæœ‰ admin æœ‰æ‰€æœ‰æƒé™\n\næˆ‘çš„æ•°æ®åº“ admin çš„è´¦æˆ·åå’Œå¯†ç æ˜¯ï¼š\n\n**è´¦æˆ·ï¼š**admin\n\n**å¯†ç ï¼š**123\n\n![image-20210411002100312](https://gitee.com/faro/images/raw/master/img/20210411003334.png)\n\n\n\n### 2. **æ–°å»ºæ•°æ®åº“**\n\nå…¶å­—ç¬¦ç±»å‹ä¸€å®šè¦é€‰æ‹©==utf8mb4==ï¼Œè¿™æ‰æ˜¯çœŸæ­£çš„ utf8ï¼Œæ”¯æŒè¡¨æƒ…ç¬¦å·\n\n![image-20210411002304858](https://gitee.com/faro/images/raw/master/img/20210411002304.png)\n\n### 3. **ä¸ºè¿™ä¸ªæ•°æ®åº“ï¼Œä¸“é—¨å»ºä¸€ä¸ªç”¨æˆ·**\n\nå¼€å‘ç¯å¢ƒä¸­ï¼Œå°±å°†å¯†ç å’Œç”¨æˆ·åè®¾ç½®æˆä¸€æ ·çš„ï¼Œè¿™æ ·ä¸ä¼šå¿˜è®°\n\nhost è®¾ç½®ä¸º localhost\n\n![image-20210411002742750](https://gitee.com/faro/images/raw/master/img/20210411002742.png)\n\n\n\n### 4. **ä¸ºè¿™ä¸ªç”¨æˆ·ï¼Œæˆäºˆå¯¹åº”æ•°æ®åº“çš„å…¨éƒ¨æƒé™**\n\n![image-20210411003034426](https://gitee.com/faro/images/raw/master/img/20210411003034.png)\n\n![image-20210411002821790](https://gitee.com/faro/images/raw/master/img/20210414201958.png)\n\n### 5. **å¯¹å½“å‰ç”¨æˆ·ï¼Œå»ºç«‹è¿æ¥**\n\n![image-20210411002945727](https://gitee.com/faro/images/raw/master/img/20210411002945.png)\n\n\n\n\n\n## åç«¯\n\nå…³äº Mavenã€tomcat çš„ä¸‹è½½é…ç½®ï¼Œè¿™é‡Œå°±ä¸è´¹ç¬”å¢¨å»è®²è§£äº†ã€‚å¦‚æœ‰éœ€è¦ï¼Œå¯ä»¥è‡ªè¡Œç™¾åº¦æŸ¥æ‰¾ã€‚\n\n### 1. æ–°å»º SpringBoot é¡¹ç›®\n\n* ç‚¹å‡» `SpringInitiallizr`ï¼Œæ–°å»ºé¡¹ç›®\n\n![image-20210414200239335](https://gitee.com/faro/images/raw/master/img/20210414200239.png)\n\n* é€‰æ‹©é»˜è®¤ä¾èµ–çš„åŒ…\n\n![image-20210414200420395](https://gitee.com/faro/images/raw/master/img/20210414200420.png)\n\n![image-20210414200533694](https://gitee.com/faro/images/raw/master/img/20210414200533.png)\n\n![image-20210414200611051](https://gitee.com/faro/images/raw/master/img/20210414200611.png)\n\n* é€‰æ‹©å­˜æ”¾è·¯å¾„\n\n![image-20210414200656633](https://gitee.com/faro/images/raw/master/img/20210414200656.png)\n\n* æ–°å»ºå®Œæˆåï¼Œé¡¹ç›®ç›®å½•å¦‚ä¸‹\n\n![image-20210414200752152](https://gitee.com/faro/images/raw/master/img/20210414200752.png)\n\n\n\n### 2. æ›´æ”¹å¯åŠ¨ç±»ä½ç½®\n\n* æ–°å»º config åŒ…ï¼Œå°†å¯åŠ¨ç±»æ”¾è¿›å»\n\n![image-20210414201018806](https://gitee.com/faro/images/raw/master/img/20210414201018.png)\n\n\n\n* ä¸ºå¯åŠ¨ç±»æ·»åŠ æ³¨è§£\n\næ³¨è§£å†…çš„ä¿¡æ¯ï¼Œæ˜¯é¡¹ç›®åç§°\n\n```java\n@ComponentScan(\"weixindemo\")\n```\n\n![image-20210414201210978](https://gitee.com/faro/images/raw/master/img/20210414201211.png)\n\n\n\n### 3. IDEA æ•°æ®åº“é…ç½®\n\n* IDEA è¿æ¥æ•°æ®åº“\n\n![image-20210414220153821](https://gitee.com/faro/images/raw/master/img/20210414220153.png)\n\n![image-20210414221502868](https://gitee.com/faro/images/raw/master/img/20210414221502.png)\n\n\n\n* æ·»åŠ  sql è„šæœ¬\n\næ–°å»º sql æ–‡ä»¶å¤¹ï¼Œå»ºç«‹`all.sql`æ–‡ä»¶\n\n![image-20210414221647283](https://gitee.com/faro/images/raw/master/img/20210414221647.png)\n\n\n\næˆ‘ä»¬åœ¨ sql è„šæœ¬ä¸­æ·»åŠ æµ‹è¯•ç”¨æ•°æ®ï¼Œå¹¶æ‰§è¡Œ\n\n```sql\n\n# æµ‹è¯•è¡¨\ndrop table if exists `test`;\ncreate table `test` (\n  `id` bigint not null comment 'id',\n  `name` varchar(50) comment 'åç§°',\n  `password` varchar(50) comment 'å¯†ç ',\n  primary key (`id`)\n) engine=innodb default charset=utf8mb4 comment='æµ‹è¯•';\n\ninsert into `test` (id, name, password) values (1, 'æµ‹è¯•', 'password');       \n```\n\nå¯ä»¥çœ‹åˆ°ï¼Œæ•°æ®åº“å·²å»ºç«‹\n\n![image-20210415000115932](https://gitee.com/faro/images/raw/master/img/20210415000131.png)\n\n\n\n### 4. é…ç½® MyBatis\n\n* åœ¨ `resource`æ–‡ä»¶å¤¹ä¸‹ï¼Œæ–°å»º `mapper`æ–‡ä»¶å¤¹\n\nè¿™æ˜¯ç”¨æ¥å­˜æ”¾ MyBatis çš„å®ç°çš„\n\n![image-20210414201459632](https://gitee.com/faro/images/raw/master/img/20210414201459.png)\n\n\n\n* æ–°å»º pojo åŒ…\n\npojo åŒ…ç”¨æ¥å­˜æ”¾å®ä½“ç±»\n\n![image-20210415000316772](https://gitee.com/faro/images/raw/master/img/20210415000316.png)\n\n\n\n* åœ¨é¡¹ç›®ä¸‹ï¼Œæ–°å»º mapper åŒ…ï¼Œç”¨æ¥å­˜æ”¾æ¥å£\n\n![image-20210415000711989](https://gitee.com/faro/images/raw/master/img/20210415000712.png)\n\n\n\n* å°†é…ç½®æ–‡ä»¶åç¼€æ”¹ä¸º`.yml`\n\næˆ‘ä¸ªäººä¹ æƒ¯ä½¿ç”¨`.yml`è¿›è¡Œä½ç½®\n\n![image-20210414201610045](https://gitee.com/faro/images/raw/master/img/20210414201610.png)\n\n\n\n* æ·»åŠ  `Mybatis`é…ç½®\n\nè¿™é‡Œï¼Œè¦æ·»åŠ æ•°æ®æºï¼Œå’Œ MyBatis çš„é…ç½®ï¼Œéƒ¨åˆ†åœ°æ–¹ï¼Œè¦æ ¹æ®å®é™…é¡¹ç›®ï¼Œè¿›è¡Œä¿®æ”¹\n\n```yml\nspring:\n  datasource:\n    url: jdbc:mysql://localhost:3306/weixindemo?useUnicode=true&characterEncoding=utf-8\n    username: weixindemo\n    password: weixindemo\n    driver-class-name: com.mysql.cj.jdbc.Driver\n    \n    \n# æ•´åˆMybatis\nmybatis:\n  # ** è¡¨ç¤ºåœ¨mapperä¸‹ä¸ç®¡æœ‰å¤šå°‘æ–‡ä»¶å¤¹ï¼Œéƒ½å¯ä»¥å…¨éƒ¨è¯†åˆ«\n  mapper-locations: classpath:/mapper/**/*.xml\n  type-aliases-package: weixindemo.pojo\n  #  æ‰“å°sqlç›¸å…³çš„æ—¥å¿—ä¿¡æ¯\n  configuration:\n    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl\n```\n\n![image-20210415000535841](https://gitee.com/faro/images/raw/master/img/20210415000535.png)\n\n\n\n* æ·»åŠ ç«¯å£é…ç½®\n\nå› ä¸º vue ä¹Ÿæ˜¯ç”¨çš„8080ç«¯å£ï¼Œæˆ‘ä»¬ä¸èƒ½å’Œå®ƒé‡äº†\n\n```yml\nserver:\n  port: 8880\n```\n\n\n\n* å¯åŠ¨ç±»æ·»åŠ `mapper`æ¥å£æ‰«æè·¯å¾„\n\n```java\n@MapperScan(\"weixindemo.mapper\") //mybatis mapperæ¥å£æ‰«æ\n```\n\n![image-20210415000824262](https://gitee.com/faro/images/raw/master/img/20210415000824.png)\n\n\n\n### 5. MVC åŒ…å»ºç«‹\n\næˆ‘ä»¬è¿˜è¦å»ºç«‹ ==service==ï¼Œ==util==ï¼Œ==controller==åŒ…\n\n![image-20210415001226689](https://gitee.com/faro/images/raw/master/img/20210415001226.png)\n\n![image-20210415001237989](https://gitee.com/faro/images/raw/master/img/20210415001238.png)\n\n\n\n### 5. æµ‹è¯• Mybatis é…ç½®\n\né…ç½®åˆ°è¿™ä¸€æ­¥ï¼Œè¦å¯¹ä¹‹å‰çš„é…ç½®ï¼Œè¿›è¡Œä¸€ä¸ªæµ‹è¯•\n\n* pojo ä¸­ï¼Œæ–°å»º Test å®ä½“ç±»\n\n![image-20210415001028711](https://gitee.com/faro/images/raw/master/img/20210415001028.png)\n\n```java\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Test {\n    private Integer id;\n    private String name;\n}\n```\n\n\n\n* mapper åŒ…ä¸­ï¼Œæ–°å»º TestMapper æ¥å£\n\n![image-20210415001403532](https://gitee.com/faro/images/raw/master/img/20210415001420.png)\n\n```java\n@Repository\n@Mapper\npublic interface TestMapper {\n    List<Test> getList();\n}\n```\n\n\n\n* resources ä¸‹çš„ mapper æ–‡ä»¶å¤¹ä¸­ï¼Œå¢åŠ  TestMapper.xml å®ç°\n\n  ![image-20210415002153386](https://gitee.com/faro/images/raw/master/img/20210415002153.png)\n\nå…·ä½“å†…å®¹ï¼Œè¦æ ¹æ®å®é™…é¡¹ç›®ä¿®æ”¹\n\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n<!DOCTYPE mapper PUBLIC \"-//mybatis.org//DTD Mapper 3.0//EN\"\n    \"http://mybatis.org/dtd/mybatis-3-mapper.dtd\">\n\n<!--namespaceè¦å’Œæ¥å£çš„ä½ç½®å’Œåå­—å¯¹åº”-->\n<mapper namespace=\"weixindemo.mapper.TestMapper\">\n\n    <select id=\"getList\" resultType=\"weixindemo.pojo.Test\">\n        select * from test\n    </select>\n\n</mapper>\n```\n\n![image-20210415002240288](https://gitee.com/faro/images/raw/master/img/20210415002240.png)\n\n\n\n* åœ¨ service åŒ…ä¸‹ï¼Œæ–°å»º TestService\n\n![](https://gitee.com/faro/images/raw/master/img/20210415002439.png)\n\nåˆ«å¿˜äº†åŠ ä¸Š @Service æ³¨è§£\n\n```java\n@Service\npublic class TestService {\n\n    @Autowired\n    private TestMapper mapper;\n\n    public List<Test> getList() {\n        return mapper.getList();\n    }\n}\n```\n\n\n\n* åœ¨ controlleråŒ…ä¸‹ï¼Œæ–°å»º TestController\n\n![image-20210415002611361](https://gitee.com/faro/images/raw/master/img/20210415002611.png)\n\n```java\n@RestController\npublic class TestController {\n\n    @Autowired\n    private TestService testService;\n    \n\n    @RequestMapping(\"/test/list\")\n    public List<Test> list() {\n        return testService.getList();\n    }\n\n}\n```\n\n\n\n* é‡å¯é¡¹ç›®\n\n\n\n* æ–°å»º http æ–‡ä»¶ï¼Œç¼–å†™ http æµ‹è¯•è„šæœ¬ï¼Œæ‰§è¡Œ\n\n![image-20210415002803589](https://gitee.com/faro/images/raw/master/img/20210415002803.png)\n\n```http\nGET http://localhost:8880/test/list\nAccept: application/json\n\n###\n```\n\n\n\næœ€åæˆåŠŸä»æ¥å£ä¸­è·å–æ•°æ®åº“ä¸­çš„æ•°æ®ï¼Œè¯´æ˜æˆ‘ä»¬ä¹‹å‰é…ç½®çš„éƒ½æ²¡æœ‰é”™è¯¯ï¼Œå¯ä»¥è¿›è¡Œä¸‹é¢çš„æ“ä½œ\n\n![image-20210415003021769](https://gitee.com/faro/images/raw/master/img/20210415003021.png)\n\n\n\n### 6. MyBatis ä»£ç ç”Ÿæˆå™¨\n\næˆ‘ä»¬ä¸å¯èƒ½å»å†™æ‰€æœ‰æŒä¹…å±‚çš„å®ç°ï¼Œä¸šåŠ¡ä¸­ï¼Œè¿™éƒ¨åˆ†éƒ½æ˜¯è‡ªåŠ¨ç”Ÿæˆçš„\n\n\n\n* å¯¼å…¥ Maven ä¾èµ–\n\næ³¨æ„ï¼Œ==æ˜¯æ”¾åœ¨`plugiuns`ä¸‹é¢çš„==\n\n```xml\n<!-- mybatis generator è‡ªåŠ¨ç”Ÿæˆä»£ç æ’ä»¶ -->\n            <plugin>\n                <groupId>org.mybatis.generator</groupId>\n                <artifactId>mybatis-generator-maven-plugin</artifactId>\n                <version>1.4.0</version>\n                <configuration>\n                    <configurationFile>src/main/resources/generator/generator-config.xml</configurationFile>\n                    <overwrite>true</overwrite>\n                    <verbose>true</verbose>\n                </configuration>\n                <dependencies>\n                    <dependency>\n                        <groupId>mysql</groupId>\n                        <artifactId>mysql-connector-java</artifactId>\n                        <version>8.0.22</version>\n                    </dependency>\n                </dependencies>\n            </plugin>\n```\n\n\n\n* å»ºç«‹ä»£ç”Ÿæˆå™¨ä½ç½®\n\npomæ–‡ä»¶ä¸­ï¼Œæ˜¾ç¤ºäº†è¦åˆ›å»ºçš„ä»£ç ç”Ÿæˆå™¨çš„ä½ç½®`src/main/resources/generator/generator-config.xml`\n\n```xml\n<configurationFile>\n  src/main/resources/generator/generator-config.xml\n</configurationFile>\n```\n\n![image-20210323131202189](https://gitee.com/faro/images/raw/master/img/20210323131202.png)\n\n\n\n* ä»£ç ç”Ÿæˆå™¨ä»£ç \n\nä»`jdbcConnection`å¼€å§‹ï¼Œåˆ«å¿˜äº†==æ ¹æ®é¡¹ç›®è¿›è¡Œä¿®æ”¹==\n\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<!DOCTYPE generatorConfiguration\n        PUBLIC \"-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN\"\n        \"http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd\">\n\n<generatorConfiguration>\n    <context id=\"Mysql\" targetRuntime=\"MyBatis3\" defaultModelType=\"flat\">\n\n        <!-- è‡ªåŠ¨æ£€æŸ¥å…³é”®å­—ï¼Œä¸ºå…³é”®å­—å¢åŠ åå¼•å· -->\n        <property name=\"autoDelimitKeywords\" value=\"true\"/>\n        <property name=\"beginningDelimiter\" value=\"`\"/>\n        <property name=\"endingDelimiter\" value=\"`\"/>\n\n        <!--è¦†ç›–ç”ŸæˆXMLæ–‡ä»¶-->\n        <plugin type=\"org.mybatis.generator.plugins.UnmergeableXmlMappersPlugin\" />\n        <!-- ç”Ÿæˆçš„å®ä½“ç±»æ·»åŠ toString()æ–¹æ³• -->\n        <plugin type=\"org.mybatis.generator.plugins.ToStringPlugin\"/>\n\n        <!-- ä¸ç”Ÿæˆæ³¨é‡Š -->\n        <commentGenerator>\n            <property name=\"suppressAllComments\" value=\"true\"/>\n        </commentGenerator>\n\n        <jdbcConnection driverClass=\"com.mysql.cj.jdbc.Driver\"\n                        connectionURL=\"jdbc:mysql://localhost:3306/wiki?useUnicode=true&amp;characterEncoding=utf-8\"\n                        userId=\"wiki\"\n                        password=\"123456\">\n        </jdbcConnection>\n\n        <!-- domainç±»çš„ä½ç½® -->\n        <javaModelGenerator targetProject=\"src/main/java\"\n                            targetPackage=\"top.faroz.pojo\"/>\n\n        <!-- mapper xmlçš„ä½ç½® -->\n        <sqlMapGenerator targetProject=\"src/main/resources\"\n                         targetPackage=\"mapper\"/>\n\n        <!-- mapperç±»çš„ä½ç½® -->\n        <javaClientGenerator targetProject=\"src/main/java\"\n                             targetPackage=\"top.faroz.mapper\"\n                             type=\"XMLMAPPER\"/>\n\n        <table tableName=\"demo\" domainObjectName=\"Demo\"/>\n        <!--<table tableName=\"ebook\"/>-->\n        <!--<table tableName=\"category\"/>-->\n        <!--<table tableName=\"doc\"/>-->\n        <!--<table tableName=\"content\"/>-->\n        <!--<table tableName=\"user\"/>-->\n        <!--<table tableName=\"ebook_snapshot\"/>-->\n    </context>\n</generatorConfiguration>\n```\n\n\n\n* æ–°å»ºä¸€ä¸ªmavenå¯åŠ¨é¡¹\n\n![image-20210411015300856](https://gitee.com/faro/images/raw/master/img/20210411015300.png)\n\n![image-20210411015346116](https://gitee.com/faro/images/raw/master/img/20210411015346.png)\n\n```bash\nmybatis-generator:generate -e\n```\n\n![image-20210411015516818](https://gitee.com/faro/images/raw/master/img/20210411015516.png)\n\n\n\n### 7. æµ‹è¯•ä»£ç ç”Ÿæˆå™¨\n\nä»£ç ç”Ÿæˆå™¨çš„å·¥ä½œåŸç†ï¼Œæ˜¯ä»æ•°æ®åº“ä¸­å–å‡ºè¡¨ä¿¡æ¯ï¼Œç„¶åæ ¹æ®è¡¨ä¿¡æ¯ï¼Œå»æ„é€ æŒä¹…å±‚ä»£ç ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬è¦å†å»å»ºä¸€ä¸ªè¡¨\n\n\n\n* all.sql æ·»åŠ  demo è¡¨çš„å¢åŠ  SQL è¯­å¥ï¼Œå¹¶æ‰§è¡Œ\n\n```sql\n# demoåˆ—è¡¨\ndrop table if exists `demo`;\ncreate table `demo` (\n    `id` bigint not null comment 'id',\n    `name` varchar(50) comment 'åç§°',\n    primary key (`id`)\n) engine=innodb default charset =utf8mb4 comment 'æµ‹è¯•';\n\ninsert into `demo` (id,name) values(2,'æµ‹è¯•2');\n```\n\n\n\n* åœ¨ä»£ç ç”Ÿæˆå™¨æœ€åçš„éƒ¨åˆ†ï¼Œå¡«ä¸Šè¦ç”Ÿæˆçš„è¡¨å\n\n![image-20210415012438872](https://gitee.com/faro/images/raw/master/img/20210415012439.png)\n\n\n\n* æ‰§è¡Œ\n\n![image-20210415012552449](https://gitee.com/faro/images/raw/master/img/20210415012552.png)\n\n\n\n* æ‰§è¡ŒæˆåŠŸï¼Œä¼šç”Ÿæˆ 4 ä¸ªæ–°æ–‡ä»¶\n\n![image-20210415012630004](https://gitee.com/faro/images/raw/master/img/20210415012630.png)\n\n\n\n* æˆ‘ä»¬æ¨¡ä»¿ Testï¼Œå»å†™ Demoçš„ Service å’Œ Controller ä»£ç \n\n```java\n@RestController\npublic class DemoController {\n\n    @Autowired\n    private DemoService demoService;\n\n    @RequestMapping(\"/demo/list\")\n    public List<Demo> list() {\n        return demoService.getList();\n    }\n}\n```\n\n```java\n@Service\npublic class DemoService {\n\n    @Resource\n    private DemoMapper demoMapper;\n\n    public List<Demo> getList() {\n        List<Demo> list = demoMapper.selectByExample(null);\n        return list;\n    }\n}\n```\n\n\n\n* æ·»åŠ  demo çš„ http æµ‹è¯•è„šæœ¬\n\n```http\nGET http://localhost:8880/demo/list\nAccept: application/json\n\n###\n```\n\næµ‹è¯•æˆåŠŸï¼Œè¯´æ˜æˆ‘ä»¬ç”¨ä»£ç ç”Ÿæˆå™¨ç”Ÿæˆçš„ä»£ç æ²¡æœ‰é—®é¢˜\n\n![image-20210415013323695](https://gitee.com/faro/images/raw/master/img/20210415013323.png)\n\n\n\n### 8. è§£å†³å‰åç«¯è·¨åŸŸé—®é¢˜\n\nè™½ç„¶ç°åœ¨è¿˜æ²¡æœ‰æ„å»ºå‰ç«¯é¡¹ç›®ï¼Œä½†æ˜¯åé¢ï¼Œä¼šå‡ºç°è·¨åŸŸé—®é¢˜\n\n\n\n* æ–°å»º CorsConfig ç±»\n\n![image-20210415013643183](https://gitee.com/faro/images/raw/master/img/20210415013643.png)\n\n\n\n* ä»£ç å¦‚ä¸‹\n\nä¸ç”¨æ”¹åŠ¨ï¼Œç›´æ¥ç”¨ï¼Œåˆ«å¿˜äº†åŠ ä¸Š==@Configuration==æ³¨è§£\n\n```java\n@Configuration\npublic class CorsConfig implements WebMvcConfigurer {\n\n    @Override\n    public void addCorsMappings(CorsRegistry registry) {\n        registry.addMapping(\"/**\")\n                .allowedOriginPatterns(\"*\")\n                .allowedHeaders(CorsConfiguration.ALL)\n                .allowedMethods(CorsConfiguration.ALL)\n                .allowCredentials(true)\n                .maxAge(3600); // 1å°æ—¶å†…ä¸éœ€è¦å†é¢„æ£€ï¼ˆå‘OPTIONSè¯·æ±‚ï¼‰\n    }\n}\n```\n\n\n\n### 9. æ·»åŠ é›ªèŠ±ç®—æ³•å·¥å…·ç±»\n\né›ªèŠ±ç®—æ³•ï¼Œç”¨æ¥ç”Ÿæˆå”¯ä¸€ ID\n\n\n\n* æ–°å»º SnowFlake å·¥å…·ç±»\n\n![image-20210415014504164](https://gitee.com/faro/images/raw/master/img/20210415014504.png)\n\n\n\n* ä»£ç å¦‚ä¸‹\n\nåˆ«å¿˜äº†åŠ ä¸Š @Component æ³¨è§£\n\n```java\n@Component\npublic class SnowFlake {\n    /**\n     * èµ·å§‹çš„æ—¶é—´æˆ³\n     */\n    private final static long START_STMP = 1609459200000L; // 2021-01-01 00:00:00\n\n    /**\n     * æ¯ä¸€éƒ¨åˆ†å ç”¨çš„ä½æ•°\n     */\n    private final static long SEQUENCE_BIT = 12; //åºåˆ—å·å ç”¨çš„ä½æ•°\n    private final static long MACHINE_BIT = 5;   //æœºå™¨æ ‡è¯†å ç”¨çš„ä½æ•°\n    private final static long DATACENTER_BIT = 5;//æ•°æ®ä¸­å¿ƒå ç”¨çš„ä½æ•°\n\n    /**\n     * æ¯ä¸€éƒ¨åˆ†çš„æœ€å¤§å€¼\n     */\n    private final static long MAX_DATACENTER_NUM = -1L ^ (-1L << DATACENTER_BIT);\n    private final static long MAX_MACHINE_NUM = -1L ^ (-1L << MACHINE_BIT);\n    private final static long MAX_SEQUENCE = -1L ^ (-1L << SEQUENCE_BIT);\n\n    /**\n     * æ¯ä¸€éƒ¨åˆ†å‘å·¦çš„ä½ç§»\n     */\n    private final static long MACHINE_LEFT = SEQUENCE_BIT;\n    private final static long DATACENTER_LEFT = SEQUENCE_BIT + MACHINE_BIT;\n    private final static long TIMESTMP_LEFT = DATACENTER_LEFT + DATACENTER_BIT;\n\n    private long datacenterId = 1;  //æ•°æ®ä¸­å¿ƒ\n    private long machineId = 1;     //æœºå™¨æ ‡è¯†\n    private long sequence = 0L; //åºåˆ—å·\n    private long lastStmp = -1L;//ä¸Šä¸€æ¬¡æ—¶é—´æˆ³\n\n    public SnowFlake() {\n    }\n\n    public SnowFlake(long datacenterId, long machineId) {\n        if (datacenterId > MAX_DATACENTER_NUM || datacenterId < 0) {\n            throw new IllegalArgumentException(\"datacenterId can't be greater than MAX_DATACENTER_NUM or less than 0\");\n        }\n        if (machineId > MAX_MACHINE_NUM || machineId < 0) {\n            throw new IllegalArgumentException(\"machineId can't be greater than MAX_MACHINE_NUM or less than 0\");\n        }\n        this.datacenterId = datacenterId;\n        this.machineId = machineId;\n    }\n\n    /**\n     * äº§ç”Ÿä¸‹ä¸€ä¸ªID\n     *\n     * @return\n     */\n    public synchronized long nextId() {\n        long currStmp = getNewstmp();\n        if (currStmp < lastStmp) {\n            throw new RuntimeException(\"Clock moved backwards.  Refusing to generate id\");\n        }\n\n        if (currStmp == lastStmp) {\n            //ç›¸åŒæ¯«ç§’å†…ï¼Œåºåˆ—å·è‡ªå¢\n            sequence = (sequence + 1) & MAX_SEQUENCE;\n            //åŒä¸€æ¯«ç§’çš„åºåˆ—æ•°å·²ç»è¾¾åˆ°æœ€å¤§\n            if (sequence == 0L) {\n                currStmp = getNextMill();\n            }\n        } else {\n            //ä¸åŒæ¯«ç§’å†…ï¼Œåºåˆ—å·ç½®ä¸º0\n            sequence = 0L;\n        }\n\n        lastStmp = currStmp;\n\n        return (currStmp - START_STMP) << TIMESTMP_LEFT //æ—¶é—´æˆ³éƒ¨åˆ†\n                | datacenterId << DATACENTER_LEFT       //æ•°æ®ä¸­å¿ƒéƒ¨åˆ†\n                | machineId << MACHINE_LEFT             //æœºå™¨æ ‡è¯†éƒ¨åˆ†\n                | sequence;                             //åºåˆ—å·éƒ¨åˆ†\n    }\n\n    private long getNextMill() {\n        long mill = getNewstmp();\n        while (mill <= lastStmp) {\n            mill = getNewstmp();\n        }\n        return mill;\n    }\n\n    private long getNewstmp() {\n        return System.currentTimeMillis();\n    }\n\n    // public static void main(String[] args) throws ParseException {\n    //     // æ—¶é—´æˆ³\n    //     // System.out.println(System.currentTimeMillis());\n    //     // System.out.println(new Date().getTime());\n    //     //\n    //     // String dateTime = \"2021-01-01 08:00:00\";\n    //     // SimpleDateFormat sdf = new SimpleDateFormat(\"yyyy-MM-dd hh:mm:ss\");\n    //     // System.out.println(sdf.parse(dateTime).getTime());\n    //\n    //     SnowFlake snowFlake = new SnowFlake(1, 1);\n    //\n    //     long start = System.currentTimeMillis();\n    //     for (int i = 0; i < 10; i++) {\n    //         System.out.println(snowFlake.nextId());\n    //         System.out.println(System.currentTimeMillis() - start);\n    //     }\n    // }\n\n}\n```\n\n\n\n\n\n### 10. æ·»åŠ  AOP\n\nAOP ç”¨æ¥æ‰“å°æ¥å£æ—¥å¿—ï¼Œæ–¹ä¾¿åæœŸè°ƒè¯•\n\n\n\n* Maven ä¸­å¼•å…¥ fastjsonï¼Œå› ä¸º æˆ‘ä»¬çš„ç±»ä¸­è¦ç”¨\n\n```xml\n <!--fastjson-->\n<dependency>\n  <groupId>com.alibaba</groupId>\n  <artifactId>fastjson</artifactId>\n  <version>1.2.70</version>\n</dependency>\n```\n\n\n\n* Maven å¼•å…¥ AOP\n\n```xml\n<!--å¯¼å…¥aop-->\n<dependency>\n  <groupId>org.springframework.boot</groupId>\n  <artifactId>spring-boot-starter-aop</artifactId>\n</dependency>\n```\n\n\n\n* æ·»åŠ  RequestContext å·¥å…·ç±»\n\nè¿™ä¸ªæ˜¯åæœŸä¸ºäº†æ‰“å° WebSocket æ—¥å¿—çš„\n\n![image-20210415014912415](https://gitee.com/faro/images/raw/master/img/20210415014912.png)\n\n```java\npublic class RequestContext implements Serializable {\n    private static ThreadLocal<String> remoteAddr = new ThreadLocal<>();\n\n    public static String getRemoteAddr() {\n        return remoteAddr.get();\n    }\n\n    public static void setRemoteAddr(String remoteAddr) {\n        weixindemo.util.RequestContext.remoteAddr.set(remoteAddr);\n    }\n}\n```\n\n\n\n* æ–°å»º aspect åŒ…ï¼Œå¹¶æ–°å»º LogAspect ç±»\n\n![image-20210415013942484](https://gitee.com/faro/images/raw/master/img/20210415013942.png)\n\n\n\n**LogAspect ä»£ç å¦‚ä¸‹:**\n\nåˆ‡ç‚¹çš„ä»£ç ï¼Œæˆ‘ä»¬è¦ä¾æ®é¡¹ç›®ä¿®æ”¹\n\n![image-20210415015319943](https://gitee.com/faro/images/raw/master/img/20210415015320.png)\n\n```java\n@Aspect\n@Component\npublic class LogAspect {\n    private final static Logger LOG = LoggerFactory.getLogger(weixindemo.aspect.LogAspect.class);\n\n    @Resource\n    private SnowFlake snowFlake;\n\n    /** å®šä¹‰ä¸€ä¸ªåˆ‡ç‚¹ */\n    @Pointcut(\"execution(public * weixindemo.controller..*Controller.*(..))\")\n    public void controllerPointcut() {}\n\n    // @Resource\n    // private SnowFlake snowFlake;\n\n    @Before(\"controllerPointcut()\")\n    public void doBefore(JoinPoint joinPoint) throws Throwable {\n\n        // å¢åŠ æ—¥å¿—æµæ°´å·\n        MDC.put(\"LOG_ID\", String.valueOf(snowFlake.nextId()));\n\n        // å¼€å§‹æ‰“å°è¯·æ±‚æ—¥å¿—\n        ServletRequestAttributes attributes = (ServletRequestAttributes) RequestContextHolder.getRequestAttributes();\n        HttpServletRequest request = attributes.getRequest();\n        Signature signature = joinPoint.getSignature();\n        String name = signature.getName();\n\n        // æ‰“å°è¯·æ±‚ä¿¡æ¯\n        LOG.info(\"------------- å¼€å§‹ -------------\");\n        LOG.info(\"è¯·æ±‚åœ°å€: {} {}\", request.getRequestURL().toString(), request.getMethod());\n        LOG.info(\"ç±»åæ–¹æ³•: {}.{}\", signature.getDeclaringTypeName(), name);\n        LOG.info(\"è¿œç¨‹åœ°å€: {}\", request.getRemoteAddr());\n\n        RequestContext.setRemoteAddr(getRemoteIp(request));\n\n        // æ‹¿åˆ°æ‰€æœ‰çš„å‚æ•°\n        Object[] args = joinPoint.getArgs();\n        // LOG.info(\"è¯·æ±‚å‚æ•°: {}\", JSONObject.toJSONString(args));\n\n        Object[] arguments  = new Object[args.length];\n        for (int i = 0; i < args.length; i++) {\n            if (args[i] instanceof ServletRequest\n                    || args[i] instanceof ServletResponse\n                    || args[i] instanceof MultipartFile) {\n                continue;\n            }\n            arguments[i] = args[i];\n        }\n        // æ’é™¤å­—æ®µï¼Œæ•æ„Ÿå­—æ®µæˆ–å¤ªé•¿çš„å­—æ®µä¸æ˜¾ç¤º\n        String[] excludeProperties = {\"password\", \"file\"};\n        PropertyPreFilters filters = new PropertyPreFilters();\n        PropertyPreFilters.MySimplePropertyPreFilter excludefilter = filters.addFilter();\n        excludefilter.addExcludes(excludeProperties);\n        LOG.info(\"è¯·æ±‚å‚æ•°: {}\", JSONObject.toJSONString(arguments, excludefilter));\n    }\n\n    @Around(\"controllerPointcut()\")\n    public Object doAround(ProceedingJoinPoint proceedingJoinPoint) throws Throwable {\n        long startTime = System.currentTimeMillis();\n        Object result = proceedingJoinPoint.proceed();\n        // æ’é™¤å­—æ®µï¼Œæ•æ„Ÿå­—æ®µæˆ–å¤ªé•¿çš„å­—æ®µä¸æ˜¾ç¤º\n        String[] excludeProperties = {\"password\", \"file\"};\n        PropertyPreFilters filters = new PropertyPreFilters();\n        PropertyPreFilters.MySimplePropertyPreFilter excludefilter = filters.addFilter();\n        excludefilter.addExcludes(excludeProperties);\n        LOG.info(\"è¿”å›ç»“æœ: {}\", JSONObject.toJSONString(result, excludefilter));\n        LOG.info(\"------------- ç»“æŸ è€—æ—¶ï¼š{} ms -------------\", System.currentTimeMillis() - startTime);\n        return result;\n    }\n\n    /**\n     * ä½¿ç”¨nginxåšåå‘ä»£ç†ï¼Œéœ€è¦ç”¨è¯¥æ–¹æ³•æ‰èƒ½å–åˆ°çœŸå®çš„è¿œç¨‹IP\n     * å½“æˆ‘ä»¬å‘å¸ƒä¸Šçº¿åï¼Œå› ä¸ºå‰ç«¯ã€åç«¯éƒ½æ˜¯ç”¨80ç«¯å£ï¼Œä¼šå†²çª\n     * æ‰€ä»¥ç”¨æˆ·è®¿é—®çš„æ—¶å€™ï¼Œéœ€è¦å…ˆå»è®¿é—® nginxï¼Œç„¶åï¼Œè®© nginx å»åå‘ä»£ç†ï¼Œæ‰¾æˆ‘ä»¬è¦è®¿é—®çš„è·¯å¾„\n     * @param request\n     * @return\n     */\n    public String getRemoteIp(HttpServletRequest request) {\n        String ip = request.getHeader(\"x-forwarded-for\");\n        if (ip == null || ip.length() == 0 || \"unknown\".equalsIgnoreCase(ip)) {\n            ip = request.getHeader(\"Proxy-Client-IP\");\n        }\n        if (ip == null || ip.length() == 0 || \"unknown\".equalsIgnoreCase(ip)) {\n            ip = request.getHeader(\"WL-Proxy-Client-IP\");\n        }\n        if (ip == null || ip.length() == 0 || \"unknown\".equalsIgnoreCase(ip)) {\n            ip = request.getRemoteAddr();\n        }\n        return ip;\n    }\n}\n```\n\n\n\n### 11. è§£å†³å‰åç«¯ Long ç²¾åº¦ä¸¢å¤±é—®é¢˜\n\næˆ‘ä»¬åæœŸä¼šç”¨åˆ° MD5 åŠ å¯†ï¼Œåˆ°æ—¶å€™åç«¯ä¼ åˆ°å‰ç«¯çš„æ—¶å€™ï¼Œå› ä¸º javascript number çš„ç²¾åº¦é—®é¢˜ï¼Œä¼šå‡ºç°æ•°æ®ä¸¢å¤±\n\n\n\n* é…ç½®æ–‡ä»¶æ–°å¢ JacksonConfig ç±»\n\n![image-20210415020223600](https://gitee.com/faro/images/raw/master/img/20210415020223.png)\n\n\n\n* ä»£ç å¦‚ä¸‹\n\n```java\n@Configuration\npublic class JacksonConfig {\n\n    @Bean\n    public ObjectMapper jacksonObjectMapper(Jackson2ObjectMapperBuilder builder) {\n        ObjectMapper objectMapper = builder.createXmlMapper(false).build();\n        SimpleModule simpleModule = new SimpleModule();\n        // simpleModule.addSerializer(Long.class, ToStringSerializer.instance);\n        simpleModule.addSerializer(Long.class, ToStringSerializer.instance);\n        objectMapper.registerModule(simpleModule);\n        return objectMapper;\n    }\n}\n```\n\n\n\n### 12. æ–°å»º req resp åŒ…\n\næˆ‘ä»¬è¦å°†è¯·æ±‚ä¸è¿”å›åŒ…è£…\n\n![image-20210415020648707](https://gitee.com/faro/images/raw/master/img/20210415020648.png)\n\n\n\n### 13. CommonResp\n\nä¸ºäº†æ–¹ä¾¿å‰ç«¯è°ƒç”¨ï¼Œåç«¯çš„ respï¼Œæˆ‘ä»¬å†™ä¸€ä¸ªç»Ÿä¸€çš„è¿”å› CommonResp\n\n![image-20210415020805724](https://gitee.com/faro/images/raw/master/img/20210415020805.png)\n\n**ä»£ç å¦‚ä¸‹ï¼š**\n\n```java\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class CommonResp<T> {\n    /**\n     * è¿”å›æ˜¯å¦æˆåŠŸ\n     */\n    private boolean isSuccess=true;\n\n    /**\n     * è¿”å›å¤±è´¥æ—¶ï¼Œè¿”å›çš„é”™è¯¯ä¿¡æ¯\n     */\n    private String message;\n\n    /**\n     * è¿”å›æˆåŠŸçš„æ—¶å€™ï¼Œè¿”å›çš„å†…å®¹\n     */\n    private T content;\n}\n```\n\n\n\n### 14. è‡ªå®šä¹‰å¼‚å¸¸\n\n* æ–°å»ºå¼‚å¸¸ç±»`BusinessException`å’Œå¼‚å¸¸ä¿¡æ¯æšä¸¾`BusinessExceptionCode`\n\n![image-20210415021357196](https://gitee.com/faro/images/raw/master/img/20210415021357.png)\n\n\n\n* `BusinessException`ä»£ç \n\n```java\npublic class BusinessException extends RuntimeException{\n    private BusinessExceptionCode code;\n\n    public BusinessException (BusinessExceptionCode code) {\n        /**\n         * çˆ¶ç±»æœ‰ä¸ªæˆå‘˜å˜é‡  private String desc\n         * éœ€è¦ä¸ºè¿™ä¸ªæˆå‘˜å˜é‡èµ‹å€¼\n         */\n        super(code.getDesc());\n        this.code = code;\n    }\n\n    public BusinessExceptionCode getCode() {\n        return code;\n    }\n\n    public void setCode(BusinessExceptionCode code) {\n        this.code = code;\n    }\n\n    /**\n     * ä¸å†™å…¥å †æ ˆä¿¡æ¯ï¼Œæé«˜æ€§èƒ½\n     */\n    @Override\n    public Throwable fillInStackTrace() {\n        return this;\n    }\n}\n```\n\n\n\n* `BusinessExceptionCode`ä»£ç \n\n```java\npublic enum BusinessExceptionCode {\n    USER_LOGIN_NAME_EXIST(\"ç™»å½•åå·²å­˜åœ¨\"),\n    LOGIN_USER_ERROR(\"ç”¨æˆ·åä¸å­˜åœ¨æˆ–å¯†ç é”™è¯¯\"),\n    VOTE_REPEAT(\"æ‚¨å·²ç‚¹èµè¿‡\"),\n    ;\n\n    private String desc;\n\n    BusinessExceptionCode(String desc) {\n        this.desc = desc;\n    }\n\n    public String getDesc() {\n        return desc;\n    }\n\n    public void setDesc(String desc) {\n        this.desc = desc;\n    }\n}\n```\n\n\n\n\n\n### 13. ç»Ÿä¸€å¼‚å¸¸å¤„ç†\n\næˆ‘ä»¬æ‰€æœ‰å¼‚å¸¸ï¼Œéƒ½é€šè¿‡è¿™ä¸ªç±»æ¥æ•è·ï¼Œå¹¶ç”Ÿæˆä¸€ä¸ªè¿”å›é”™è¯¯ä¿¡æ¯çš„ CommonResp\n\n\n\n* æ–°å»º ControllerExceptionHandler ç±»\n\n![](https://gitee.com/faro/images/raw/master/img/20210415020947.png)\n\n\n\n* ä»£ç å¦‚ä¸‹\n\nlogger è¦æ ¹æ®é¡¹ç›®æ”¹ä¸€ä¸‹\n\n```java\n/**\n * ç»Ÿä¸€å¼‚å¸¸å¤„ç†ã€æ•°æ®é¢„å¤„ç†ç­‰\n * è¯¥ç±»ç”¨äºæ•è·ç³»ç»Ÿå¼¹å‡ºçš„å¼‚å¸¸\n * å°†å¼‚å¸¸åŒ…è£…æˆä¸€ä¸ª CommonResp\n * ä»è€Œæ–¹ä¾¿å‰ç«¯è°ƒç”¨ï¼Œæ˜¾ç¤ºé”™è¯¯ä¿¡æ¯\n */\n@ControllerAdvice\npublic class ControllerExceptionHandler {\n    private static final Logger LOG = LoggerFactory.getLogger(top.faroz.controller.ControllerExceptionHandler.class);\n\n    /**\n     * æ ¡éªŒå¼‚å¸¸ç»Ÿä¸€å¤„ç†\n     * @param e\n     * @return\n     */\n    @ExceptionHandler(value = BindException.class)\n    @ResponseBody\n    public CommonResp validExceptionHandler(BindException e) {\n        CommonResp commonResp = new CommonResp();\n        LOG.warn(\"å‚æ•°æ ¡éªŒå¤±è´¥ï¼š{}\", e.getBindingResult().getAllErrors().get(0).getDefaultMessage());\n        commonResp.setSuccess(false);\n        commonResp.setMessage(e.getBindingResult().getAllErrors().get(0).getDefaultMessage());\n        return commonResp;\n    }\n\n    /**\n     * æ ¡éªŒå¼‚å¸¸ç»Ÿä¸€å¤„ç†\n     * @param e\n     * @return\n     */\n    @ExceptionHandler(value = BusinessException.class)\n    @ResponseBody\n    public CommonResp validExceptionHandler(BusinessException e) {\n        CommonResp commonResp = new CommonResp();\n        LOG.warn(\"ä¸šåŠ¡å¼‚å¸¸ï¼š{}\", e.getCode().getDesc());\n        commonResp.setSuccess(false);\n        commonResp.setMessage(e.getCode().getDesc());\n        return commonResp;\n    }\n\n    /**\n     * æ ¡éªŒå¼‚å¸¸ç»Ÿä¸€å¤„ç†\n     * @param e\n     * @return\n     */\n    @ExceptionHandler(value = Exception.class)\n    @ResponseBody\n    public CommonResp validExceptionHandler(Exception e) {\n        CommonResp commonResp = new CommonResp();\n        LOG.error(\"ç³»ç»Ÿå¼‚å¸¸ï¼š\", e);\n        commonResp.setSuccess(false);\n        commonResp.setMessage(\"ç³»ç»Ÿå‡ºç°å¼‚å¸¸ï¼Œè¯·è”ç³»ç®¡ç†å‘˜\");\n        return commonResp;\n    }\n}\n```\n\n\n\n### 14. æ·»åŠ æ—¥å¿—è®°å½• logback\n\n* åœ¨ resource ä¸‹ï¼Œæ–°å»ºlogback-spring.xml æ–‡ä»¶\n\n![image-20210411004947139](https://gitee.com/faro/images/raw/master/img/20210411004947.png)\n\n* å†™å…¥å†…å®¹\n\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<configuration>\n    <!-- ä¿®æ”¹ä¸€ä¸‹è·¯å¾„-->\n    <property name=\"PATH\" value=\"./log\"></property>\n\n    <appender name=\"STDOUT\" class=\"ch.qos.logback.core.ConsoleAppender\">\n        <encoder>\n            <Pattern>%d{yyyy-MM-dd HH:mm:ss.SSS} %highlight(%-5level) %blue(%-50logger{50}:%-4line) %thread %msg%n</Pattern>\n            <!--<Pattern>%d{ss.SSS} %highlight(%-5level) %blue(%-30logger{30}:%-4line) %thread %green(%-18X{LOG_ID}) %msg%n</Pattern>-->\n        </encoder>\n    </appender>\n\n    <appender name=\"TRACE_FILE\" class=\"ch.qos.logback.core.rolling.RollingFileAppender\">\n        <file>${PATH}/trace.log</file>\n        <rollingPolicy class=\"ch.qos.logback.core.rolling.TimeBasedRollingPolicy\">\n            <FileNamePattern>${PATH}/trace.%d{yyyy-MM-dd}.%i.log</FileNamePattern>\n            <timeBasedFileNamingAndTriggeringPolicy class=\"ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP\">\n                <maxFileSize>10MB</maxFileSize>\n            </timeBasedFileNamingAndTriggeringPolicy>\n        </rollingPolicy>\n        <layout>\n            <pattern>%d{yyyy-MM-dd HH:mm:ss.SSS} %-5level %-50logger{50}:%-4line %green(%-18X{LOG_ID}) %msg%n</pattern>\n        </layout>\n    </appender>\n\n    <appender name=\"ERROR_FILE\" class=\"ch.qos.logback.core.rolling.RollingFileAppender\">\n        <file>${PATH}/error.log</file>\n        <rollingPolicy class=\"ch.qos.logback.core.rolling.TimeBasedRollingPolicy\">\n            <FileNamePattern>${PATH}/error.%d{yyyy-MM-dd}.%i.log</FileNamePattern>\n            <timeBasedFileNamingAndTriggeringPolicy class=\"ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP\">\n                <maxFileSize>10MB</maxFileSize>\n            </timeBasedFileNamingAndTriggeringPolicy>\n        </rollingPolicy>\n        <layout>\n            <pattern>%d{yyyy-MM-dd HH:mm:ss.SSS} %-5level %-50logger{50}:%-4line %green(%-18X{LOG_ID}) %msg%n</pattern>\n        </layout>\n        <filter class=\"ch.qos.logback.classic.filter.LevelFilter\">\n            <level>ERROR</level>\n            <onMatch>ACCEPT</onMatch>\n            <onMismatch>DENY</onMismatch>\n        </filter>\n    </appender>\n\n    <root level=\"ERROR\">\n        <appender-ref ref=\"ERROR_FILE\" />\n    </root>\n\n    <root level=\"TRACE\">\n        <appender-ref ref=\"TRACE_FILE\" />\n    </root>\n\n    <root level=\"INFO\">\n        <appender-ref ref=\"STDOUT\" />\n    </root>\n</configuration>\n\n```\n\n\n\n### 15. è‡ªå®šä¹‰ banner\n\nresources ä¸‹æ–°å»º banner.txt\n\n![image-20210415023847796](https://gitee.com/faro/images/raw/master/img/20210415023847.png)\n\n\n\né‡Œé¢æ”¾ä¸Šè‡ªå®šä¹‰ banner\n\n```txt\n ********     **     *******     *******         ********\n/**/////     ****   /**////**   **/////**       //////** \n/**         **//**  /**   /**  **     //**           **  \n/*******   **  //** /*******  /**      /**          **   \n/**////   **********/**///**  /**      /**         **    \n/**      /**//////**/**  //** //**     **         **     \n/**      /**     /**/**   //** //*******   ***** ********\n//       //      // //     //   ///////   ///// //////// \n```\n\n\n\n\n","success":true}
2021-04-16 00:56:30.738 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2021-04-16 00:56:35.233 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:56:35.233 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:56:35.233 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find/1 GET
2021-04-16 00:56:35.233 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2021-04-16 00:56:35.233 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.find
2021-04-16 00:56:35.233 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.findContent
2021-04-16 00:56:35.234 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:56:35.234 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:56:35.234 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [1]
2021-04-16 00:56:35.234 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [1]
2021-04-16 00:56:35.236 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},"success":true}
2021-04-16 00:56:35.236 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š3 ms -------------
2021-04-16 00:56:35.240 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":"# å®Œæ•´é¡¹ç›®æ­å»ºæµç¨‹\n\nè™½è¯´ SpringBoot ç›¸è¾ƒäº SSM æ¡†æ¶ï¼Œå¤§å¤§å‡è½»äº†é…ç½®çš„ç¹çï¼Œä½†æ˜¯ï¼Œè¦æ•´åˆ MyBatis ï¼Œç»Ÿä¸€å¼‚å¸¸å¤„ç†ï¼ŒVueç­‰ä¸€ç³»åˆ—ä¸œè¥¿ï¼Œè¿˜æ˜¯è¦è´¹ä¸€ç•ªåŠ²çš„ã€‚\n\nè¿™æ¬¡å°†åˆ›å»ºçš„æ•´ä¸ªæµç¨‹è®°å½•ä¸‹æ¥ï¼Œæ–¹ä¾¿ä»¥åçš„é¡¹ç›®æ­å»ºã€‚\n\nè¦æ­å»ºä¸€ä¸ªå®Œæˆçš„å‰åç«¯åˆ†ç¦»é¡¹ç›®ï¼Œåˆ†ä¸ºè¿™ä¹ˆå‡ ä¸ªéƒ¨åˆ†ï¼š==æ•°æ®åº“ã€åç«¯ã€å‰ç«¯==\n\nå¦‚æœæ˜¯ä¸ºå¾®ä¿¡å°ç¨‹åºæ­å»ºä¸€ä¸ªåç«¯æœåŠ¡ï¼Œé‚£å°±åªè¦çœ‹åˆ°==æ•°æ®åº“ã€åç«¯==å°±å¯ä»¥äº†\n\n\n\n## æ•°æ®åº“\n\nä¸€èˆ¬åœ¨æ–°å»ºé¡¹ç›®çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¼šé€‰æ‹©ä¸“é—¨ä¸ºè¿™ä¸ªé¡¹ç›®æ–°å»ºä¸€ä¸ªç”¨æˆ·ï¼Œå¹¶ä¸ºè¿™ä¸ªç”¨æˆ·ï¼Œèµ‹äºˆåªå±äºè¿™ä¸€ä¸ªé¡¹ç›®çš„æ‰€æœ‰æƒé™\n\n\n\n### 1. **è¿æ¥ admin**\n\nåªæœ‰ admin æœ‰æ‰€æœ‰æƒé™\n\næˆ‘çš„æ•°æ®åº“ admin çš„è´¦æˆ·åå’Œå¯†ç æ˜¯ï¼š\n\n**è´¦æˆ·ï¼š**admin\n\n**å¯†ç ï¼š**123\n\n![image-20210411002100312](https://gitee.com/faro/images/raw/master/img/20210411003334.png)\n\n\n\n### 2. **æ–°å»ºæ•°æ®åº“**\n\nå…¶å­—ç¬¦ç±»å‹ä¸€å®šè¦é€‰æ‹©==utf8mb4==ï¼Œè¿™æ‰æ˜¯çœŸæ­£çš„ utf8ï¼Œæ”¯æŒè¡¨æƒ…ç¬¦å·\n\n![image-20210411002304858](https://gitee.com/faro/images/raw/master/img/20210411002304.png)\n\n### 3. **ä¸ºè¿™ä¸ªæ•°æ®åº“ï¼Œä¸“é—¨å»ºä¸€ä¸ªç”¨æˆ·**\n\nå¼€å‘ç¯å¢ƒä¸­ï¼Œå°±å°†å¯†ç å’Œç”¨æˆ·åè®¾ç½®æˆä¸€æ ·çš„ï¼Œè¿™æ ·ä¸ä¼šå¿˜è®°\n\nhost è®¾ç½®ä¸º localhost\n\n![image-20210411002742750](https://gitee.com/faro/images/raw/master/img/20210411002742.png)\n\n\n\n### 4. **ä¸ºè¿™ä¸ªç”¨æˆ·ï¼Œæˆäºˆå¯¹åº”æ•°æ®åº“çš„å…¨éƒ¨æƒé™**\n\n![image-20210411003034426](https://gitee.com/faro/images/raw/master/img/20210411003034.png)\n\n![image-20210411002821790](https://gitee.com/faro/images/raw/master/img/20210414201958.png)\n\n### 5. **å¯¹å½“å‰ç”¨æˆ·ï¼Œå»ºç«‹è¿æ¥**\n\n![image-20210411002945727](https://gitee.com/faro/images/raw/master/img/20210411002945.png)\n\n\n\n\n\n## åç«¯\n\nå…³äº Mavenã€tomcat çš„ä¸‹è½½é…ç½®ï¼Œè¿™é‡Œå°±ä¸è´¹ç¬”å¢¨å»è®²è§£äº†ã€‚å¦‚æœ‰éœ€è¦ï¼Œå¯ä»¥è‡ªè¡Œç™¾åº¦æŸ¥æ‰¾ã€‚\n\n### 1. æ–°å»º SpringBoot é¡¹ç›®\n\n* ç‚¹å‡» `SpringInitiallizr`ï¼Œæ–°å»ºé¡¹ç›®\n\n![image-20210414200239335](https://gitee.com/faro/images/raw/master/img/20210414200239.png)\n\n* é€‰æ‹©é»˜è®¤ä¾èµ–çš„åŒ…\n\n![image-20210414200420395](https://gitee.com/faro/images/raw/master/img/20210414200420.png)\n\n![image-20210414200533694](https://gitee.com/faro/images/raw/master/img/20210414200533.png)\n\n![image-20210414200611051](https://gitee.com/faro/images/raw/master/img/20210414200611.png)\n\n* é€‰æ‹©å­˜æ”¾è·¯å¾„\n\n![image-20210414200656633](https://gitee.com/faro/images/raw/master/img/20210414200656.png)\n\n* æ–°å»ºå®Œæˆåï¼Œé¡¹ç›®ç›®å½•å¦‚ä¸‹\n\n![image-20210414200752152](https://gitee.com/faro/images/raw/master/img/20210414200752.png)\n\n\n\n### 2. æ›´æ”¹å¯åŠ¨ç±»ä½ç½®\n\n* æ–°å»º config åŒ…ï¼Œå°†å¯åŠ¨ç±»æ”¾è¿›å»\n\n![image-20210414201018806](https://gitee.com/faro/images/raw/master/img/20210414201018.png)\n\n\n\n* ä¸ºå¯åŠ¨ç±»æ·»åŠ æ³¨è§£\n\næ³¨è§£å†…çš„ä¿¡æ¯ï¼Œæ˜¯é¡¹ç›®åç§°\n\n```java\n@ComponentScan(\"weixindemo\")\n```\n\n![image-20210414201210978](https://gitee.com/faro/images/raw/master/img/20210414201211.png)\n\n\n\n### 3. IDEA æ•°æ®åº“é…ç½®\n\n* IDEA è¿æ¥æ•°æ®åº“\n\n![image-20210414220153821](https://gitee.com/faro/images/raw/master/img/20210414220153.png)\n\n![image-20210414221502868](https://gitee.com/faro/images/raw/master/img/20210414221502.png)\n\n\n\n* æ·»åŠ  sql è„šæœ¬\n\næ–°å»º sql æ–‡ä»¶å¤¹ï¼Œå»ºç«‹`all.sql`æ–‡ä»¶\n\n![image-20210414221647283](https://gitee.com/faro/images/raw/master/img/20210414221647.png)\n\n\n\næˆ‘ä»¬åœ¨ sql è„šæœ¬ä¸­æ·»åŠ æµ‹è¯•ç”¨æ•°æ®ï¼Œå¹¶æ‰§è¡Œ\n\n```sql\n\n# æµ‹è¯•è¡¨\ndrop table if exists `test`;\ncreate table `test` (\n  `id` bigint not null comment 'id',\n  `name` varchar(50) comment 'åç§°',\n  `password` varchar(50) comment 'å¯†ç ',\n  primary key (`id`)\n) engine=innodb default charset=utf8mb4 comment='æµ‹è¯•';\n\ninsert into `test` (id, name, password) values (1, 'æµ‹è¯•', 'password');       \n```\n\nå¯ä»¥çœ‹åˆ°ï¼Œæ•°æ®åº“å·²å»ºç«‹\n\n![image-20210415000115932](https://gitee.com/faro/images/raw/master/img/20210415000131.png)\n\n\n\n### 4. é…ç½® MyBatis\n\n* åœ¨ `resource`æ–‡ä»¶å¤¹ä¸‹ï¼Œæ–°å»º `mapper`æ–‡ä»¶å¤¹\n\nè¿™æ˜¯ç”¨æ¥å­˜æ”¾ MyBatis çš„å®ç°çš„\n\n![image-20210414201459632](https://gitee.com/faro/images/raw/master/img/20210414201459.png)\n\n\n\n* æ–°å»º pojo åŒ…\n\npojo åŒ…ç”¨æ¥å­˜æ”¾å®ä½“ç±»\n\n![image-20210415000316772](https://gitee.com/faro/images/raw/master/img/20210415000316.png)\n\n\n\n* åœ¨é¡¹ç›®ä¸‹ï¼Œæ–°å»º mapper åŒ…ï¼Œç”¨æ¥å­˜æ”¾æ¥å£\n\n![image-20210415000711989](https://gitee.com/faro/images/raw/master/img/20210415000712.png)\n\n\n\n* å°†é…ç½®æ–‡ä»¶åç¼€æ”¹ä¸º`.yml`\n\næˆ‘ä¸ªäººä¹ æƒ¯ä½¿ç”¨`.yml`è¿›è¡Œä½ç½®\n\n![image-20210414201610045](https://gitee.com/faro/images/raw/master/img/20210414201610.png)\n\n\n\n* æ·»åŠ  `Mybatis`é…ç½®\n\nè¿™é‡Œï¼Œè¦æ·»åŠ æ•°æ®æºï¼Œå’Œ MyBatis çš„é…ç½®ï¼Œéƒ¨åˆ†åœ°æ–¹ï¼Œè¦æ ¹æ®å®é™…é¡¹ç›®ï¼Œè¿›è¡Œä¿®æ”¹\n\n```yml\nspring:\n  datasource:\n    url: jdbc:mysql://localhost:3306/weixindemo?useUnicode=true&characterEncoding=utf-8\n    username: weixindemo\n    password: weixindemo\n    driver-class-name: com.mysql.cj.jdbc.Driver\n    \n    \n# æ•´åˆMybatis\nmybatis:\n  # ** è¡¨ç¤ºåœ¨mapperä¸‹ä¸ç®¡æœ‰å¤šå°‘æ–‡ä»¶å¤¹ï¼Œéƒ½å¯ä»¥å…¨éƒ¨è¯†åˆ«\n  mapper-locations: classpath:/mapper/**/*.xml\n  type-aliases-package: weixindemo.pojo\n  #  æ‰“å°sqlç›¸å…³çš„æ—¥å¿—ä¿¡æ¯\n  configuration:\n    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl\n```\n\n![image-20210415000535841](https://gitee.com/faro/images/raw/master/img/20210415000535.png)\n\n\n\n* æ·»åŠ ç«¯å£é…ç½®\n\nå› ä¸º vue ä¹Ÿæ˜¯ç”¨çš„8080ç«¯å£ï¼Œæˆ‘ä»¬ä¸èƒ½å’Œå®ƒé‡äº†\n\n```yml\nserver:\n  port: 8880\n```\n\n\n\n* å¯åŠ¨ç±»æ·»åŠ `mapper`æ¥å£æ‰«æè·¯å¾„\n\n```java\n@MapperScan(\"weixindemo.mapper\") //mybatis mapperæ¥å£æ‰«æ\n```\n\n![image-20210415000824262](https://gitee.com/faro/images/raw/master/img/20210415000824.png)\n\n\n\n### 5. MVC åŒ…å»ºç«‹\n\næˆ‘ä»¬è¿˜è¦å»ºç«‹ ==service==ï¼Œ==util==ï¼Œ==controller==åŒ…\n\n![image-20210415001226689](https://gitee.com/faro/images/raw/master/img/20210415001226.png)\n\n![image-20210415001237989](https://gitee.com/faro/images/raw/master/img/20210415001238.png)\n\n\n\n### 5. æµ‹è¯• Mybatis é…ç½®\n\né…ç½®åˆ°è¿™ä¸€æ­¥ï¼Œè¦å¯¹ä¹‹å‰çš„é…ç½®ï¼Œè¿›è¡Œä¸€ä¸ªæµ‹è¯•\n\n* pojo ä¸­ï¼Œæ–°å»º Test å®ä½“ç±»\n\n![image-20210415001028711](https://gitee.com/faro/images/raw/master/img/20210415001028.png)\n\n```java\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Test {\n    private Integer id;\n    private String name;\n}\n```\n\n\n\n* mapper åŒ…ä¸­ï¼Œæ–°å»º TestMapper æ¥å£\n\n![image-20210415001403532](https://gitee.com/faro/images/raw/master/img/20210415001420.png)\n\n```java\n@Repository\n@Mapper\npublic interface TestMapper {\n    List<Test> getList();\n}\n```\n\n\n\n* resources ä¸‹çš„ mapper æ–‡ä»¶å¤¹ä¸­ï¼Œå¢åŠ  TestMapper.xml å®ç°\n\n  ![image-20210415002153386](https://gitee.com/faro/images/raw/master/img/20210415002153.png)\n\nå…·ä½“å†…å®¹ï¼Œè¦æ ¹æ®å®é™…é¡¹ç›®ä¿®æ”¹\n\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n<!DOCTYPE mapper PUBLIC \"-//mybatis.org//DTD Mapper 3.0//EN\"\n    \"http://mybatis.org/dtd/mybatis-3-mapper.dtd\">\n\n<!--namespaceè¦å’Œæ¥å£çš„ä½ç½®å’Œåå­—å¯¹åº”-->\n<mapper namespace=\"weixindemo.mapper.TestMapper\">\n\n    <select id=\"getList\" resultType=\"weixindemo.pojo.Test\">\n        select * from test\n    </select>\n\n</mapper>\n```\n\n![image-20210415002240288](https://gitee.com/faro/images/raw/master/img/20210415002240.png)\n\n\n\n* åœ¨ service åŒ…ä¸‹ï¼Œæ–°å»º TestService\n\n![](https://gitee.com/faro/images/raw/master/img/20210415002439.png)\n\nåˆ«å¿˜äº†åŠ ä¸Š @Service æ³¨è§£\n\n```java\n@Service\npublic class TestService {\n\n    @Autowired\n    private TestMapper mapper;\n\n    public List<Test> getList() {\n        return mapper.getList();\n    }\n}\n```\n\n\n\n* åœ¨ controlleråŒ…ä¸‹ï¼Œæ–°å»º TestController\n\n![image-20210415002611361](https://gitee.com/faro/images/raw/master/img/20210415002611.png)\n\n```java\n@RestController\npublic class TestController {\n\n    @Autowired\n    private TestService testService;\n    \n\n    @RequestMapping(\"/test/list\")\n    public List<Test> list() {\n        return testService.getList();\n    }\n\n}\n```\n\n\n\n* é‡å¯é¡¹ç›®\n\n\n\n* æ–°å»º http æ–‡ä»¶ï¼Œç¼–å†™ http æµ‹è¯•è„šæœ¬ï¼Œæ‰§è¡Œ\n\n![image-20210415002803589](https://gitee.com/faro/images/raw/master/img/20210415002803.png)\n\n```http\nGET http://localhost:8880/test/list\nAccept: application/json\n\n###\n```\n\n\n\næœ€åæˆåŠŸä»æ¥å£ä¸­è·å–æ•°æ®åº“ä¸­çš„æ•°æ®ï¼Œè¯´æ˜æˆ‘ä»¬ä¹‹å‰é…ç½®çš„éƒ½æ²¡æœ‰é”™è¯¯ï¼Œå¯ä»¥è¿›è¡Œä¸‹é¢çš„æ“ä½œ\n\n![image-20210415003021769](https://gitee.com/faro/images/raw/master/img/20210415003021.png)\n\n\n\n### 6. MyBatis ä»£ç ç”Ÿæˆå™¨\n\næˆ‘ä»¬ä¸å¯èƒ½å»å†™æ‰€æœ‰æŒä¹…å±‚çš„å®ç°ï¼Œä¸šåŠ¡ä¸­ï¼Œè¿™éƒ¨åˆ†éƒ½æ˜¯è‡ªåŠ¨ç”Ÿæˆçš„\n\n\n\n* å¯¼å…¥ Maven ä¾èµ–\n\næ³¨æ„ï¼Œ==æ˜¯æ”¾åœ¨`plugiuns`ä¸‹é¢çš„==\n\n```xml\n<!-- mybatis generator è‡ªåŠ¨ç”Ÿæˆä»£ç æ’ä»¶ -->\n            <plugin>\n                <groupId>org.mybatis.generator</groupId>\n                <artifactId>mybatis-generator-maven-plugin</artifactId>\n                <version>1.4.0</version>\n                <configuration>\n                    <configurationFile>src/main/resources/generator/generator-config.xml</configurationFile>\n                    <overwrite>true</overwrite>\n                    <verbose>true</verbose>\n                </configuration>\n                <dependencies>\n                    <dependency>\n                        <groupId>mysql</groupId>\n                        <artifactId>mysql-connector-java</artifactId>\n                        <version>8.0.22</version>\n                    </dependency>\n                </dependencies>\n            </plugin>\n```\n\n\n\n* å»ºç«‹ä»£ç”Ÿæˆå™¨ä½ç½®\n\npomæ–‡ä»¶ä¸­ï¼Œæ˜¾ç¤ºäº†è¦åˆ›å»ºçš„ä»£ç ç”Ÿæˆå™¨çš„ä½ç½®`src/main/resources/generator/generator-config.xml`\n\n```xml\n<configurationFile>\n  src/main/resources/generator/generator-config.xml\n</configurationFile>\n```\n\n![image-20210323131202189](https://gitee.com/faro/images/raw/master/img/20210323131202.png)\n\n\n\n* ä»£ç ç”Ÿæˆå™¨ä»£ç \n\nä»`jdbcConnection`å¼€å§‹ï¼Œåˆ«å¿˜äº†==æ ¹æ®é¡¹ç›®è¿›è¡Œä¿®æ”¹==\n\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<!DOCTYPE generatorConfiguration\n        PUBLIC \"-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN\"\n        \"http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd\">\n\n<generatorConfiguration>\n    <context id=\"Mysql\" targetRuntime=\"MyBatis3\" defaultModelType=\"flat\">\n\n        <!-- è‡ªåŠ¨æ£€æŸ¥å…³é”®å­—ï¼Œä¸ºå…³é”®å­—å¢åŠ åå¼•å· -->\n        <property name=\"autoDelimitKeywords\" value=\"true\"/>\n        <property name=\"beginningDelimiter\" value=\"`\"/>\n        <property name=\"endingDelimiter\" value=\"`\"/>\n\n        <!--è¦†ç›–ç”ŸæˆXMLæ–‡ä»¶-->\n        <plugin type=\"org.mybatis.generator.plugins.UnmergeableXmlMappersPlugin\" />\n        <!-- ç”Ÿæˆçš„å®ä½“ç±»æ·»åŠ toString()æ–¹æ³• -->\n        <plugin type=\"org.mybatis.generator.plugins.ToStringPlugin\"/>\n\n        <!-- ä¸ç”Ÿæˆæ³¨é‡Š -->\n        <commentGenerator>\n            <property name=\"suppressAllComments\" value=\"true\"/>\n        </commentGenerator>\n\n        <jdbcConnection driverClass=\"com.mysql.cj.jdbc.Driver\"\n                        connectionURL=\"jdbc:mysql://localhost:3306/wiki?useUnicode=true&amp;characterEncoding=utf-8\"\n                        userId=\"wiki\"\n                        password=\"123456\">\n        </jdbcConnection>\n\n        <!-- domainç±»çš„ä½ç½® -->\n        <javaModelGenerator targetProject=\"src/main/java\"\n                            targetPackage=\"top.faroz.pojo\"/>\n\n        <!-- mapper xmlçš„ä½ç½® -->\n        <sqlMapGenerator targetProject=\"src/main/resources\"\n                         targetPackage=\"mapper\"/>\n\n        <!-- mapperç±»çš„ä½ç½® -->\n        <javaClientGenerator targetProject=\"src/main/java\"\n                             targetPackage=\"top.faroz.mapper\"\n                             type=\"XMLMAPPER\"/>\n\n        <table tableName=\"demo\" domainObjectName=\"Demo\"/>\n        <!--<table tableName=\"ebook\"/>-->\n        <!--<table tableName=\"category\"/>-->\n        <!--<table tableName=\"doc\"/>-->\n        <!--<table tableName=\"content\"/>-->\n        <!--<table tableName=\"user\"/>-->\n        <!--<table tableName=\"ebook_snapshot\"/>-->\n    </context>\n</generatorConfiguration>\n```\n\n\n\n* æ–°å»ºä¸€ä¸ªmavenå¯åŠ¨é¡¹\n\n![image-20210411015300856](https://gitee.com/faro/images/raw/master/img/20210411015300.png)\n\n![image-20210411015346116](https://gitee.com/faro/images/raw/master/img/20210411015346.png)\n\n```bash\nmybatis-generator:generate -e\n```\n\n![image-20210411015516818](https://gitee.com/faro/images/raw/master/img/20210411015516.png)\n\n\n\n### 7. æµ‹è¯•ä»£ç ç”Ÿæˆå™¨\n\nä»£ç ç”Ÿæˆå™¨çš„å·¥ä½œåŸç†ï¼Œæ˜¯ä»æ•°æ®åº“ä¸­å–å‡ºè¡¨ä¿¡æ¯ï¼Œç„¶åæ ¹æ®è¡¨ä¿¡æ¯ï¼Œå»æ„é€ æŒä¹…å±‚ä»£ç ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬è¦å†å»å»ºä¸€ä¸ªè¡¨\n\n\n\n* all.sql æ·»åŠ  demo è¡¨çš„å¢åŠ  SQL è¯­å¥ï¼Œå¹¶æ‰§è¡Œ\n\n```sql\n# demoåˆ—è¡¨\ndrop table if exists `demo`;\ncreate table `demo` (\n    `id` bigint not null comment 'id',\n    `name` varchar(50) comment 'åç§°',\n    primary key (`id`)\n) engine=innodb default charset =utf8mb4 comment 'æµ‹è¯•';\n\ninsert into `demo` (id,name) values(2,'æµ‹è¯•2');\n```\n\n\n\n* åœ¨ä»£ç ç”Ÿæˆå™¨æœ€åçš„éƒ¨åˆ†ï¼Œå¡«ä¸Šè¦ç”Ÿæˆçš„è¡¨å\n\n![image-20210415012438872](https://gitee.com/faro/images/raw/master/img/20210415012439.png)\n\n\n\n* æ‰§è¡Œ\n\n![image-20210415012552449](https://gitee.com/faro/images/raw/master/img/20210415012552.png)\n\n\n\n* æ‰§è¡ŒæˆåŠŸï¼Œä¼šç”Ÿæˆ 4 ä¸ªæ–°æ–‡ä»¶\n\n![image-20210415012630004](https://gitee.com/faro/images/raw/master/img/20210415012630.png)\n\n\n\n* æˆ‘ä»¬æ¨¡ä»¿ Testï¼Œå»å†™ Demoçš„ Service å’Œ Controller ä»£ç \n\n```java\n@RestController\npublic class DemoController {\n\n    @Autowired\n    private DemoService demoService;\n\n    @RequestMapping(\"/demo/list\")\n    public List<Demo> list() {\n        return demoService.getList();\n    }\n}\n```\n\n```java\n@Service\npublic class DemoService {\n\n    @Resource\n    private DemoMapper demoMapper;\n\n    public List<Demo> getList() {\n        List<Demo> list = demoMapper.selectByExample(null);\n        return list;\n    }\n}\n```\n\n\n\n* æ·»åŠ  demo çš„ http æµ‹è¯•è„šæœ¬\n\n```http\nGET http://localhost:8880/demo/list\nAccept: application/json\n\n###\n```\n\næµ‹è¯•æˆåŠŸï¼Œè¯´æ˜æˆ‘ä»¬ç”¨ä»£ç ç”Ÿæˆå™¨ç”Ÿæˆçš„ä»£ç æ²¡æœ‰é—®é¢˜\n\n![image-20210415013323695](https://gitee.com/faro/images/raw/master/img/20210415013323.png)\n\n\n\n### 8. è§£å†³å‰åç«¯è·¨åŸŸé—®é¢˜\n\nè™½ç„¶ç°åœ¨è¿˜æ²¡æœ‰æ„å»ºå‰ç«¯é¡¹ç›®ï¼Œä½†æ˜¯åé¢ï¼Œä¼šå‡ºç°è·¨åŸŸé—®é¢˜\n\n\n\n* æ–°å»º CorsConfig ç±»\n\n![image-20210415013643183](https://gitee.com/faro/images/raw/master/img/20210415013643.png)\n\n\n\n* ä»£ç å¦‚ä¸‹\n\nä¸ç”¨æ”¹åŠ¨ï¼Œç›´æ¥ç”¨ï¼Œåˆ«å¿˜äº†åŠ ä¸Š==@Configuration==æ³¨è§£\n\n```java\n@Configuration\npublic class CorsConfig implements WebMvcConfigurer {\n\n    @Override\n    public void addCorsMappings(CorsRegistry registry) {\n        registry.addMapping(\"/**\")\n                .allowedOriginPatterns(\"*\")\n                .allowedHeaders(CorsConfiguration.ALL)\n                .allowedMethods(CorsConfiguration.ALL)\n                .allowCredentials(true)\n                .maxAge(3600); // 1å°æ—¶å†…ä¸éœ€è¦å†é¢„æ£€ï¼ˆå‘OPTIONSè¯·æ±‚ï¼‰\n    }\n}\n```\n\n\n\n### 9. æ·»åŠ é›ªèŠ±ç®—æ³•å·¥å…·ç±»\n\né›ªèŠ±ç®—æ³•ï¼Œç”¨æ¥ç”Ÿæˆå”¯ä¸€ ID\n\n\n\n* æ–°å»º SnowFlake å·¥å…·ç±»\n\n![image-20210415014504164](https://gitee.com/faro/images/raw/master/img/20210415014504.png)\n\n\n\n* ä»£ç å¦‚ä¸‹\n\nåˆ«å¿˜äº†åŠ ä¸Š @Component æ³¨è§£\n\n```java\n@Component\npublic class SnowFlake {\n    /**\n     * èµ·å§‹çš„æ—¶é—´æˆ³\n     */\n    private final static long START_STMP = 1609459200000L; // 2021-01-01 00:00:00\n\n    /**\n     * æ¯ä¸€éƒ¨åˆ†å ç”¨çš„ä½æ•°\n     */\n    private final static long SEQUENCE_BIT = 12; //åºåˆ—å·å ç”¨çš„ä½æ•°\n    private final static long MACHINE_BIT = 5;   //æœºå™¨æ ‡è¯†å ç”¨çš„ä½æ•°\n    private final static long DATACENTER_BIT = 5;//æ•°æ®ä¸­å¿ƒå ç”¨çš„ä½æ•°\n\n    /**\n     * æ¯ä¸€éƒ¨åˆ†çš„æœ€å¤§å€¼\n     */\n    private final static long MAX_DATACENTER_NUM = -1L ^ (-1L << DATACENTER_BIT);\n    private final static long MAX_MACHINE_NUM = -1L ^ (-1L << MACHINE_BIT);\n    private final static long MAX_SEQUENCE = -1L ^ (-1L << SEQUENCE_BIT);\n\n    /**\n     * æ¯ä¸€éƒ¨åˆ†å‘å·¦çš„ä½ç§»\n     */\n    private final static long MACHINE_LEFT = SEQUENCE_BIT;\n    private final static long DATACENTER_LEFT = SEQUENCE_BIT + MACHINE_BIT;\n    private final static long TIMESTMP_LEFT = DATACENTER_LEFT + DATACENTER_BIT;\n\n    private long datacenterId = 1;  //æ•°æ®ä¸­å¿ƒ\n    private long machineId = 1;     //æœºå™¨æ ‡è¯†\n    private long sequence = 0L; //åºåˆ—å·\n    private long lastStmp = -1L;//ä¸Šä¸€æ¬¡æ—¶é—´æˆ³\n\n    public SnowFlake() {\n    }\n\n    public SnowFlake(long datacenterId, long machineId) {\n        if (datacenterId > MAX_DATACENTER_NUM || datacenterId < 0) {\n            throw new IllegalArgumentException(\"datacenterId can't be greater than MAX_DATACENTER_NUM or less than 0\");\n        }\n        if (machineId > MAX_MACHINE_NUM || machineId < 0) {\n            throw new IllegalArgumentException(\"machineId can't be greater than MAX_MACHINE_NUM or less than 0\");\n        }\n        this.datacenterId = datacenterId;\n        this.machineId = machineId;\n    }\n\n    /**\n     * äº§ç”Ÿä¸‹ä¸€ä¸ªID\n     *\n     * @return\n     */\n    public synchronized long nextId() {\n        long currStmp = getNewstmp();\n        if (currStmp < lastStmp) {\n            throw new RuntimeException(\"Clock moved backwards.  Refusing to generate id\");\n        }\n\n        if (currStmp == lastStmp) {\n            //ç›¸åŒæ¯«ç§’å†…ï¼Œåºåˆ—å·è‡ªå¢\n            sequence = (sequence + 1) & MAX_SEQUENCE;\n            //åŒä¸€æ¯«ç§’çš„åºåˆ—æ•°å·²ç»è¾¾åˆ°æœ€å¤§\n            if (sequence == 0L) {\n                currStmp = getNextMill();\n            }\n        } else {\n            //ä¸åŒæ¯«ç§’å†…ï¼Œåºåˆ—å·ç½®ä¸º0\n            sequence = 0L;\n        }\n\n        lastStmp = currStmp;\n\n        return (currStmp - START_STMP) << TIMESTMP_LEFT //æ—¶é—´æˆ³éƒ¨åˆ†\n                | datacenterId << DATACENTER_LEFT       //æ•°æ®ä¸­å¿ƒéƒ¨åˆ†\n                | machineId << MACHINE_LEFT             //æœºå™¨æ ‡è¯†éƒ¨åˆ†\n                | sequence;                             //åºåˆ—å·éƒ¨åˆ†\n    }\n\n    private long getNextMill() {\n        long mill = getNewstmp();\n        while (mill <= lastStmp) {\n            mill = getNewstmp();\n        }\n        return mill;\n    }\n\n    private long getNewstmp() {\n        return System.currentTimeMillis();\n    }\n\n    // public static void main(String[] args) throws ParseException {\n    //     // æ—¶é—´æˆ³\n    //     // System.out.println(System.currentTimeMillis());\n    //     // System.out.println(new Date().getTime());\n    //     //\n    //     // String dateTime = \"2021-01-01 08:00:00\";\n    //     // SimpleDateFormat sdf = new SimpleDateFormat(\"yyyy-MM-dd hh:mm:ss\");\n    //     // System.out.println(sdf.parse(dateTime).getTime());\n    //\n    //     SnowFlake snowFlake = new SnowFlake(1, 1);\n    //\n    //     long start = System.currentTimeMillis();\n    //     for (int i = 0; i < 10; i++) {\n    //         System.out.println(snowFlake.nextId());\n    //         System.out.println(System.currentTimeMillis() - start);\n    //     }\n    // }\n\n}\n```\n\n\n\n\n\n### 10. æ·»åŠ  AOP\n\nAOP ç”¨æ¥æ‰“å°æ¥å£æ—¥å¿—ï¼Œæ–¹ä¾¿åæœŸè°ƒè¯•\n\n\n\n* Maven ä¸­å¼•å…¥ fastjsonï¼Œå› ä¸º æˆ‘ä»¬çš„ç±»ä¸­è¦ç”¨\n\n```xml\n <!--fastjson-->\n<dependency>\n  <groupId>com.alibaba</groupId>\n  <artifactId>fastjson</artifactId>\n  <version>1.2.70</version>\n</dependency>\n```\n\n\n\n* Maven å¼•å…¥ AOP\n\n```xml\n<!--å¯¼å…¥aop-->\n<dependency>\n  <groupId>org.springframework.boot</groupId>\n  <artifactId>spring-boot-starter-aop</artifactId>\n</dependency>\n```\n\n\n\n* æ·»åŠ  RequestContext å·¥å…·ç±»\n\nè¿™ä¸ªæ˜¯åæœŸä¸ºäº†æ‰“å° WebSocket æ—¥å¿—çš„\n\n![image-20210415014912415](https://gitee.com/faro/images/raw/master/img/20210415014912.png)\n\n```java\npublic class RequestContext implements Serializable {\n    private static ThreadLocal<String> remoteAddr = new ThreadLocal<>();\n\n    public static String getRemoteAddr() {\n        return remoteAddr.get();\n    }\n\n    public static void setRemoteAddr(String remoteAddr) {\n        weixindemo.util.RequestContext.remoteAddr.set(remoteAddr);\n    }\n}\n```\n\n\n\n* æ–°å»º aspect åŒ…ï¼Œå¹¶æ–°å»º LogAspect ç±»\n\n![image-20210415013942484](https://gitee.com/faro/images/raw/master/img/20210415013942.png)\n\n\n\n**LogAspect ä»£ç å¦‚ä¸‹:**\n\nåˆ‡ç‚¹çš„ä»£ç ï¼Œæˆ‘ä»¬è¦ä¾æ®é¡¹ç›®ä¿®æ”¹\n\n![image-20210415015319943](https://gitee.com/faro/images/raw/master/img/20210415015320.png)\n\n```java\n@Aspect\n@Component\npublic class LogAspect {\n    private final static Logger LOG = LoggerFactory.getLogger(weixindemo.aspect.LogAspect.class);\n\n    @Resource\n    private SnowFlake snowFlake;\n\n    /** å®šä¹‰ä¸€ä¸ªåˆ‡ç‚¹ */\n    @Pointcut(\"execution(public * weixindemo.controller..*Controller.*(..))\")\n    public void controllerPointcut() {}\n\n    // @Resource\n    // private SnowFlake snowFlake;\n\n    @Before(\"controllerPointcut()\")\n    public void doBefore(JoinPoint joinPoint) throws Throwable {\n\n        // å¢åŠ æ—¥å¿—æµæ°´å·\n        MDC.put(\"LOG_ID\", String.valueOf(snowFlake.nextId()));\n\n        // å¼€å§‹æ‰“å°è¯·æ±‚æ—¥å¿—\n        ServletRequestAttributes attributes = (ServletRequestAttributes) RequestContextHolder.getRequestAttributes();\n        HttpServletRequest request = attributes.getRequest();\n        Signature signature = joinPoint.getSignature();\n        String name = signature.getName();\n\n        // æ‰“å°è¯·æ±‚ä¿¡æ¯\n        LOG.info(\"------------- å¼€å§‹ -------------\");\n        LOG.info(\"è¯·æ±‚åœ°å€: {} {}\", request.getRequestURL().toString(), request.getMethod());\n        LOG.info(\"ç±»åæ–¹æ³•: {}.{}\", signature.getDeclaringTypeName(), name);\n        LOG.info(\"è¿œç¨‹åœ°å€: {}\", request.getRemoteAddr());\n\n        RequestContext.setRemoteAddr(getRemoteIp(request));\n\n        // æ‹¿åˆ°æ‰€æœ‰çš„å‚æ•°\n        Object[] args = joinPoint.getArgs();\n        // LOG.info(\"è¯·æ±‚å‚æ•°: {}\", JSONObject.toJSONString(args));\n\n        Object[] arguments  = new Object[args.length];\n        for (int i = 0; i < args.length; i++) {\n            if (args[i] instanceof ServletRequest\n                    || args[i] instanceof ServletResponse\n                    || args[i] instanceof MultipartFile) {\n                continue;\n            }\n            arguments[i] = args[i];\n        }\n        // æ’é™¤å­—æ®µï¼Œæ•æ„Ÿå­—æ®µæˆ–å¤ªé•¿çš„å­—æ®µä¸æ˜¾ç¤º\n        String[] excludeProperties = {\"password\", \"file\"};\n        PropertyPreFilters filters = new PropertyPreFilters();\n        PropertyPreFilters.MySimplePropertyPreFilter excludefilter = filters.addFilter();\n        excludefilter.addExcludes(excludeProperties);\n        LOG.info(\"è¯·æ±‚å‚æ•°: {}\", JSONObject.toJSONString(arguments, excludefilter));\n    }\n\n    @Around(\"controllerPointcut()\")\n    public Object doAround(ProceedingJoinPoint proceedingJoinPoint) throws Throwable {\n        long startTime = System.currentTimeMillis();\n        Object result = proceedingJoinPoint.proceed();\n        // æ’é™¤å­—æ®µï¼Œæ•æ„Ÿå­—æ®µæˆ–å¤ªé•¿çš„å­—æ®µä¸æ˜¾ç¤º\n        String[] excludeProperties = {\"password\", \"file\"};\n        PropertyPreFilters filters = new PropertyPreFilters();\n        PropertyPreFilters.MySimplePropertyPreFilter excludefilter = filters.addFilter();\n        excludefilter.addExcludes(excludeProperties);\n        LOG.info(\"è¿”å›ç»“æœ: {}\", JSONObject.toJSONString(result, excludefilter));\n        LOG.info(\"------------- ç»“æŸ è€—æ—¶ï¼š{} ms -------------\", System.currentTimeMillis() - startTime);\n        return result;\n    }\n\n    /**\n     * ä½¿ç”¨nginxåšåå‘ä»£ç†ï¼Œéœ€è¦ç”¨è¯¥æ–¹æ³•æ‰èƒ½å–åˆ°çœŸå®çš„è¿œç¨‹IP\n     * å½“æˆ‘ä»¬å‘å¸ƒä¸Šçº¿åï¼Œå› ä¸ºå‰ç«¯ã€åç«¯éƒ½æ˜¯ç”¨80ç«¯å£ï¼Œä¼šå†²çª\n     * æ‰€ä»¥ç”¨æˆ·è®¿é—®çš„æ—¶å€™ï¼Œéœ€è¦å…ˆå»è®¿é—® nginxï¼Œç„¶åï¼Œè®© nginx å»åå‘ä»£ç†ï¼Œæ‰¾æˆ‘ä»¬è¦è®¿é—®çš„è·¯å¾„\n     * @param request\n     * @return\n     */\n    public String getRemoteIp(HttpServletRequest request) {\n        String ip = request.getHeader(\"x-forwarded-for\");\n        if (ip == null || ip.length() == 0 || \"unknown\".equalsIgnoreCase(ip)) {\n            ip = request.getHeader(\"Proxy-Client-IP\");\n        }\n        if (ip == null || ip.length() == 0 || \"unknown\".equalsIgnoreCase(ip)) {\n            ip = request.getHeader(\"WL-Proxy-Client-IP\");\n        }\n        if (ip == null || ip.length() == 0 || \"unknown\".equalsIgnoreCase(ip)) {\n            ip = request.getRemoteAddr();\n        }\n        return ip;\n    }\n}\n```\n\n\n\n### 11. è§£å†³å‰åç«¯ Long ç²¾åº¦ä¸¢å¤±é—®é¢˜\n\næˆ‘ä»¬åæœŸä¼šç”¨åˆ° MD5 åŠ å¯†ï¼Œåˆ°æ—¶å€™åç«¯ä¼ åˆ°å‰ç«¯çš„æ—¶å€™ï¼Œå› ä¸º javascript number çš„ç²¾åº¦é—®é¢˜ï¼Œä¼šå‡ºç°æ•°æ®ä¸¢å¤±\n\n\n\n* é…ç½®æ–‡ä»¶æ–°å¢ JacksonConfig ç±»\n\n![image-20210415020223600](https://gitee.com/faro/images/raw/master/img/20210415020223.png)\n\n\n\n* ä»£ç å¦‚ä¸‹\n\n```java\n@Configuration\npublic class JacksonConfig {\n\n    @Bean\n    public ObjectMapper jacksonObjectMapper(Jackson2ObjectMapperBuilder builder) {\n        ObjectMapper objectMapper = builder.createXmlMapper(false).build();\n        SimpleModule simpleModule = new SimpleModule();\n        // simpleModule.addSerializer(Long.class, ToStringSerializer.instance);\n        simpleModule.addSerializer(Long.class, ToStringSerializer.instance);\n        objectMapper.registerModule(simpleModule);\n        return objectMapper;\n    }\n}\n```\n\n\n\n### 12. æ–°å»º req resp åŒ…\n\næˆ‘ä»¬è¦å°†è¯·æ±‚ä¸è¿”å›åŒ…è£…\n\n![image-20210415020648707](https://gitee.com/faro/images/raw/master/img/20210415020648.png)\n\n\n\n### 13. CommonResp\n\nä¸ºäº†æ–¹ä¾¿å‰ç«¯è°ƒç”¨ï¼Œåç«¯çš„ respï¼Œæˆ‘ä»¬å†™ä¸€ä¸ªç»Ÿä¸€çš„è¿”å› CommonResp\n\n![image-20210415020805724](https://gitee.com/faro/images/raw/master/img/20210415020805.png)\n\n**ä»£ç å¦‚ä¸‹ï¼š**\n\n```java\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class CommonResp<T> {\n    /**\n     * è¿”å›æ˜¯å¦æˆåŠŸ\n     */\n    private boolean isSuccess=true;\n\n    /**\n     * è¿”å›å¤±è´¥æ—¶ï¼Œè¿”å›çš„é”™è¯¯ä¿¡æ¯\n     */\n    private String message;\n\n    /**\n     * è¿”å›æˆåŠŸçš„æ—¶å€™ï¼Œè¿”å›çš„å†…å®¹\n     */\n    private T content;\n}\n```\n\n\n\n### 14. è‡ªå®šä¹‰å¼‚å¸¸\n\n* æ–°å»ºå¼‚å¸¸ç±»`BusinessException`å’Œå¼‚å¸¸ä¿¡æ¯æšä¸¾`BusinessExceptionCode`\n\n![image-20210415021357196](https://gitee.com/faro/images/raw/master/img/20210415021357.png)\n\n\n\n* `BusinessException`ä»£ç \n\n```java\npublic class BusinessException extends RuntimeException{\n    private BusinessExceptionCode code;\n\n    public BusinessException (BusinessExceptionCode code) {\n        /**\n         * çˆ¶ç±»æœ‰ä¸ªæˆå‘˜å˜é‡  private String desc\n         * éœ€è¦ä¸ºè¿™ä¸ªæˆå‘˜å˜é‡èµ‹å€¼\n         */\n        super(code.getDesc());\n        this.code = code;\n    }\n\n    public BusinessExceptionCode getCode() {\n        return code;\n    }\n\n    public void setCode(BusinessExceptionCode code) {\n        this.code = code;\n    }\n\n    /**\n     * ä¸å†™å…¥å †æ ˆä¿¡æ¯ï¼Œæé«˜æ€§èƒ½\n     */\n    @Override\n    public Throwable fillInStackTrace() {\n        return this;\n    }\n}\n```\n\n\n\n* `BusinessExceptionCode`ä»£ç \n\n```java\npublic enum BusinessExceptionCode {\n    USER_LOGIN_NAME_EXIST(\"ç™»å½•åå·²å­˜åœ¨\"),\n    LOGIN_USER_ERROR(\"ç”¨æˆ·åä¸å­˜åœ¨æˆ–å¯†ç é”™è¯¯\"),\n    VOTE_REPEAT(\"æ‚¨å·²ç‚¹èµè¿‡\"),\n    ;\n\n    private String desc;\n\n    BusinessExceptionCode(String desc) {\n        this.desc = desc;\n    }\n\n    public String getDesc() {\n        return desc;\n    }\n\n    public void setDesc(String desc) {\n        this.desc = desc;\n    }\n}\n```\n\n\n\n\n\n### 13. ç»Ÿä¸€å¼‚å¸¸å¤„ç†\n\næˆ‘ä»¬æ‰€æœ‰å¼‚å¸¸ï¼Œéƒ½é€šè¿‡è¿™ä¸ªç±»æ¥æ•è·ï¼Œå¹¶ç”Ÿæˆä¸€ä¸ªè¿”å›é”™è¯¯ä¿¡æ¯çš„ CommonResp\n\n\n\n* æ–°å»º ControllerExceptionHandler ç±»\n\n![](https://gitee.com/faro/images/raw/master/img/20210415020947.png)\n\n\n\n* ä»£ç å¦‚ä¸‹\n\nlogger è¦æ ¹æ®é¡¹ç›®æ”¹ä¸€ä¸‹\n\n```java\n/**\n * ç»Ÿä¸€å¼‚å¸¸å¤„ç†ã€æ•°æ®é¢„å¤„ç†ç­‰\n * è¯¥ç±»ç”¨äºæ•è·ç³»ç»Ÿå¼¹å‡ºçš„å¼‚å¸¸\n * å°†å¼‚å¸¸åŒ…è£…æˆä¸€ä¸ª CommonResp\n * ä»è€Œæ–¹ä¾¿å‰ç«¯è°ƒç”¨ï¼Œæ˜¾ç¤ºé”™è¯¯ä¿¡æ¯\n */\n@ControllerAdvice\npublic class ControllerExceptionHandler {\n    private static final Logger LOG = LoggerFactory.getLogger(top.faroz.controller.ControllerExceptionHandler.class);\n\n    /**\n     * æ ¡éªŒå¼‚å¸¸ç»Ÿä¸€å¤„ç†\n     * @param e\n     * @return\n     */\n    @ExceptionHandler(value = BindException.class)\n    @ResponseBody\n    public CommonResp validExceptionHandler(BindException e) {\n        CommonResp commonResp = new CommonResp();\n        LOG.warn(\"å‚æ•°æ ¡éªŒå¤±è´¥ï¼š{}\", e.getBindingResult().getAllErrors().get(0).getDefaultMessage());\n        commonResp.setSuccess(false);\n        commonResp.setMessage(e.getBindingResult().getAllErrors().get(0).getDefaultMessage());\n        return commonResp;\n    }\n\n    /**\n     * æ ¡éªŒå¼‚å¸¸ç»Ÿä¸€å¤„ç†\n     * @param e\n     * @return\n     */\n    @ExceptionHandler(value = BusinessException.class)\n    @ResponseBody\n    public CommonResp validExceptionHandler(BusinessException e) {\n        CommonResp commonResp = new CommonResp();\n        LOG.warn(\"ä¸šåŠ¡å¼‚å¸¸ï¼š{}\", e.getCode().getDesc());\n        commonResp.setSuccess(false);\n        commonResp.setMessage(e.getCode().getDesc());\n        return commonResp;\n    }\n\n    /**\n     * æ ¡éªŒå¼‚å¸¸ç»Ÿä¸€å¤„ç†\n     * @param e\n     * @return\n     */\n    @ExceptionHandler(value = Exception.class)\n    @ResponseBody\n    public CommonResp validExceptionHandler(Exception e) {\n        CommonResp commonResp = new CommonResp();\n        LOG.error(\"ç³»ç»Ÿå¼‚å¸¸ï¼š\", e);\n        commonResp.setSuccess(false);\n        commonResp.setMessage(\"ç³»ç»Ÿå‡ºç°å¼‚å¸¸ï¼Œè¯·è”ç³»ç®¡ç†å‘˜\");\n        return commonResp;\n    }\n}\n```\n\n\n\n### 14. æ·»åŠ æ—¥å¿—è®°å½• logback\n\n* åœ¨ resource ä¸‹ï¼Œæ–°å»ºlogback-spring.xml æ–‡ä»¶\n\n![image-20210411004947139](https://gitee.com/faro/images/raw/master/img/20210411004947.png)\n\n* å†™å…¥å†…å®¹\n\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<configuration>\n    <!-- ä¿®æ”¹ä¸€ä¸‹è·¯å¾„-->\n    <property name=\"PATH\" value=\"./log\"></property>\n\n    <appender name=\"STDOUT\" class=\"ch.qos.logback.core.ConsoleAppender\">\n        <encoder>\n            <Pattern>%d{yyyy-MM-dd HH:mm:ss.SSS} %highlight(%-5level) %blue(%-50logger{50}:%-4line) %thread %msg%n</Pattern>\n            <!--<Pattern>%d{ss.SSS} %highlight(%-5level) %blue(%-30logger{30}:%-4line) %thread %green(%-18X{LOG_ID}) %msg%n</Pattern>-->\n        </encoder>\n    </appender>\n\n    <appender name=\"TRACE_FILE\" class=\"ch.qos.logback.core.rolling.RollingFileAppender\">\n        <file>${PATH}/trace.log</file>\n        <rollingPolicy class=\"ch.qos.logback.core.rolling.TimeBasedRollingPolicy\">\n            <FileNamePattern>${PATH}/trace.%d{yyyy-MM-dd}.%i.log</FileNamePattern>\n            <timeBasedFileNamingAndTriggeringPolicy class=\"ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP\">\n                <maxFileSize>10MB</maxFileSize>\n            </timeBasedFileNamingAndTriggeringPolicy>\n        </rollingPolicy>\n        <layout>\n            <pattern>%d{yyyy-MM-dd HH:mm:ss.SSS} %-5level %-50logger{50}:%-4line %green(%-18X{LOG_ID}) %msg%n</pattern>\n        </layout>\n    </appender>\n\n    <appender name=\"ERROR_FILE\" class=\"ch.qos.logback.core.rolling.RollingFileAppender\">\n        <file>${PATH}/error.log</file>\n        <rollingPolicy class=\"ch.qos.logback.core.rolling.TimeBasedRollingPolicy\">\n            <FileNamePattern>${PATH}/error.%d{yyyy-MM-dd}.%i.log</FileNamePattern>\n            <timeBasedFileNamingAndTriggeringPolicy class=\"ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP\">\n                <maxFileSize>10MB</maxFileSize>\n            </timeBasedFileNamingAndTriggeringPolicy>\n        </rollingPolicy>\n        <layout>\n            <pattern>%d{yyyy-MM-dd HH:mm:ss.SSS} %-5level %-50logger{50}:%-4line %green(%-18X{LOG_ID}) %msg%n</pattern>\n        </layout>\n        <filter class=\"ch.qos.logback.classic.filter.LevelFilter\">\n            <level>ERROR</level>\n            <onMatch>ACCEPT</onMatch>\n            <onMismatch>DENY</onMismatch>\n        </filter>\n    </appender>\n\n    <root level=\"ERROR\">\n        <appender-ref ref=\"ERROR_FILE\" />\n    </root>\n\n    <root level=\"TRACE\">\n        <appender-ref ref=\"TRACE_FILE\" />\n    </root>\n\n    <root level=\"INFO\">\n        <appender-ref ref=\"STDOUT\" />\n    </root>\n</configuration>\n\n```\n\n\n\n### 15. è‡ªå®šä¹‰ banner\n\nresources ä¸‹æ–°å»º banner.txt\n\n![image-20210415023847796](https://gitee.com/faro/images/raw/master/img/20210415023847.png)\n\n\n\né‡Œé¢æ”¾ä¸Šè‡ªå®šä¹‰ banner\n\n```txt\n ********     **     *******     *******         ********\n/**/////     ****   /**////**   **/////**       //////** \n/**         **//**  /**   /**  **     //**           **  \n/*******   **  //** /*******  /**      /**          **   \n/**////   **********/**///**  /**      /**         **    \n/**      /**//////**/**  //** //**     **         **     \n/**      /**     /**/**   //** //*******   ***** ********\n//       //      // //     //   ///////   ///// //////// \n```\n\n\n\n\n","success":true}
2021-04-16 00:56:35.243 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š10 ms -------------
2021-04-16 00:56:38.888 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:56:38.888 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/list GET
2021-04-16 00:56:38.889 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.list
2021-04-16 00:56:38.889 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:56:38.889 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":5}]
2021-04-16 00:56:38.897 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"list":[{"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Vue å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":2,"name":"Vue å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Python å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":3,"name":"Python å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Mysql å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":4,"name":"Mysql å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"c++çœŸçš„å¾ˆå®¹æ˜“ï¼Œä¸ä¼šæœ‰äººä¸ä¼šå§ï¼Ÿ","docCount":0,"id":5,"name":"21 å¤©å­¦ä¼šC++","viewCount":0,"voteCount":0}],"total":7},"success":true}
2021-04-16 00:56:38.897 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š9 ms -------------
2021-04-16 00:56:39.662 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:56:39.663 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/list GET
2021-04-16 00:56:39.663 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.list
2021-04-16 00:56:39.664 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:56:39.665 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":5}]
2021-04-16 00:56:39.669 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"list":[{"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Vue å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":2,"name":"Vue å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Python å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":3,"name":"Python å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Mysql å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":4,"name":"Mysql å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"c++çœŸçš„å¾ˆå®¹æ˜“ï¼Œä¸ä¼šæœ‰äººä¸ä¼šå§ï¼Ÿ","docCount":0,"id":5,"name":"21 å¤©å­¦ä¼šC++","viewCount":0,"voteCount":0}],"total":7},"success":true}
2021-04-16 00:56:39.670 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2021-04-16 00:56:41.410 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:56:41.410 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:56:41.411 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find/1 GET
2021-04-16 00:56:41.411 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2021-04-16 00:56:41.411 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.findContent
2021-04-16 00:56:41.411 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.find
2021-04-16 00:56:41.411 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:56:41.411 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:56:41.411 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [1]
2021-04-16 00:56:41.412 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [1]
2021-04-16 00:56:41.414 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},"success":true}
2021-04-16 00:56:41.414 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2021-04-16 00:56:41.416 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":"# å®Œæ•´é¡¹ç›®æ­å»ºæµç¨‹\n\nè™½è¯´ SpringBoot ç›¸è¾ƒäº SSM æ¡†æ¶ï¼Œå¤§å¤§å‡è½»äº†é…ç½®çš„ç¹çï¼Œä½†æ˜¯ï¼Œè¦æ•´åˆ MyBatis ï¼Œç»Ÿä¸€å¼‚å¸¸å¤„ç†ï¼ŒVueç­‰ä¸€ç³»åˆ—ä¸œè¥¿ï¼Œè¿˜æ˜¯è¦è´¹ä¸€ç•ªåŠ²çš„ã€‚\n\nè¿™æ¬¡å°†åˆ›å»ºçš„æ•´ä¸ªæµç¨‹è®°å½•ä¸‹æ¥ï¼Œæ–¹ä¾¿ä»¥åçš„é¡¹ç›®æ­å»ºã€‚\n\nè¦æ­å»ºä¸€ä¸ªå®Œæˆçš„å‰åç«¯åˆ†ç¦»é¡¹ç›®ï¼Œåˆ†ä¸ºè¿™ä¹ˆå‡ ä¸ªéƒ¨åˆ†ï¼š==æ•°æ®åº“ã€åç«¯ã€å‰ç«¯==\n\nå¦‚æœæ˜¯ä¸ºå¾®ä¿¡å°ç¨‹åºæ­å»ºä¸€ä¸ªåç«¯æœåŠ¡ï¼Œé‚£å°±åªè¦çœ‹åˆ°==æ•°æ®åº“ã€åç«¯==å°±å¯ä»¥äº†\n\n\n\n## æ•°æ®åº“\n\nä¸€èˆ¬åœ¨æ–°å»ºé¡¹ç›®çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¼šé€‰æ‹©ä¸“é—¨ä¸ºè¿™ä¸ªé¡¹ç›®æ–°å»ºä¸€ä¸ªç”¨æˆ·ï¼Œå¹¶ä¸ºè¿™ä¸ªç”¨æˆ·ï¼Œèµ‹äºˆåªå±äºè¿™ä¸€ä¸ªé¡¹ç›®çš„æ‰€æœ‰æƒé™\n\n\n\n### 1. **è¿æ¥ admin**\n\nåªæœ‰ admin æœ‰æ‰€æœ‰æƒé™\n\næˆ‘çš„æ•°æ®åº“ admin çš„è´¦æˆ·åå’Œå¯†ç æ˜¯ï¼š\n\n**è´¦æˆ·ï¼š**admin\n\n**å¯†ç ï¼š**123\n\n![image-20210411002100312](https://gitee.com/faro/images/raw/master/img/20210411003334.png)\n\n\n\n### 2. **æ–°å»ºæ•°æ®åº“**\n\nå…¶å­—ç¬¦ç±»å‹ä¸€å®šè¦é€‰æ‹©==utf8mb4==ï¼Œè¿™æ‰æ˜¯çœŸæ­£çš„ utf8ï¼Œæ”¯æŒè¡¨æƒ…ç¬¦å·\n\n![image-20210411002304858](https://gitee.com/faro/images/raw/master/img/20210411002304.png)\n\n### 3. **ä¸ºè¿™ä¸ªæ•°æ®åº“ï¼Œä¸“é—¨å»ºä¸€ä¸ªç”¨æˆ·**\n\nå¼€å‘ç¯å¢ƒä¸­ï¼Œå°±å°†å¯†ç å’Œç”¨æˆ·åè®¾ç½®æˆä¸€æ ·çš„ï¼Œè¿™æ ·ä¸ä¼šå¿˜è®°\n\nhost è®¾ç½®ä¸º localhost\n\n![image-20210411002742750](https://gitee.com/faro/images/raw/master/img/20210411002742.png)\n\n\n\n### 4. **ä¸ºè¿™ä¸ªç”¨æˆ·ï¼Œæˆäºˆå¯¹åº”æ•°æ®åº“çš„å…¨éƒ¨æƒé™**\n\n![image-20210411003034426](https://gitee.com/faro/images/raw/master/img/20210411003034.png)\n\n![image-20210411002821790](https://gitee.com/faro/images/raw/master/img/20210414201958.png)\n\n### 5. **å¯¹å½“å‰ç”¨æˆ·ï¼Œå»ºç«‹è¿æ¥**\n\n![image-20210411002945727](https://gitee.com/faro/images/raw/master/img/20210411002945.png)\n\n\n\n\n\n## åç«¯\n\nå…³äº Mavenã€tomcat çš„ä¸‹è½½é…ç½®ï¼Œè¿™é‡Œå°±ä¸è´¹ç¬”å¢¨å»è®²è§£äº†ã€‚å¦‚æœ‰éœ€è¦ï¼Œå¯ä»¥è‡ªè¡Œç™¾åº¦æŸ¥æ‰¾ã€‚\n\n### 1. æ–°å»º SpringBoot é¡¹ç›®\n\n* ç‚¹å‡» `SpringInitiallizr`ï¼Œæ–°å»ºé¡¹ç›®\n\n![image-20210414200239335](https://gitee.com/faro/images/raw/master/img/20210414200239.png)\n\n* é€‰æ‹©é»˜è®¤ä¾èµ–çš„åŒ…\n\n![image-20210414200420395](https://gitee.com/faro/images/raw/master/img/20210414200420.png)\n\n![image-20210414200533694](https://gitee.com/faro/images/raw/master/img/20210414200533.png)\n\n![image-20210414200611051](https://gitee.com/faro/images/raw/master/img/20210414200611.png)\n\n* é€‰æ‹©å­˜æ”¾è·¯å¾„\n\n![image-20210414200656633](https://gitee.com/faro/images/raw/master/img/20210414200656.png)\n\n* æ–°å»ºå®Œæˆåï¼Œé¡¹ç›®ç›®å½•å¦‚ä¸‹\n\n![image-20210414200752152](https://gitee.com/faro/images/raw/master/img/20210414200752.png)\n\n\n\n### 2. æ›´æ”¹å¯åŠ¨ç±»ä½ç½®\n\n* æ–°å»º config åŒ…ï¼Œå°†å¯åŠ¨ç±»æ”¾è¿›å»\n\n![image-20210414201018806](https://gitee.com/faro/images/raw/master/img/20210414201018.png)\n\n\n\n* ä¸ºå¯åŠ¨ç±»æ·»åŠ æ³¨è§£\n\næ³¨è§£å†…çš„ä¿¡æ¯ï¼Œæ˜¯é¡¹ç›®åç§°\n\n```java\n@ComponentScan(\"weixindemo\")\n```\n\n![image-20210414201210978](https://gitee.com/faro/images/raw/master/img/20210414201211.png)\n\n\n\n### 3. IDEA æ•°æ®åº“é…ç½®\n\n* IDEA è¿æ¥æ•°æ®åº“\n\n![image-20210414220153821](https://gitee.com/faro/images/raw/master/img/20210414220153.png)\n\n![image-20210414221502868](https://gitee.com/faro/images/raw/master/img/20210414221502.png)\n\n\n\n* æ·»åŠ  sql è„šæœ¬\n\næ–°å»º sql æ–‡ä»¶å¤¹ï¼Œå»ºç«‹`all.sql`æ–‡ä»¶\n\n![image-20210414221647283](https://gitee.com/faro/images/raw/master/img/20210414221647.png)\n\n\n\næˆ‘ä»¬åœ¨ sql è„šæœ¬ä¸­æ·»åŠ æµ‹è¯•ç”¨æ•°æ®ï¼Œå¹¶æ‰§è¡Œ\n\n```sql\n\n# æµ‹è¯•è¡¨\ndrop table if exists `test`;\ncreate table `test` (\n  `id` bigint not null comment 'id',\n  `name` varchar(50) comment 'åç§°',\n  `password` varchar(50) comment 'å¯†ç ',\n  primary key (`id`)\n) engine=innodb default charset=utf8mb4 comment='æµ‹è¯•';\n\ninsert into `test` (id, name, password) values (1, 'æµ‹è¯•', 'password');       \n```\n\nå¯ä»¥çœ‹åˆ°ï¼Œæ•°æ®åº“å·²å»ºç«‹\n\n![image-20210415000115932](https://gitee.com/faro/images/raw/master/img/20210415000131.png)\n\n\n\n### 4. é…ç½® MyBatis\n\n* åœ¨ `resource`æ–‡ä»¶å¤¹ä¸‹ï¼Œæ–°å»º `mapper`æ–‡ä»¶å¤¹\n\nè¿™æ˜¯ç”¨æ¥å­˜æ”¾ MyBatis çš„å®ç°çš„\n\n![image-20210414201459632](https://gitee.com/faro/images/raw/master/img/20210414201459.png)\n\n\n\n* æ–°å»º pojo åŒ…\n\npojo åŒ…ç”¨æ¥å­˜æ”¾å®ä½“ç±»\n\n![image-20210415000316772](https://gitee.com/faro/images/raw/master/img/20210415000316.png)\n\n\n\n* åœ¨é¡¹ç›®ä¸‹ï¼Œæ–°å»º mapper åŒ…ï¼Œç”¨æ¥å­˜æ”¾æ¥å£\n\n![image-20210415000711989](https://gitee.com/faro/images/raw/master/img/20210415000712.png)\n\n\n\n* å°†é…ç½®æ–‡ä»¶åç¼€æ”¹ä¸º`.yml`\n\næˆ‘ä¸ªäººä¹ æƒ¯ä½¿ç”¨`.yml`è¿›è¡Œä½ç½®\n\n![image-20210414201610045](https://gitee.com/faro/images/raw/master/img/20210414201610.png)\n\n\n\n* æ·»åŠ  `Mybatis`é…ç½®\n\nè¿™é‡Œï¼Œè¦æ·»åŠ æ•°æ®æºï¼Œå’Œ MyBatis çš„é…ç½®ï¼Œéƒ¨åˆ†åœ°æ–¹ï¼Œè¦æ ¹æ®å®é™…é¡¹ç›®ï¼Œè¿›è¡Œä¿®æ”¹\n\n```yml\nspring:\n  datasource:\n    url: jdbc:mysql://localhost:3306/weixindemo?useUnicode=true&characterEncoding=utf-8\n    username: weixindemo\n    password: weixindemo\n    driver-class-name: com.mysql.cj.jdbc.Driver\n    \n    \n# æ•´åˆMybatis\nmybatis:\n  # ** è¡¨ç¤ºåœ¨mapperä¸‹ä¸ç®¡æœ‰å¤šå°‘æ–‡ä»¶å¤¹ï¼Œéƒ½å¯ä»¥å…¨éƒ¨è¯†åˆ«\n  mapper-locations: classpath:/mapper/**/*.xml\n  type-aliases-package: weixindemo.pojo\n  #  æ‰“å°sqlç›¸å…³çš„æ—¥å¿—ä¿¡æ¯\n  configuration:\n    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl\n```\n\n![image-20210415000535841](https://gitee.com/faro/images/raw/master/img/20210415000535.png)\n\n\n\n* æ·»åŠ ç«¯å£é…ç½®\n\nå› ä¸º vue ä¹Ÿæ˜¯ç”¨çš„8080ç«¯å£ï¼Œæˆ‘ä»¬ä¸èƒ½å’Œå®ƒé‡äº†\n\n```yml\nserver:\n  port: 8880\n```\n\n\n\n* å¯åŠ¨ç±»æ·»åŠ `mapper`æ¥å£æ‰«æè·¯å¾„\n\n```java\n@MapperScan(\"weixindemo.mapper\") //mybatis mapperæ¥å£æ‰«æ\n```\n\n![image-20210415000824262](https://gitee.com/faro/images/raw/master/img/20210415000824.png)\n\n\n\n### 5. MVC åŒ…å»ºç«‹\n\næˆ‘ä»¬è¿˜è¦å»ºç«‹ ==service==ï¼Œ==util==ï¼Œ==controller==åŒ…\n\n![image-20210415001226689](https://gitee.com/faro/images/raw/master/img/20210415001226.png)\n\n![image-20210415001237989](https://gitee.com/faro/images/raw/master/img/20210415001238.png)\n\n\n\n### 5. æµ‹è¯• Mybatis é…ç½®\n\né…ç½®åˆ°è¿™ä¸€æ­¥ï¼Œè¦å¯¹ä¹‹å‰çš„é…ç½®ï¼Œè¿›è¡Œä¸€ä¸ªæµ‹è¯•\n\n* pojo ä¸­ï¼Œæ–°å»º Test å®ä½“ç±»\n\n![image-20210415001028711](https://gitee.com/faro/images/raw/master/img/20210415001028.png)\n\n```java\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Test {\n    private Integer id;\n    private String name;\n}\n```\n\n\n\n* mapper åŒ…ä¸­ï¼Œæ–°å»º TestMapper æ¥å£\n\n![image-20210415001403532](https://gitee.com/faro/images/raw/master/img/20210415001420.png)\n\n```java\n@Repository\n@Mapper\npublic interface TestMapper {\n    List<Test> getList();\n}\n```\n\n\n\n* resources ä¸‹çš„ mapper æ–‡ä»¶å¤¹ä¸­ï¼Œå¢åŠ  TestMapper.xml å®ç°\n\n  ![image-20210415002153386](https://gitee.com/faro/images/raw/master/img/20210415002153.png)\n\nå…·ä½“å†…å®¹ï¼Œè¦æ ¹æ®å®é™…é¡¹ç›®ä¿®æ”¹\n\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n<!DOCTYPE mapper PUBLIC \"-//mybatis.org//DTD Mapper 3.0//EN\"\n    \"http://mybatis.org/dtd/mybatis-3-mapper.dtd\">\n\n<!--namespaceè¦å’Œæ¥å£çš„ä½ç½®å’Œåå­—å¯¹åº”-->\n<mapper namespace=\"weixindemo.mapper.TestMapper\">\n\n    <select id=\"getList\" resultType=\"weixindemo.pojo.Test\">\n        select * from test\n    </select>\n\n</mapper>\n```\n\n![image-20210415002240288](https://gitee.com/faro/images/raw/master/img/20210415002240.png)\n\n\n\n* åœ¨ service åŒ…ä¸‹ï¼Œæ–°å»º TestService\n\n![](https://gitee.com/faro/images/raw/master/img/20210415002439.png)\n\nåˆ«å¿˜äº†åŠ ä¸Š @Service æ³¨è§£\n\n```java\n@Service\npublic class TestService {\n\n    @Autowired\n    private TestMapper mapper;\n\n    public List<Test> getList() {\n        return mapper.getList();\n    }\n}\n```\n\n\n\n* åœ¨ controlleråŒ…ä¸‹ï¼Œæ–°å»º TestController\n\n![image-20210415002611361](https://gitee.com/faro/images/raw/master/img/20210415002611.png)\n\n```java\n@RestController\npublic class TestController {\n\n    @Autowired\n    private TestService testService;\n    \n\n    @RequestMapping(\"/test/list\")\n    public List<Test> list() {\n        return testService.getList();\n    }\n\n}\n```\n\n\n\n* é‡å¯é¡¹ç›®\n\n\n\n* æ–°å»º http æ–‡ä»¶ï¼Œç¼–å†™ http æµ‹è¯•è„šæœ¬ï¼Œæ‰§è¡Œ\n\n![image-20210415002803589](https://gitee.com/faro/images/raw/master/img/20210415002803.png)\n\n```http\nGET http://localhost:8880/test/list\nAccept: application/json\n\n###\n```\n\n\n\næœ€åæˆåŠŸä»æ¥å£ä¸­è·å–æ•°æ®åº“ä¸­çš„æ•°æ®ï¼Œè¯´æ˜æˆ‘ä»¬ä¹‹å‰é…ç½®çš„éƒ½æ²¡æœ‰é”™è¯¯ï¼Œå¯ä»¥è¿›è¡Œä¸‹é¢çš„æ“ä½œ\n\n![image-20210415003021769](https://gitee.com/faro/images/raw/master/img/20210415003021.png)\n\n\n\n### 6. MyBatis ä»£ç ç”Ÿæˆå™¨\n\næˆ‘ä»¬ä¸å¯èƒ½å»å†™æ‰€æœ‰æŒä¹…å±‚çš„å®ç°ï¼Œä¸šåŠ¡ä¸­ï¼Œè¿™éƒ¨åˆ†éƒ½æ˜¯è‡ªåŠ¨ç”Ÿæˆçš„\n\n\n\n* å¯¼å…¥ Maven ä¾èµ–\n\næ³¨æ„ï¼Œ==æ˜¯æ”¾åœ¨`plugiuns`ä¸‹é¢çš„==\n\n```xml\n<!-- mybatis generator è‡ªåŠ¨ç”Ÿæˆä»£ç æ’ä»¶ -->\n            <plugin>\n                <groupId>org.mybatis.generator</groupId>\n                <artifactId>mybatis-generator-maven-plugin</artifactId>\n                <version>1.4.0</version>\n                <configuration>\n                    <configurationFile>src/main/resources/generator/generator-config.xml</configurationFile>\n                    <overwrite>true</overwrite>\n                    <verbose>true</verbose>\n                </configuration>\n                <dependencies>\n                    <dependency>\n                        <groupId>mysql</groupId>\n                        <artifactId>mysql-connector-java</artifactId>\n                        <version>8.0.22</version>\n                    </dependency>\n                </dependencies>\n            </plugin>\n```\n\n\n\n* å»ºç«‹ä»£ç”Ÿæˆå™¨ä½ç½®\n\npomæ–‡ä»¶ä¸­ï¼Œæ˜¾ç¤ºäº†è¦åˆ›å»ºçš„ä»£ç ç”Ÿæˆå™¨çš„ä½ç½®`src/main/resources/generator/generator-config.xml`\n\n```xml\n<configurationFile>\n  src/main/resources/generator/generator-config.xml\n</configurationFile>\n```\n\n![image-20210323131202189](https://gitee.com/faro/images/raw/master/img/20210323131202.png)\n\n\n\n* ä»£ç ç”Ÿæˆå™¨ä»£ç \n\nä»`jdbcConnection`å¼€å§‹ï¼Œåˆ«å¿˜äº†==æ ¹æ®é¡¹ç›®è¿›è¡Œä¿®æ”¹==\n\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<!DOCTYPE generatorConfiguration\n        PUBLIC \"-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN\"\n        \"http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd\">\n\n<generatorConfiguration>\n    <context id=\"Mysql\" targetRuntime=\"MyBatis3\" defaultModelType=\"flat\">\n\n        <!-- è‡ªåŠ¨æ£€æŸ¥å…³é”®å­—ï¼Œä¸ºå…³é”®å­—å¢åŠ åå¼•å· -->\n        <property name=\"autoDelimitKeywords\" value=\"true\"/>\n        <property name=\"beginningDelimiter\" value=\"`\"/>\n        <property name=\"endingDelimiter\" value=\"`\"/>\n\n        <!--è¦†ç›–ç”ŸæˆXMLæ–‡ä»¶-->\n        <plugin type=\"org.mybatis.generator.plugins.UnmergeableXmlMappersPlugin\" />\n        <!-- ç”Ÿæˆçš„å®ä½“ç±»æ·»åŠ toString()æ–¹æ³• -->\n        <plugin type=\"org.mybatis.generator.plugins.ToStringPlugin\"/>\n\n        <!-- ä¸ç”Ÿæˆæ³¨é‡Š -->\n        <commentGenerator>\n            <property name=\"suppressAllComments\" value=\"true\"/>\n        </commentGenerator>\n\n        <jdbcConnection driverClass=\"com.mysql.cj.jdbc.Driver\"\n                        connectionURL=\"jdbc:mysql://localhost:3306/wiki?useUnicode=true&amp;characterEncoding=utf-8\"\n                        userId=\"wiki\"\n                        password=\"123456\">\n        </jdbcConnection>\n\n        <!-- domainç±»çš„ä½ç½® -->\n        <javaModelGenerator targetProject=\"src/main/java\"\n                            targetPackage=\"top.faroz.pojo\"/>\n\n        <!-- mapper xmlçš„ä½ç½® -->\n        <sqlMapGenerator targetProject=\"src/main/resources\"\n                         targetPackage=\"mapper\"/>\n\n        <!-- mapperç±»çš„ä½ç½® -->\n        <javaClientGenerator targetProject=\"src/main/java\"\n                             targetPackage=\"top.faroz.mapper\"\n                             type=\"XMLMAPPER\"/>\n\n        <table tableName=\"demo\" domainObjectName=\"Demo\"/>\n        <!--<table tableName=\"ebook\"/>-->\n        <!--<table tableName=\"category\"/>-->\n        <!--<table tableName=\"doc\"/>-->\n        <!--<table tableName=\"content\"/>-->\n        <!--<table tableName=\"user\"/>-->\n        <!--<table tableName=\"ebook_snapshot\"/>-->\n    </context>\n</generatorConfiguration>\n```\n\n\n\n* æ–°å»ºä¸€ä¸ªmavenå¯åŠ¨é¡¹\n\n![image-20210411015300856](https://gitee.com/faro/images/raw/master/img/20210411015300.png)\n\n![image-20210411015346116](https://gitee.com/faro/images/raw/master/img/20210411015346.png)\n\n```bash\nmybatis-generator:generate -e\n```\n\n![image-20210411015516818](https://gitee.com/faro/images/raw/master/img/20210411015516.png)\n\n\n\n### 7. æµ‹è¯•ä»£ç ç”Ÿæˆå™¨\n\nä»£ç ç”Ÿæˆå™¨çš„å·¥ä½œåŸç†ï¼Œæ˜¯ä»æ•°æ®åº“ä¸­å–å‡ºè¡¨ä¿¡æ¯ï¼Œç„¶åæ ¹æ®è¡¨ä¿¡æ¯ï¼Œå»æ„é€ æŒä¹…å±‚ä»£ç ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬è¦å†å»å»ºä¸€ä¸ªè¡¨\n\n\n\n* all.sql æ·»åŠ  demo è¡¨çš„å¢åŠ  SQL è¯­å¥ï¼Œå¹¶æ‰§è¡Œ\n\n```sql\n# demoåˆ—è¡¨\ndrop table if exists `demo`;\ncreate table `demo` (\n    `id` bigint not null comment 'id',\n    `name` varchar(50) comment 'åç§°',\n    primary key (`id`)\n) engine=innodb default charset =utf8mb4 comment 'æµ‹è¯•';\n\ninsert into `demo` (id,name) values(2,'æµ‹è¯•2');\n```\n\n\n\n* åœ¨ä»£ç ç”Ÿæˆå™¨æœ€åçš„éƒ¨åˆ†ï¼Œå¡«ä¸Šè¦ç”Ÿæˆçš„è¡¨å\n\n![image-20210415012438872](https://gitee.com/faro/images/raw/master/img/20210415012439.png)\n\n\n\n* æ‰§è¡Œ\n\n![image-20210415012552449](https://gitee.com/faro/images/raw/master/img/20210415012552.png)\n\n\n\n* æ‰§è¡ŒæˆåŠŸï¼Œä¼šç”Ÿæˆ 4 ä¸ªæ–°æ–‡ä»¶\n\n![image-20210415012630004](https://gitee.com/faro/images/raw/master/img/20210415012630.png)\n\n\n\n* æˆ‘ä»¬æ¨¡ä»¿ Testï¼Œå»å†™ Demoçš„ Service å’Œ Controller ä»£ç \n\n```java\n@RestController\npublic class DemoController {\n\n    @Autowired\n    private DemoService demoService;\n\n    @RequestMapping(\"/demo/list\")\n    public List<Demo> list() {\n        return demoService.getList();\n    }\n}\n```\n\n```java\n@Service\npublic class DemoService {\n\n    @Resource\n    private DemoMapper demoMapper;\n\n    public List<Demo> getList() {\n        List<Demo> list = demoMapper.selectByExample(null);\n        return list;\n    }\n}\n```\n\n\n\n* æ·»åŠ  demo çš„ http æµ‹è¯•è„šæœ¬\n\n```http\nGET http://localhost:8880/demo/list\nAccept: application/json\n\n###\n```\n\næµ‹è¯•æˆåŠŸï¼Œè¯´æ˜æˆ‘ä»¬ç”¨ä»£ç ç”Ÿæˆå™¨ç”Ÿæˆçš„ä»£ç æ²¡æœ‰é—®é¢˜\n\n![image-20210415013323695](https://gitee.com/faro/images/raw/master/img/20210415013323.png)\n\n\n\n### 8. è§£å†³å‰åç«¯è·¨åŸŸé—®é¢˜\n\nè™½ç„¶ç°åœ¨è¿˜æ²¡æœ‰æ„å»ºå‰ç«¯é¡¹ç›®ï¼Œä½†æ˜¯åé¢ï¼Œä¼šå‡ºç°è·¨åŸŸé—®é¢˜\n\n\n\n* æ–°å»º CorsConfig ç±»\n\n![image-20210415013643183](https://gitee.com/faro/images/raw/master/img/20210415013643.png)\n\n\n\n* ä»£ç å¦‚ä¸‹\n\nä¸ç”¨æ”¹åŠ¨ï¼Œç›´æ¥ç”¨ï¼Œåˆ«å¿˜äº†åŠ ä¸Š==@Configuration==æ³¨è§£\n\n```java\n@Configuration\npublic class CorsConfig implements WebMvcConfigurer {\n\n    @Override\n    public void addCorsMappings(CorsRegistry registry) {\n        registry.addMapping(\"/**\")\n                .allowedOriginPatterns(\"*\")\n                .allowedHeaders(CorsConfiguration.ALL)\n                .allowedMethods(CorsConfiguration.ALL)\n                .allowCredentials(true)\n                .maxAge(3600); // 1å°æ—¶å†…ä¸éœ€è¦å†é¢„æ£€ï¼ˆå‘OPTIONSè¯·æ±‚ï¼‰\n    }\n}\n```\n\n\n\n### 9. æ·»åŠ é›ªèŠ±ç®—æ³•å·¥å…·ç±»\n\né›ªèŠ±ç®—æ³•ï¼Œç”¨æ¥ç”Ÿæˆå”¯ä¸€ ID\n\n\n\n* æ–°å»º SnowFlake å·¥å…·ç±»\n\n![image-20210415014504164](https://gitee.com/faro/images/raw/master/img/20210415014504.png)\n\n\n\n* ä»£ç å¦‚ä¸‹\n\nåˆ«å¿˜äº†åŠ ä¸Š @Component æ³¨è§£\n\n```java\n@Component\npublic class SnowFlake {\n    /**\n     * èµ·å§‹çš„æ—¶é—´æˆ³\n     */\n    private final static long START_STMP = 1609459200000L; // 2021-01-01 00:00:00\n\n    /**\n     * æ¯ä¸€éƒ¨åˆ†å ç”¨çš„ä½æ•°\n     */\n    private final static long SEQUENCE_BIT = 12; //åºåˆ—å·å ç”¨çš„ä½æ•°\n    private final static long MACHINE_BIT = 5;   //æœºå™¨æ ‡è¯†å ç”¨çš„ä½æ•°\n    private final static long DATACENTER_BIT = 5;//æ•°æ®ä¸­å¿ƒå ç”¨çš„ä½æ•°\n\n    /**\n     * æ¯ä¸€éƒ¨åˆ†çš„æœ€å¤§å€¼\n     */\n    private final static long MAX_DATACENTER_NUM = -1L ^ (-1L << DATACENTER_BIT);\n    private final static long MAX_MACHINE_NUM = -1L ^ (-1L << MACHINE_BIT);\n    private final static long MAX_SEQUENCE = -1L ^ (-1L << SEQUENCE_BIT);\n\n    /**\n     * æ¯ä¸€éƒ¨åˆ†å‘å·¦çš„ä½ç§»\n     */\n    private final static long MACHINE_LEFT = SEQUENCE_BIT;\n    private final static long DATACENTER_LEFT = SEQUENCE_BIT + MACHINE_BIT;\n    private final static long TIMESTMP_LEFT = DATACENTER_LEFT + DATACENTER_BIT;\n\n    private long datacenterId = 1;  //æ•°æ®ä¸­å¿ƒ\n    private long machineId = 1;     //æœºå™¨æ ‡è¯†\n    private long sequence = 0L; //åºåˆ—å·\n    private long lastStmp = -1L;//ä¸Šä¸€æ¬¡æ—¶é—´æˆ³\n\n    public SnowFlake() {\n    }\n\n    public SnowFlake(long datacenterId, long machineId) {\n        if (datacenterId > MAX_DATACENTER_NUM || datacenterId < 0) {\n            throw new IllegalArgumentException(\"datacenterId can't be greater than MAX_DATACENTER_NUM or less than 0\");\n        }\n        if (machineId > MAX_MACHINE_NUM || machineId < 0) {\n            throw new IllegalArgumentException(\"machineId can't be greater than MAX_MACHINE_NUM or less than 0\");\n        }\n        this.datacenterId = datacenterId;\n        this.machineId = machineId;\n    }\n\n    /**\n     * äº§ç”Ÿä¸‹ä¸€ä¸ªID\n     *\n     * @return\n     */\n    public synchronized long nextId() {\n        long currStmp = getNewstmp();\n        if (currStmp < lastStmp) {\n            throw new RuntimeException(\"Clock moved backwards.  Refusing to generate id\");\n        }\n\n        if (currStmp == lastStmp) {\n            //ç›¸åŒæ¯«ç§’å†…ï¼Œåºåˆ—å·è‡ªå¢\n            sequence = (sequence + 1) & MAX_SEQUENCE;\n            //åŒä¸€æ¯«ç§’çš„åºåˆ—æ•°å·²ç»è¾¾åˆ°æœ€å¤§\n            if (sequence == 0L) {\n                currStmp = getNextMill();\n            }\n        } else {\n            //ä¸åŒæ¯«ç§’å†…ï¼Œåºåˆ—å·ç½®ä¸º0\n            sequence = 0L;\n        }\n\n        lastStmp = currStmp;\n\n        return (currStmp - START_STMP) << TIMESTMP_LEFT //æ—¶é—´æˆ³éƒ¨åˆ†\n                | datacenterId << DATACENTER_LEFT       //æ•°æ®ä¸­å¿ƒéƒ¨åˆ†\n                | machineId << MACHINE_LEFT             //æœºå™¨æ ‡è¯†éƒ¨åˆ†\n                | sequence;                             //åºåˆ—å·éƒ¨åˆ†\n    }\n\n    private long getNextMill() {\n        long mill = getNewstmp();\n        while (mill <= lastStmp) {\n            mill = getNewstmp();\n        }\n        return mill;\n    }\n\n    private long getNewstmp() {\n        return System.currentTimeMillis();\n    }\n\n    // public static void main(String[] args) throws ParseException {\n    //     // æ—¶é—´æˆ³\n    //     // System.out.println(System.currentTimeMillis());\n    //     // System.out.println(new Date().getTime());\n    //     //\n    //     // String dateTime = \"2021-01-01 08:00:00\";\n    //     // SimpleDateFormat sdf = new SimpleDateFormat(\"yyyy-MM-dd hh:mm:ss\");\n    //     // System.out.println(sdf.parse(dateTime).getTime());\n    //\n    //     SnowFlake snowFlake = new SnowFlake(1, 1);\n    //\n    //     long start = System.currentTimeMillis();\n    //     for (int i = 0; i < 10; i++) {\n    //         System.out.println(snowFlake.nextId());\n    //         System.out.println(System.currentTimeMillis() - start);\n    //     }\n    // }\n\n}\n```\n\n\n\n\n\n### 10. æ·»åŠ  AOP\n\nAOP ç”¨æ¥æ‰“å°æ¥å£æ—¥å¿—ï¼Œæ–¹ä¾¿åæœŸè°ƒè¯•\n\n\n\n* Maven ä¸­å¼•å…¥ fastjsonï¼Œå› ä¸º æˆ‘ä»¬çš„ç±»ä¸­è¦ç”¨\n\n```xml\n <!--fastjson-->\n<dependency>\n  <groupId>com.alibaba</groupId>\n  <artifactId>fastjson</artifactId>\n  <version>1.2.70</version>\n</dependency>\n```\n\n\n\n* Maven å¼•å…¥ AOP\n\n```xml\n<!--å¯¼å…¥aop-->\n<dependency>\n  <groupId>org.springframework.boot</groupId>\n  <artifactId>spring-boot-starter-aop</artifactId>\n</dependency>\n```\n\n\n\n* æ·»åŠ  RequestContext å·¥å…·ç±»\n\nè¿™ä¸ªæ˜¯åæœŸä¸ºäº†æ‰“å° WebSocket æ—¥å¿—çš„\n\n![image-20210415014912415](https://gitee.com/faro/images/raw/master/img/20210415014912.png)\n\n```java\npublic class RequestContext implements Serializable {\n    private static ThreadLocal<String> remoteAddr = new ThreadLocal<>();\n\n    public static String getRemoteAddr() {\n        return remoteAddr.get();\n    }\n\n    public static void setRemoteAddr(String remoteAddr) {\n        weixindemo.util.RequestContext.remoteAddr.set(remoteAddr);\n    }\n}\n```\n\n\n\n* æ–°å»º aspect åŒ…ï¼Œå¹¶æ–°å»º LogAspect ç±»\n\n![image-20210415013942484](https://gitee.com/faro/images/raw/master/img/20210415013942.png)\n\n\n\n**LogAspect ä»£ç å¦‚ä¸‹:**\n\nåˆ‡ç‚¹çš„ä»£ç ï¼Œæˆ‘ä»¬è¦ä¾æ®é¡¹ç›®ä¿®æ”¹\n\n![image-20210415015319943](https://gitee.com/faro/images/raw/master/img/20210415015320.png)\n\n```java\n@Aspect\n@Component\npublic class LogAspect {\n    private final static Logger LOG = LoggerFactory.getLogger(weixindemo.aspect.LogAspect.class);\n\n    @Resource\n    private SnowFlake snowFlake;\n\n    /** å®šä¹‰ä¸€ä¸ªåˆ‡ç‚¹ */\n    @Pointcut(\"execution(public * weixindemo.controller..*Controller.*(..))\")\n    public void controllerPointcut() {}\n\n    // @Resource\n    // private SnowFlake snowFlake;\n\n    @Before(\"controllerPointcut()\")\n    public void doBefore(JoinPoint joinPoint) throws Throwable {\n\n        // å¢åŠ æ—¥å¿—æµæ°´å·\n        MDC.put(\"LOG_ID\", String.valueOf(snowFlake.nextId()));\n\n        // å¼€å§‹æ‰“å°è¯·æ±‚æ—¥å¿—\n        ServletRequestAttributes attributes = (ServletRequestAttributes) RequestContextHolder.getRequestAttributes();\n        HttpServletRequest request = attributes.getRequest();\n        Signature signature = joinPoint.getSignature();\n        String name = signature.getName();\n\n        // æ‰“å°è¯·æ±‚ä¿¡æ¯\n        LOG.info(\"------------- å¼€å§‹ -------------\");\n        LOG.info(\"è¯·æ±‚åœ°å€: {} {}\", request.getRequestURL().toString(), request.getMethod());\n        LOG.info(\"ç±»åæ–¹æ³•: {}.{}\", signature.getDeclaringTypeName(), name);\n        LOG.info(\"è¿œç¨‹åœ°å€: {}\", request.getRemoteAddr());\n\n        RequestContext.setRemoteAddr(getRemoteIp(request));\n\n        // æ‹¿åˆ°æ‰€æœ‰çš„å‚æ•°\n        Object[] args = joinPoint.getArgs();\n        // LOG.info(\"è¯·æ±‚å‚æ•°: {}\", JSONObject.toJSONString(args));\n\n        Object[] arguments  = new Object[args.length];\n        for (int i = 0; i < args.length; i++) {\n            if (args[i] instanceof ServletRequest\n                    || args[i] instanceof ServletResponse\n                    || args[i] instanceof MultipartFile) {\n                continue;\n            }\n            arguments[i] = args[i];\n        }\n        // æ’é™¤å­—æ®µï¼Œæ•æ„Ÿå­—æ®µæˆ–å¤ªé•¿çš„å­—æ®µä¸æ˜¾ç¤º\n        String[] excludeProperties = {\"password\", \"file\"};\n        PropertyPreFilters filters = new PropertyPreFilters();\n        PropertyPreFilters.MySimplePropertyPreFilter excludefilter = filters.addFilter();\n        excludefilter.addExcludes(excludeProperties);\n        LOG.info(\"è¯·æ±‚å‚æ•°: {}\", JSONObject.toJSONString(arguments, excludefilter));\n    }\n\n    @Around(\"controllerPointcut()\")\n    public Object doAround(ProceedingJoinPoint proceedingJoinPoint) throws Throwable {\n        long startTime = System.currentTimeMillis();\n        Object result = proceedingJoinPoint.proceed();\n        // æ’é™¤å­—æ®µï¼Œæ•æ„Ÿå­—æ®µæˆ–å¤ªé•¿çš„å­—æ®µä¸æ˜¾ç¤º\n        String[] excludeProperties = {\"password\", \"file\"};\n        PropertyPreFilters filters = new PropertyPreFilters();\n        PropertyPreFilters.MySimplePropertyPreFilter excludefilter = filters.addFilter();\n        excludefilter.addExcludes(excludeProperties);\n        LOG.info(\"è¿”å›ç»“æœ: {}\", JSONObject.toJSONString(result, excludefilter));\n        LOG.info(\"------------- ç»“æŸ è€—æ—¶ï¼š{} ms -------------\", System.currentTimeMillis() - startTime);\n        return result;\n    }\n\n    /**\n     * ä½¿ç”¨nginxåšåå‘ä»£ç†ï¼Œéœ€è¦ç”¨è¯¥æ–¹æ³•æ‰èƒ½å–åˆ°çœŸå®çš„è¿œç¨‹IP\n     * å½“æˆ‘ä»¬å‘å¸ƒä¸Šçº¿åï¼Œå› ä¸ºå‰ç«¯ã€åç«¯éƒ½æ˜¯ç”¨80ç«¯å£ï¼Œä¼šå†²çª\n     * æ‰€ä»¥ç”¨æˆ·è®¿é—®çš„æ—¶å€™ï¼Œéœ€è¦å…ˆå»è®¿é—® nginxï¼Œç„¶åï¼Œè®© nginx å»åå‘ä»£ç†ï¼Œæ‰¾æˆ‘ä»¬è¦è®¿é—®çš„è·¯å¾„\n     * @param request\n     * @return\n     */\n    public String getRemoteIp(HttpServletRequest request) {\n        String ip = request.getHeader(\"x-forwarded-for\");\n        if (ip == null || ip.length() == 0 || \"unknown\".equalsIgnoreCase(ip)) {\n            ip = request.getHeader(\"Proxy-Client-IP\");\n        }\n        if (ip == null || ip.length() == 0 || \"unknown\".equalsIgnoreCase(ip)) {\n            ip = request.getHeader(\"WL-Proxy-Client-IP\");\n        }\n        if (ip == null || ip.length() == 0 || \"unknown\".equalsIgnoreCase(ip)) {\n            ip = request.getRemoteAddr();\n        }\n        return ip;\n    }\n}\n```\n\n\n\n### 11. è§£å†³å‰åç«¯ Long ç²¾åº¦ä¸¢å¤±é—®é¢˜\n\næˆ‘ä»¬åæœŸä¼šç”¨åˆ° MD5 åŠ å¯†ï¼Œåˆ°æ—¶å€™åç«¯ä¼ åˆ°å‰ç«¯çš„æ—¶å€™ï¼Œå› ä¸º javascript number çš„ç²¾åº¦é—®é¢˜ï¼Œä¼šå‡ºç°æ•°æ®ä¸¢å¤±\n\n\n\n* é…ç½®æ–‡ä»¶æ–°å¢ JacksonConfig ç±»\n\n![image-20210415020223600](https://gitee.com/faro/images/raw/master/img/20210415020223.png)\n\n\n\n* ä»£ç å¦‚ä¸‹\n\n```java\n@Configuration\npublic class JacksonConfig {\n\n    @Bean\n    public ObjectMapper jacksonObjectMapper(Jackson2ObjectMapperBuilder builder) {\n        ObjectMapper objectMapper = builder.createXmlMapper(false).build();\n        SimpleModule simpleModule = new SimpleModule();\n        // simpleModule.addSerializer(Long.class, ToStringSerializer.instance);\n        simpleModule.addSerializer(Long.class, ToStringSerializer.instance);\n        objectMapper.registerModule(simpleModule);\n        return objectMapper;\n    }\n}\n```\n\n\n\n### 12. æ–°å»º req resp åŒ…\n\næˆ‘ä»¬è¦å°†è¯·æ±‚ä¸è¿”å›åŒ…è£…\n\n![image-20210415020648707](https://gitee.com/faro/images/raw/master/img/20210415020648.png)\n\n\n\n### 13. CommonResp\n\nä¸ºäº†æ–¹ä¾¿å‰ç«¯è°ƒç”¨ï¼Œåç«¯çš„ respï¼Œæˆ‘ä»¬å†™ä¸€ä¸ªç»Ÿä¸€çš„è¿”å› CommonResp\n\n![image-20210415020805724](https://gitee.com/faro/images/raw/master/img/20210415020805.png)\n\n**ä»£ç å¦‚ä¸‹ï¼š**\n\n```java\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class CommonResp<T> {\n    /**\n     * è¿”å›æ˜¯å¦æˆåŠŸ\n     */\n    private boolean isSuccess=true;\n\n    /**\n     * è¿”å›å¤±è´¥æ—¶ï¼Œè¿”å›çš„é”™è¯¯ä¿¡æ¯\n     */\n    private String message;\n\n    /**\n     * è¿”å›æˆåŠŸçš„æ—¶å€™ï¼Œè¿”å›çš„å†…å®¹\n     */\n    private T content;\n}\n```\n\n\n\n### 14. è‡ªå®šä¹‰å¼‚å¸¸\n\n* æ–°å»ºå¼‚å¸¸ç±»`BusinessException`å’Œå¼‚å¸¸ä¿¡æ¯æšä¸¾`BusinessExceptionCode`\n\n![image-20210415021357196](https://gitee.com/faro/images/raw/master/img/20210415021357.png)\n\n\n\n* `BusinessException`ä»£ç \n\n```java\npublic class BusinessException extends RuntimeException{\n    private BusinessExceptionCode code;\n\n    public BusinessException (BusinessExceptionCode code) {\n        /**\n         * çˆ¶ç±»æœ‰ä¸ªæˆå‘˜å˜é‡  private String desc\n         * éœ€è¦ä¸ºè¿™ä¸ªæˆå‘˜å˜é‡èµ‹å€¼\n         */\n        super(code.getDesc());\n        this.code = code;\n    }\n\n    public BusinessExceptionCode getCode() {\n        return code;\n    }\n\n    public void setCode(BusinessExceptionCode code) {\n        this.code = code;\n    }\n\n    /**\n     * ä¸å†™å…¥å †æ ˆä¿¡æ¯ï¼Œæé«˜æ€§èƒ½\n     */\n    @Override\n    public Throwable fillInStackTrace() {\n        return this;\n    }\n}\n```\n\n\n\n* `BusinessExceptionCode`ä»£ç \n\n```java\npublic enum BusinessExceptionCode {\n    USER_LOGIN_NAME_EXIST(\"ç™»å½•åå·²å­˜åœ¨\"),\n    LOGIN_USER_ERROR(\"ç”¨æˆ·åä¸å­˜åœ¨æˆ–å¯†ç é”™è¯¯\"),\n    VOTE_REPEAT(\"æ‚¨å·²ç‚¹èµè¿‡\"),\n    ;\n\n    private String desc;\n\n    BusinessExceptionCode(String desc) {\n        this.desc = desc;\n    }\n\n    public String getDesc() {\n        return desc;\n    }\n\n    public void setDesc(String desc) {\n        this.desc = desc;\n    }\n}\n```\n\n\n\n\n\n### 13. ç»Ÿä¸€å¼‚å¸¸å¤„ç†\n\næˆ‘ä»¬æ‰€æœ‰å¼‚å¸¸ï¼Œéƒ½é€šè¿‡è¿™ä¸ªç±»æ¥æ•è·ï¼Œå¹¶ç”Ÿæˆä¸€ä¸ªè¿”å›é”™è¯¯ä¿¡æ¯çš„ CommonResp\n\n\n\n* æ–°å»º ControllerExceptionHandler ç±»\n\n![](https://gitee.com/faro/images/raw/master/img/20210415020947.png)\n\n\n\n* ä»£ç å¦‚ä¸‹\n\nlogger è¦æ ¹æ®é¡¹ç›®æ”¹ä¸€ä¸‹\n\n```java\n/**\n * ç»Ÿä¸€å¼‚å¸¸å¤„ç†ã€æ•°æ®é¢„å¤„ç†ç­‰\n * è¯¥ç±»ç”¨äºæ•è·ç³»ç»Ÿå¼¹å‡ºçš„å¼‚å¸¸\n * å°†å¼‚å¸¸åŒ…è£…æˆä¸€ä¸ª CommonResp\n * ä»è€Œæ–¹ä¾¿å‰ç«¯è°ƒç”¨ï¼Œæ˜¾ç¤ºé”™è¯¯ä¿¡æ¯\n */\n@ControllerAdvice\npublic class ControllerExceptionHandler {\n    private static final Logger LOG = LoggerFactory.getLogger(top.faroz.controller.ControllerExceptionHandler.class);\n\n    /**\n     * æ ¡éªŒå¼‚å¸¸ç»Ÿä¸€å¤„ç†\n     * @param e\n     * @return\n     */\n    @ExceptionHandler(value = BindException.class)\n    @ResponseBody\n    public CommonResp validExceptionHandler(BindException e) {\n        CommonResp commonResp = new CommonResp();\n        LOG.warn(\"å‚æ•°æ ¡éªŒå¤±è´¥ï¼š{}\", e.getBindingResult().getAllErrors().get(0).getDefaultMessage());\n        commonResp.setSuccess(false);\n        commonResp.setMessage(e.getBindingResult().getAllErrors().get(0).getDefaultMessage());\n        return commonResp;\n    }\n\n    /**\n     * æ ¡éªŒå¼‚å¸¸ç»Ÿä¸€å¤„ç†\n     * @param e\n     * @return\n     */\n    @ExceptionHandler(value = BusinessException.class)\n    @ResponseBody\n    public CommonResp validExceptionHandler(BusinessException e) {\n        CommonResp commonResp = new CommonResp();\n        LOG.warn(\"ä¸šåŠ¡å¼‚å¸¸ï¼š{}\", e.getCode().getDesc());\n        commonResp.setSuccess(false);\n        commonResp.setMessage(e.getCode().getDesc());\n        return commonResp;\n    }\n\n    /**\n     * æ ¡éªŒå¼‚å¸¸ç»Ÿä¸€å¤„ç†\n     * @param e\n     * @return\n     */\n    @ExceptionHandler(value = Exception.class)\n    @ResponseBody\n    public CommonResp validExceptionHandler(Exception e) {\n        CommonResp commonResp = new CommonResp();\n        LOG.error(\"ç³»ç»Ÿå¼‚å¸¸ï¼š\", e);\n        commonResp.setSuccess(false);\n        commonResp.setMessage(\"ç³»ç»Ÿå‡ºç°å¼‚å¸¸ï¼Œè¯·è”ç³»ç®¡ç†å‘˜\");\n        return commonResp;\n    }\n}\n```\n\n\n\n### 14. æ·»åŠ æ—¥å¿—è®°å½• logback\n\n* åœ¨ resource ä¸‹ï¼Œæ–°å»ºlogback-spring.xml æ–‡ä»¶\n\n![image-20210411004947139](https://gitee.com/faro/images/raw/master/img/20210411004947.png)\n\n* å†™å…¥å†…å®¹\n\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<configuration>\n    <!-- ä¿®æ”¹ä¸€ä¸‹è·¯å¾„-->\n    <property name=\"PATH\" value=\"./log\"></property>\n\n    <appender name=\"STDOUT\" class=\"ch.qos.logback.core.ConsoleAppender\">\n        <encoder>\n            <Pattern>%d{yyyy-MM-dd HH:mm:ss.SSS} %highlight(%-5level) %blue(%-50logger{50}:%-4line) %thread %msg%n</Pattern>\n            <!--<Pattern>%d{ss.SSS} %highlight(%-5level) %blue(%-30logger{30}:%-4line) %thread %green(%-18X{LOG_ID}) %msg%n</Pattern>-->\n        </encoder>\n    </appender>\n\n    <appender name=\"TRACE_FILE\" class=\"ch.qos.logback.core.rolling.RollingFileAppender\">\n        <file>${PATH}/trace.log</file>\n        <rollingPolicy class=\"ch.qos.logback.core.rolling.TimeBasedRollingPolicy\">\n            <FileNamePattern>${PATH}/trace.%d{yyyy-MM-dd}.%i.log</FileNamePattern>\n            <timeBasedFileNamingAndTriggeringPolicy class=\"ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP\">\n                <maxFileSize>10MB</maxFileSize>\n            </timeBasedFileNamingAndTriggeringPolicy>\n        </rollingPolicy>\n        <layout>\n            <pattern>%d{yyyy-MM-dd HH:mm:ss.SSS} %-5level %-50logger{50}:%-4line %green(%-18X{LOG_ID}) %msg%n</pattern>\n        </layout>\n    </appender>\n\n    <appender name=\"ERROR_FILE\" class=\"ch.qos.logback.core.rolling.RollingFileAppender\">\n        <file>${PATH}/error.log</file>\n        <rollingPolicy class=\"ch.qos.logback.core.rolling.TimeBasedRollingPolicy\">\n            <FileNamePattern>${PATH}/error.%d{yyyy-MM-dd}.%i.log</FileNamePattern>\n            <timeBasedFileNamingAndTriggeringPolicy class=\"ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP\">\n                <maxFileSize>10MB</maxFileSize>\n            </timeBasedFileNamingAndTriggeringPolicy>\n        </rollingPolicy>\n        <layout>\n            <pattern>%d{yyyy-MM-dd HH:mm:ss.SSS} %-5level %-50logger{50}:%-4line %green(%-18X{LOG_ID}) %msg%n</pattern>\n        </layout>\n        <filter class=\"ch.qos.logback.classic.filter.LevelFilter\">\n            <level>ERROR</level>\n            <onMatch>ACCEPT</onMatch>\n            <onMismatch>DENY</onMismatch>\n        </filter>\n    </appender>\n\n    <root level=\"ERROR\">\n        <appender-ref ref=\"ERROR_FILE\" />\n    </root>\n\n    <root level=\"TRACE\">\n        <appender-ref ref=\"TRACE_FILE\" />\n    </root>\n\n    <root level=\"INFO\">\n        <appender-ref ref=\"STDOUT\" />\n    </root>\n</configuration>\n\n```\n\n\n\n### 15. è‡ªå®šä¹‰ banner\n\nresources ä¸‹æ–°å»º banner.txt\n\n![image-20210415023847796](https://gitee.com/faro/images/raw/master/img/20210415023847.png)\n\n\n\né‡Œé¢æ”¾ä¸Šè‡ªå®šä¹‰ banner\n\n```txt\n ********     **     *******     *******         ********\n/**/////     ****   /**////**   **/////**       //////** \n/**         **//**  /**   /**  **     //**           **  \n/*******   **  //** /*******  /**      /**          **   \n/**////   **********/**///**  /**      /**         **    \n/**      /**//////**/**  //** //**     **         **     \n/**      /**     /**/**   //** //*******   ***** ********\n//       //      // //     //   ///////   ///// //////// \n```\n\n\n\n\n","success":true}
2021-04-16 00:56:41.418 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2021-04-16 00:57:03.815 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:57:03.816 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/save POST
2021-04-16 00:57:03.817 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.save
2021-04-16 00:57:03.818 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:57:03.845 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [{"content":"<p><br/># å®Œæ•´é¡¹ç›®æ­å»ºæµç¨‹<br/><br/>è™½è¯´ SpringBoot ç›¸è¾ƒäº SSM æ¡†æ¶ï¼Œå¤§å¤§å‡è½»äº†é…ç½®çš„ç¹çï¼Œä½†æ˜¯ï¼Œè¦æ•´åˆ MyBatis ï¼Œç»Ÿä¸€å¼‚å¸¸å¤„ç†ï¼ŒVueç­‰ä¸€ç³»åˆ—ä¸œè¥¿ï¼Œè¿˜æ˜¯è¦è´¹ä¸€ç•ªåŠ²çš„ã€‚<br/><br/>è¿™æ¬¡å°†åˆ›å»ºçš„æ•´ä¸ªæµç¨‹è®°å½•ä¸‹æ¥ï¼Œæ–¹ä¾¿ä»¥åçš„é¡¹ç›®æ­å»ºã€‚<br/><br/>è¦æ­å»ºä¸€ä¸ªå®Œæˆçš„å‰åç«¯åˆ†ç¦»é¡¹ç›®ï¼Œåˆ†ä¸ºè¿™ä¹ˆå‡ ä¸ªéƒ¨åˆ†ï¼š==æ•°æ®åº“ã€åç«¯ã€å‰ç«¯==<br/><br/>å¦‚æœæ˜¯ä¸ºå¾®ä¿¡å°ç¨‹åºæ­å»ºä¸€ä¸ªåç«¯æœåŠ¡ï¼Œé‚£å°±åªè¦çœ‹åˆ°==æ•°æ®åº“ã€åç«¯==å°±å¯ä»¥äº†<br/><br/><br/><br/>## æ•°æ®åº“<br/><br/>ä¸€èˆ¬åœ¨æ–°å»ºé¡¹ç›®çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¼šé€‰æ‹©ä¸“é—¨ä¸ºè¿™ä¸ªé¡¹ç›®æ–°å»ºä¸€ä¸ªç”¨æˆ·ï¼Œå¹¶ä¸ºè¿™ä¸ªç”¨æˆ·ï¼Œèµ‹äºˆåªå±äºè¿™ä¸€ä¸ªé¡¹ç›®çš„æ‰€æœ‰æƒé™<br/><br/><br/><br/>### 1. **è¿æ¥ admin**<br/><br/>åªæœ‰ admin æœ‰æ‰€æœ‰æƒé™<br/><br/>æˆ‘çš„æ•°æ®åº“ admin çš„è´¦æˆ·åå’Œå¯†ç æ˜¯ï¼š<br/><br/>**è´¦æˆ·ï¼š**admin<br/><br/>**å¯†ç ï¼š**123<br/><br/>![image-20210411002100312](https://gitee.com/faro/images/raw/master/img/20210411003334.png)<br/><br/><br/><br/>### 2. **æ–°å»ºæ•°æ®åº“**<br/><br/>å…¶å­—ç¬¦ç±»å‹ä¸€å®šè¦é€‰æ‹©==utf8mb4==ï¼Œè¿™æ‰æ˜¯çœŸæ­£çš„ utf8ï¼Œæ”¯æŒè¡¨æƒ…ç¬¦å·<br/><br/>![image-20210411002304858](https://gitee.com/faro/images/raw/master/img/20210411002304.png)<br/><br/>### 3. **ä¸ºè¿™ä¸ªæ•°æ®åº“ï¼Œä¸“é—¨å»ºä¸€ä¸ªç”¨æˆ·**<br/><br/>å¼€å‘ç¯å¢ƒä¸­ï¼Œå°±å°†å¯†ç å’Œç”¨æˆ·åè®¾ç½®æˆä¸€æ ·çš„ï¼Œè¿™æ ·ä¸ä¼šå¿˜è®°<br/><br/>host è®¾ç½®ä¸º localhost<br/><br/>![image-20210411002742750](https://gitee.com/faro/images/raw/master/img/20210411002742.png)<br/><br/><br/><br/>### 4. **ä¸ºè¿™ä¸ªç”¨æˆ·ï¼Œæˆäºˆå¯¹åº”æ•°æ®åº“çš„å…¨éƒ¨æƒé™**<br/><br/>![image-20210411003034426](https://gitee.com/faro/images/raw/master/img/20210411003034.png)<br/><br/>![image-20210411002821790](https://gitee.com/faro/images/raw/master/img/20210414201958.png)<br/><br/>### 5. **å¯¹å½“å‰ç”¨æˆ·ï¼Œå»ºç«‹è¿æ¥**<br/><br/>![image-20210411002945727](https://gitee.com/faro/images/raw/master/img/20210411002945.png)<br/><br/><br/><br/><br/><br/>## åç«¯<br/><br/>å…³äº Mavenã€tomcat çš„ä¸‹è½½é…ç½®ï¼Œè¿™é‡Œå°±ä¸è´¹ç¬”å¢¨å»è®²è§£äº†ã€‚å¦‚æœ‰éœ€è¦ï¼Œå¯ä»¥è‡ªè¡Œç™¾åº¦æŸ¥æ‰¾ã€‚<br/><br/>### 1. æ–°å»º SpringBoot é¡¹ç›®<br/><br/>* ç‚¹å‡» `SpringInitiallizr`ï¼Œæ–°å»ºé¡¹ç›®<br/><br/>![image-20210414200239335](https://gitee.com/faro/images/raw/master/img/20210414200239.png)<br/><br/>* é€‰æ‹©é»˜è®¤ä¾èµ–çš„åŒ…<br/><br/>![image-20210414200420395](https://gitee.com/faro/images/raw/master/img/20210414200420.png)<br/><br/>![image-20210414200533694](https://gitee.com/faro/images/raw/master/img/20210414200533.png)<br/><br/>![image-20210414200611051](https://gitee.com/faro/images/raw/master/img/20210414200611.png)<br/><br/>* é€‰æ‹©å­˜æ”¾è·¯å¾„<br/><br/>![image-20210414200656633](https://gitee.com/faro/images/raw/master/img/20210414200656.png)<br/><br/>* æ–°å»ºå®Œæˆåï¼Œé¡¹ç›®ç›®å½•å¦‚ä¸‹<br/><br/>![image-20210414200752152](https://gitee.com/faro/images/raw/master/img/20210414200752.png)<br/><br/><br/><br/>### 2. æ›´æ”¹å¯åŠ¨ç±»ä½ç½®<br/><br/>* æ–°å»º config åŒ…ï¼Œå°†å¯åŠ¨ç±»æ”¾è¿›å»<br/><br/>![image-20210414201018806](https://gitee.com/faro/images/raw/master/img/20210414201018.png)<br/><br/><br/><br/>* ä¸ºå¯åŠ¨ç±»æ·»åŠ æ³¨è§£<br/><br/>æ³¨è§£å†…çš„ä¿¡æ¯ï¼Œæ˜¯é¡¹ç›®åç§°<br/><br/>```java<br/>@ComponentScan(\"weixindemo\")<br/>```<br/><br/>![image-20210414201210978](https://gitee.com/faro/images/raw/master/img/20210414201211.png)<br/><br/><br/><br/>### 3. IDEA æ•°æ®åº“é…ç½®<br/><br/>* IDEA è¿æ¥æ•°æ®åº“<br/><br/>![image-20210414220153821](https://gitee.com/faro/images/raw/master/img/20210414220153.png)<br/><br/>![image-20210414221502868](https://gitee.com/faro/images/raw/master/img/20210414221502.png)<br/><br/><br/><br/>* æ·»åŠ  sql è„šæœ¬<br/><br/>æ–°å»º sql æ–‡ä»¶å¤¹ï¼Œå»ºç«‹`all.sql`æ–‡ä»¶<br/><br/>![image-20210414221647283](https://gitee.com/faro/images/raw/master/img/20210414221647.png)<br/><br/><br/><br/>æˆ‘ä»¬åœ¨ sql è„šæœ¬ä¸­æ·»åŠ æµ‹è¯•ç”¨æ•°æ®ï¼Œå¹¶æ‰§è¡Œ<br/><br/>```sql<br/><br/># æµ‹è¯•è¡¨<br/>drop table if exists `test`;<br/>create table `test` (<br/>  `id` bigint not null comment 'id',<br/>  `name` varchar(50) comment 'åç§°',<br/>  `password` varchar(50) comment 'å¯†ç ',<br/>  primary key (`id`)<br/>) engine=innodb default charset=utf8mb4 comment='æµ‹è¯•';<br/><br/>insert into `test` (id, name, password) values (1, 'æµ‹è¯•', 'password');       <br/>```<br/><br/>å¯ä»¥çœ‹åˆ°ï¼Œæ•°æ®åº“å·²å»ºç«‹<br/><br/>![image-20210415000115932](https://gitee.com/faro/images/raw/master/img/20210415000131.png)<br/><br/><br/><br/>### 4. é…ç½® MyBatis<br/><br/>* åœ¨ `resource`æ–‡ä»¶å¤¹ä¸‹ï¼Œæ–°å»º `mapper`æ–‡ä»¶å¤¹<br/><br/>è¿™æ˜¯ç”¨æ¥å­˜æ”¾ MyBatis çš„å®ç°çš„<br/><br/>![image-20210414201459632](https://gitee.com/faro/images/raw/master/img/20210414201459.png)<br/><br/><br/><br/>* æ–°å»º pojo åŒ…<br/><br/>pojo åŒ…ç”¨æ¥å­˜æ”¾å®ä½“ç±»<br/><br/>![image-20210415000316772](https://gitee.com/faro/images/raw/master/img/20210415000316.png)<br/><br/><br/><br/>* åœ¨é¡¹ç›®ä¸‹ï¼Œæ–°å»º mapper åŒ…ï¼Œç”¨æ¥å­˜æ”¾æ¥å£<br/><br/>![image-20210415000711989](https://gitee.com/faro/images/raw/master/img/20210415000712.png)<br/><br/><br/><br/>* å°†é…ç½®æ–‡ä»¶åç¼€æ”¹ä¸º`.yml`<br/><br/>æˆ‘ä¸ªäººä¹ æƒ¯ä½¿ç”¨`.yml`è¿›è¡Œä½ç½®<br/><br/>![image-20210414201610045](https://gitee.com/faro/images/raw/master/img/20210414201610.png)<br/><br/><br/><br/>* æ·»åŠ  `Mybatis`é…ç½®<br/><br/>è¿™é‡Œï¼Œè¦æ·»åŠ æ•°æ®æºï¼Œå’Œ MyBatis çš„é…ç½®ï¼Œéƒ¨åˆ†åœ°æ–¹ï¼Œè¦æ ¹æ®å®é™…é¡¹ç›®ï¼Œè¿›è¡Œä¿®æ”¹<br/><br/>```yml<br/>spring:<br/>  datasource:<br/>    url: jdbc:mysql://localhost:3306/weixindemo?useUnicode=true&amp;characterEncoding=utf-8<br/>    username: weixindemo<br/>    password: weixindemo<br/>    driver-class-name: com.mysql.cj.jdbc.Driver<br/>    <br/>    <br/># æ•´åˆMybatis<br/>mybatis:<br/>  # ** è¡¨ç¤ºåœ¨mapperä¸‹ä¸ç®¡æœ‰å¤šå°‘æ–‡ä»¶å¤¹ï¼Œéƒ½å¯ä»¥å…¨éƒ¨è¯†åˆ«<br/>  mapper-locations: classpath:/mapper/**/*.xml<br/>  type-aliases-package: weixindemo.pojo<br/>  #  æ‰“å°sqlç›¸å…³çš„æ—¥å¿—ä¿¡æ¯<br/>  configuration:<br/>    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl<br/>```<br/><br/>![image-20210415000535841](https://gitee.com/faro/images/raw/master/img/20210415000535.png)<br/><br/><br/><br/>* æ·»åŠ ç«¯å£é…ç½®<br/><br/>å› ä¸º vue ä¹Ÿæ˜¯ç”¨çš„8080ç«¯å£ï¼Œæˆ‘ä»¬ä¸èƒ½å’Œå®ƒé‡äº†<br/><br/>```yml<br/>server:<br/>  port: 8880<br/>```<br/><br/><br/><br/>* å¯åŠ¨ç±»æ·»åŠ `mapper`æ¥å£æ‰«æè·¯å¾„<br/><br/>```java<br/>@MapperScan(\"weixindemo.mapper\") //mybatis mapperæ¥å£æ‰«æ<br/>```<br/><br/>![image-20210415000824262](https://gitee.com/faro/images/raw/master/img/20210415000824.png)<br/><br/><br/><br/>### 5. MVC åŒ…å»ºç«‹<br/><br/>æˆ‘ä»¬è¿˜è¦å»ºç«‹ ==service==ï¼Œ==util==ï¼Œ==controller==åŒ…<br/><br/>![image-20210415001226689](https://gitee.com/faro/images/raw/master/img/20210415001226.png)<br/><br/>![image-20210415001237989](https://gitee.com/faro/images/raw/master/img/20210415001238.png)<br/><br/><br/><br/>### 5. æµ‹è¯• Mybatis é…ç½®<br/><br/>é…ç½®åˆ°è¿™ä¸€æ­¥ï¼Œè¦å¯¹ä¹‹å‰çš„é…ç½®ï¼Œè¿›è¡Œä¸€ä¸ªæµ‹è¯•<br/><br/>* pojo ä¸­ï¼Œæ–°å»º Test å®ä½“ç±»<br/><br/>![image-20210415001028711](https://gitee.com/faro/images/raw/master/img/20210415001028.png)<br/><br/>```java<br/>@Data<br/>@AllArgsConstructor<br/>@NoArgsConstructor<br/>public class Test {<br/>    private Integer id;<br/>    private String name;<br/>}<br/>```<br/><br/><br/><br/>* mapper åŒ…ä¸­ï¼Œæ–°å»º TestMapper æ¥å£<br/><br/>![image-20210415001403532](https://gitee.com/faro/images/raw/master/img/20210415001420.png)<br/><br/>```java<br/>@Repository<br/>@Mapper<br/>public interface TestMapper {<br/>    List&lt;Test&gt; getList();<br/>}<br/>```<br/><br/><br/><br/>* resources ä¸‹çš„ mapper æ–‡ä»¶å¤¹ä¸­ï¼Œå¢åŠ  TestMapper.xml å®ç°<br/><br/>  ![image-20210415002153386](https://gitee.com/faro/images/raw/master/img/20210415002153.png)<br/><br/>å…·ä½“å†…å®¹ï¼Œè¦æ ¹æ®å®é™…é¡¹ç›®ä¿®æ”¹<br/><br/>```xml<br/>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" ?&gt;<br/>&lt;!DOCTYPE mapper PUBLIC \"-//mybatis.org//DTD Mapper 3.0//EN\"<br/>    \"http://mybatis.org/dtd/mybatis-3-mapper.dtd\"&gt;<br/><br/>&lt;!--namespaceè¦å’Œæ¥å£çš„ä½ç½®å’Œåå­—å¯¹åº”--&gt;<br/>&lt;mapper namespace=\"weixindemo.mapper.TestMapper\"&gt;<br/><br/>    &lt;select id=\"getList\" resultType=\"weixindemo.pojo.Test\"&gt;<br/>        select * from test<br/>    &lt;/select&gt;<br/><br/>&lt;/mapper&gt;<br/>```<br/><br/>![image-20210415002240288](https://gitee.com/faro/images/raw/master/img/20210415002240.png)<br/><br/><br/><br/>* åœ¨ service åŒ…ä¸‹ï¼Œæ–°å»º TestService<br/><br/>![](https://gitee.com/faro/images/raw/master/img/20210415002439.png)<br/><br/>åˆ«å¿˜äº†åŠ ä¸Š @Service æ³¨è§£<br/><br/>```java<br/>@Service<br/>public class TestService {<br/><br/>    @Autowired<br/>    private TestMapper mapper;<br/><br/>    public List&lt;Test&gt; getList() {<br/>        return mapper.getList();<br/>    }<br/>}<br/>```<br/><br/><br/><br/>* åœ¨ controlleråŒ…ä¸‹ï¼Œæ–°å»º TestController<br/><br/>![image-20210415002611361](https://gitee.com/faro/images/raw/master/img/20210415002611.png)<br/><br/>```java<br/>@RestController<br/>public class TestController {<br/><br/>    @Autowired<br/>    private TestService testService;<br/>    <br/><br/>    @RequestMapping(\"/test/list\")<br/>    public List&lt;Test&gt; list() {<br/>        return testService.getList();<br/>    }<br/><br/>}<br/>```<br/><br/><br/><br/>* é‡å¯é¡¹ç›®<br/><br/><br/><br/>* æ–°å»º http æ–‡ä»¶ï¼Œç¼–å†™ http æµ‹è¯•è„šæœ¬ï¼Œæ‰§è¡Œ<br/><br/>![image-20210415002803589](https://gitee.com/faro/images/raw/master/img/20210415002803.png)<br/><br/>```http<br/>GET http://localhost:8880/test/list<br/>Accept: application/json<br/><br/>###<br/>```<br/><br/><br/><br/>æœ€åæˆåŠŸä»æ¥å£ä¸­è·å–æ•°æ®åº“ä¸­çš„æ•°æ®ï¼Œè¯´æ˜æˆ‘ä»¬ä¹‹å‰é…ç½®çš„éƒ½æ²¡æœ‰é”™è¯¯ï¼Œå¯ä»¥è¿›è¡Œä¸‹é¢çš„æ“ä½œ<br/><br/>![image-20210415003021769](https://gitee.com/faro/images/raw/master/img/20210415003021.png)<br/><br/><br/><br/>### 6. MyBatis ä»£ç ç”Ÿæˆå™¨<br/><br/>æˆ‘ä»¬ä¸å¯èƒ½å»å†™æ‰€æœ‰æŒä¹…å±‚çš„å®ç°ï¼Œä¸šåŠ¡ä¸­ï¼Œè¿™éƒ¨åˆ†éƒ½æ˜¯è‡ªåŠ¨ç”Ÿæˆçš„<br/><br/><br/><br/>* å¯¼å…¥ Maven ä¾èµ–<br/><br/>æ³¨æ„ï¼Œ==æ˜¯æ”¾åœ¨`plugiuns`ä¸‹é¢çš„==<br/><br/>```xml<br/>&lt;!-- mybatis generator è‡ªåŠ¨ç”Ÿæˆä»£ç æ’ä»¶ --&gt;<br/>            &lt;plugin&gt;<br/>                &lt;groupId&gt;org.mybatis.generator&lt;/groupId&gt;<br/>                &lt;artifactId&gt;mybatis-generator-maven-plugin&lt;/artifactId&gt;<br/>                &lt;version&gt;1.4.0&lt;/version&gt;<br/>                &lt;configuration&gt;<br/>                    &lt;configurationFile&gt;src/main/resources/generator/generator-config.xml&lt;/configurationFile&gt;<br/>                    &lt;overwrite&gt;true&lt;/overwrite&gt;<br/>                    &lt;verbose&gt;true&lt;/verbose&gt;<br/>                &lt;/configuration&gt;<br/>                &lt;dependencies&gt;<br/>                    &lt;dependency&gt;<br/>                        &lt;groupId&gt;mysql&lt;/groupId&gt;<br/>                        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;<br/>                        &lt;version&gt;8.0.22&lt;/version&gt;<br/>                    &lt;/dependency&gt;<br/>                &lt;/dependencies&gt;<br/>            &lt;/plugin&gt;<br/>```<br/><br/><br/><br/>* å»ºç«‹ä»£ç”Ÿæˆå™¨ä½ç½®<br/><br/>pomæ–‡ä»¶ä¸­ï¼Œæ˜¾ç¤ºäº†è¦åˆ›å»ºçš„ä»£ç ç”Ÿæˆå™¨çš„ä½ç½®`src/main/resources/generator/generator-config.xml`<br/><br/>```xml<br/>&lt;configurationFile&gt;<br/>  src/main/resources/generator/generator-config.xml<br/>&lt;/configurationFile&gt;<br/>```<br/><br/>![image-20210323131202189](https://gitee.com/faro/images/raw/master/img/20210323131202.png)<br/><br/><br/><br/>* ä»£ç ç”Ÿæˆå™¨ä»£ç <br/><br/>ä»`jdbcConnection`å¼€å§‹ï¼Œåˆ«å¿˜äº†==æ ¹æ®é¡¹ç›®è¿›è¡Œä¿®æ”¹==<br/><br/>```xml<br/>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;<br/>&lt;!DOCTYPE generatorConfiguration<br/>        PUBLIC \"-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN\"<br/>        \"http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd\"&gt;<br/><br/>&lt;generatorConfiguration&gt;<br/>    &lt;context id=\"Mysql\" targetRuntime=\"MyBatis3\" defaultModelType=\"flat\"&gt;<br/><br/>        &lt;!-- è‡ªåŠ¨æ£€æŸ¥å…³é”®å­—ï¼Œä¸ºå…³é”®å­—å¢åŠ åå¼•å· --&gt;<br/>        &lt;property name=\"autoDelimitKeywords\" value=\"true\"/&gt;<br/>        &lt;property name=\"beginningDelimiter\" value=\"`\"/&gt;<br/>        &lt;property name=\"endingDelimiter\" value=\"`\"/&gt;<br/><br/>        &lt;!--è¦†ç›–ç”ŸæˆXMLæ–‡ä»¶--&gt;<br/>        &lt;plugin type=\"org.mybatis.generator.plugins.UnmergeableXmlMappersPlugin\" /&gt;<br/>        &lt;!-- ç”Ÿæˆçš„å®ä½“ç±»æ·»åŠ toString()æ–¹æ³• --&gt;<br/>        &lt;plugin type=\"org.mybatis.generator.plugins.ToStringPlugin\"/&gt;<br/><br/>        &lt;!-- ä¸ç”Ÿæˆæ³¨é‡Š --&gt;<br/>        &lt;commentGenerator&gt;<br/>            &lt;property name=\"suppressAllComments\" value=\"true\"/&gt;<br/>        &lt;/commentGenerator&gt;<br/><br/>        &lt;jdbcConnection driverClass=\"com.mysql.cj.jdbc.Driver\"<br/>                        connectionURL=\"jdbc:mysql://localhost:3306/wiki?useUnicode=true&amp;characterEncoding=utf-8\"<br/>                        userId=\"wiki\"<br/>                        password=\"123456\"&gt;<br/>        &lt;/jdbcConnection&gt;<br/><br/>        &lt;!-- domainç±»çš„ä½ç½® --&gt;<br/>        &lt;javaModelGenerator targetProject=\"src/main/java\"<br/>                            targetPackage=\"top.faroz.pojo\"/&gt;<br/><br/>        &lt;!-- mapper xmlçš„ä½ç½® --&gt;<br/>        &lt;sqlMapGenerator targetProject=\"src/main/resources\"<br/>                         targetPackage=\"mapper\"/&gt;<br/><br/>        &lt;!-- mapperç±»çš„ä½ç½® --&gt;<br/>        &lt;javaClientGenerator targetProject=\"src/main/java\"<br/>                             targetPackage=\"top.faroz.mapper\"<br/>                             type=\"XMLMAPPER\"/&gt;<br/><br/>        &lt;table tableName=\"demo\" domainObjectName=\"Demo\"/&gt;<br/>        &lt;!--&lt;table tableName=\"ebook\"/&gt;--&gt;<br/>        &lt;!--&lt;table tableName=\"category\"/&gt;--&gt;<br/>        &lt;!--&lt;table tableName=\"doc\"/&gt;--&gt;<br/>        &lt;!--&lt;table tableName=\"content\"/&gt;--&gt;<br/>        &lt;!--&lt;table tableName=\"user\"/&gt;--&gt;<br/>        &lt;!--&lt;table tableName=\"ebook_snapshot\"/&gt;--&gt;<br/>    &lt;/context&gt;<br/>&lt;/generatorConfiguration&gt;<br/>```<br/><br/><br/><br/>* æ–°å»ºä¸€ä¸ªmavenå¯åŠ¨é¡¹<br/><br/>![image-20210411015300856](https://gitee.com/faro/images/raw/master/img/20210411015300.png)<br/><br/>![image-20210411015346116](https://gitee.com/faro/images/raw/master/img/20210411015346.png)<br/><br/>```bash<br/>mybatis-generator:generate -e<br/>```<br/><br/>![image-20210411015516818](https://gitee.com/faro/images/raw/master/img/20210411015516.png)<br/><br/><br/><br/>### 7. æµ‹è¯•ä»£ç ç”Ÿæˆå™¨<br/><br/>ä»£ç ç”Ÿæˆå™¨çš„å·¥ä½œåŸç†ï¼Œæ˜¯ä»æ•°æ®åº“ä¸­å–å‡ºè¡¨ä¿¡æ¯ï¼Œç„¶åæ ¹æ®è¡¨ä¿¡æ¯ï¼Œå»æ„é€ æŒä¹…å±‚ä»£ç ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬è¦å†å»å»ºä¸€ä¸ªè¡¨<br/><br/><br/><br/>* all.sql æ·»åŠ  demo è¡¨çš„å¢åŠ  SQL è¯­å¥ï¼Œå¹¶æ‰§è¡Œ<br/><br/>```sql<br/># demoåˆ—è¡¨<br/>drop table if exists `demo`;<br/>create table `demo` (<br/>    `id` bigint not null comment 'id',<br/>    `name` varchar(50) comment 'åç§°',<br/>    primary key (`id`)<br/>) engine=innodb default charset =utf8mb4 comment 'æµ‹è¯•';<br/><br/>insert into `demo` (id,name) values(2,'æµ‹è¯•2');<br/>```<br/><br/><br/><br/>* åœ¨ä»£ç ç”Ÿæˆå™¨æœ€åçš„éƒ¨åˆ†ï¼Œå¡«ä¸Šè¦ç”Ÿæˆçš„è¡¨å<br/><br/>![image-20210415012438872](https://gitee.com/faro/images/raw/master/img/20210415012439.png)<br/><br/><br/><br/>* æ‰§è¡Œ<br/><br/>![image-20210415012552449](https://gitee.com/faro/images/raw/master/img/20210415012552.png)<br/><br/><br/><br/>* æ‰§è¡ŒæˆåŠŸï¼Œä¼šç”Ÿæˆ 4 ä¸ªæ–°æ–‡ä»¶<br/><br/>![image-20210415012630004](https://gitee.com/faro/images/raw/master/img/20210415012630.png)<br/><br/><br/><br/>* æˆ‘ä»¬æ¨¡ä»¿ Testï¼Œå»å†™ Demoçš„ Service å’Œ Controller ä»£ç <br/><br/>```java<br/>@RestController<br/>public class DemoController {<br/><br/>    @Autowired<br/>    private DemoService demoService;<br/><br/>    @RequestMapping(\"/demo/list\")<br/>    public List&lt;Demo&gt; list() {<br/>        return demoService.getList();<br/>    }<br/>}<br/>```<br/><br/>```java<br/>@Service<br/>public class DemoService {<br/><br/>    @Resource<br/>    private DemoMapper demoMapper;<br/><br/>    public List&lt;Demo&gt; getList() {<br/>        List&lt;Demo&gt; list = demoMapper.selectByExample(null);<br/>        return list;<br/>    }<br/>}<br/>```<br/><br/><br/><br/>* æ·»åŠ  demo çš„ http æµ‹è¯•è„šæœ¬<br/><br/>```http<br/>GET http://localhost:8880/demo/list<br/>Accept: application/json<br/><br/>###<br/>```<br/><br/>æµ‹è¯•æˆåŠŸï¼Œè¯´æ˜æˆ‘ä»¬ç”¨ä»£ç ç”Ÿæˆå™¨ç”Ÿæˆçš„ä»£ç æ²¡æœ‰é—®é¢˜<br/><br/>![image-20210415013323695](https://gitee.com/faro/images/raw/master/img/20210415013323.png)<br/><br/><br/><br/>### 8. è§£å†³å‰åç«¯è·¨åŸŸé—®é¢˜<br/><br/>è™½ç„¶ç°åœ¨è¿˜æ²¡æœ‰æ„å»ºå‰ç«¯é¡¹ç›®ï¼Œä½†æ˜¯åé¢ï¼Œä¼šå‡ºç°è·¨åŸŸé—®é¢˜<br/><br/><br/><br/>* æ–°å»º CorsConfig ç±»<br/><br/>![image-20210415013643183](https://gitee.com/faro/images/raw/master/img/20210415013643.png)<br/><br/><br/><br/>* ä»£ç å¦‚ä¸‹<br/><br/>ä¸ç”¨æ”¹åŠ¨ï¼Œç›´æ¥ç”¨ï¼Œåˆ«å¿˜äº†åŠ ä¸Š==@Configuration==æ³¨è§£<br/><br/>```java<br/>@Configuration<br/>public class CorsConfig implements WebMvcConfigurer {<br/><br/>    @Override<br/>    public void addCorsMappings(CorsRegistry registry) {<br/>        registry.addMapping(\"/**\")<br/>                .allowedOriginPatterns(\"*\")<br/>                .allowedHeaders(CorsConfiguration.ALL)<br/>                .allowedMethods(CorsConfiguration.ALL)<br/>                .allowCredentials(true)<br/>                .maxAge(3600); // 1å°æ—¶å†…ä¸éœ€è¦å†é¢„æ£€ï¼ˆå‘OPTIONSè¯·æ±‚ï¼‰<br/>    }<br/>}<br/>```<br/><br/><br/><br/>### 9. æ·»åŠ é›ªèŠ±ç®—æ³•å·¥å…·ç±»<br/><br/>é›ªèŠ±ç®—æ³•ï¼Œç”¨æ¥ç”Ÿæˆå”¯ä¸€ ID<br/><br/><br/><br/>* æ–°å»º SnowFlake å·¥å…·ç±»<br/><br/>![image-20210415014504164](https://gitee.com/faro/images/raw/master/img/20210415014504.png)<br/><br/><br/><br/>* ä»£ç å¦‚ä¸‹<br/><br/>åˆ«å¿˜äº†åŠ ä¸Š @Component æ³¨è§£<br/><br/>```java<br/>@Component<br/>public class SnowFlake {<br/>    /**<br/>     * èµ·å§‹çš„æ—¶é—´æˆ³<br/>     */<br/>    private final static long START_STMP = 1609459200000L; // 2021-01-01 00:00:00<br/><br/>    /**<br/>     * æ¯ä¸€éƒ¨åˆ†å ç”¨çš„ä½æ•°<br/>     */<br/>    private final static long SEQUENCE_BIT = 12; //åºåˆ—å·å ç”¨çš„ä½æ•°<br/>    private final static long MACHINE_BIT = 5;   //æœºå™¨æ ‡è¯†å ç”¨çš„ä½æ•°<br/>    private final static long DATACENTER_BIT = 5;//æ•°æ®ä¸­å¿ƒå ç”¨çš„ä½æ•°<br/><br/>    /**<br/>     * æ¯ä¸€éƒ¨åˆ†çš„æœ€å¤§å€¼<br/>     */<br/>    private final static long MAX_DATACENTER_NUM = -1L ^ (-1L &lt;&lt; DATACENTER_BIT);<br/>    private final static long MAX_MACHINE_NUM = -1L ^ (-1L &lt;&lt; MACHINE_BIT);<br/>    private final static long MAX_SEQUENCE = -1L ^ (-1L &lt;&lt; SEQUENCE_BIT);<br/><br/>    /**<br/>     * æ¯ä¸€éƒ¨åˆ†å‘å·¦çš„ä½ç§»<br/>     */<br/>    private final static long MACHINE_LEFT = SEQUENCE_BIT;<br/>    private final static long DATACENTER_LEFT = SEQUENCE_BIT + MACHINE_BIT;<br/>    private final static long TIMESTMP_LEFT = DATACENTER_LEFT + DATACENTER_BIT;<br/><br/>    private long datacenterId = 1;  //æ•°æ®ä¸­å¿ƒ<br/>    private long machineId = 1;     //æœºå™¨æ ‡è¯†<br/>    private long sequence = 0L; //åºåˆ—å·<br/>    private long lastStmp = -1L;//ä¸Šä¸€æ¬¡æ—¶é—´æˆ³<br/><br/>    public SnowFlake() {<br/>    }<br/><br/>    public SnowFlake(long datacenterId, long machineId) {<br/>        if (datacenterId &gt; MAX_DATACENTER_NUM || datacenterId &lt; 0) {<br/>            throw new IllegalArgumentException(\"datacenterId can't be greater than MAX_DATACENTER_NUM or less than 0\");<br/>        }<br/>        if (machineId &gt; MAX_MACHINE_NUM || machineId &lt; 0) {<br/>            throw new IllegalArgumentException(\"machineId can't be greater than MAX_MACHINE_NUM or less than 0\");<br/>        }<br/>        this.datacenterId = datacenterId;<br/>        this.machineId = machineId;<br/>    }<br/><br/>    /**<br/>     * äº§ç”Ÿä¸‹ä¸€ä¸ªID<br/>     *<br/>     * @return<br/>     */<br/>    public synchronized long nextId() {<br/>        long currStmp = getNewstmp();<br/>        if (currStmp &lt; lastStmp) {<br/>            throw new RuntimeException(\"Clock moved backwards.  Refusing to generate id\");<br/>        }<br/><br/>        if (currStmp == lastStmp) {<br/>            //ç›¸åŒæ¯«ç§’å†…ï¼Œåºåˆ—å·è‡ªå¢<br/>            sequence = (sequence + 1) &amp; MAX_SEQUENCE;<br/>            //åŒä¸€æ¯«ç§’çš„åºåˆ—æ•°å·²ç»è¾¾åˆ°æœ€å¤§<br/>            if (sequence == 0L) {<br/>                currStmp = getNextMill();<br/>            }<br/>        } else {<br/>            //ä¸åŒæ¯«ç§’å†…ï¼Œåºåˆ—å·ç½®ä¸º0<br/>            sequence = 0L;<br/>        }<br/><br/>        lastStmp = currStmp;<br/><br/>        return (currStmp - START_STMP) &lt;&lt; TIMESTMP_LEFT //æ—¶é—´æˆ³éƒ¨åˆ†<br/>                | datacenterId &lt;&lt; DATACENTER_LEFT       //æ•°æ®ä¸­å¿ƒéƒ¨åˆ†<br/>                | machineId &lt;&lt; MACHINE_LEFT             //æœºå™¨æ ‡è¯†éƒ¨åˆ†<br/>                | sequence;                             //åºåˆ—å·éƒ¨åˆ†<br/>    }<br/><br/>    private long getNextMill() {<br/>        long mill = getNewstmp();<br/>        while (mill &lt;= lastStmp) {<br/>            mill = getNewstmp();<br/>        }<br/>        return mill;<br/>    }<br/><br/>    private long getNewstmp() {<br/>        return System.currentTimeMillis();<br/>    }<br/><br/>    // public static void main(String[] args) throws ParseException {<br/>    //     // æ—¶é—´æˆ³<br/>    //     // System.out.println(System.currentTimeMillis());<br/>    //     // System.out.println(new Date().getTime());<br/>    //     //<br/>    //     // String dateTime = \"2021-01-01 08:00:00\";<br/>    //     // SimpleDateFormat sdf = new SimpleDateFormat(\"yyyy-MM-dd hh:mm:ss\");<br/>    //     // System.out.println(sdf.parse(dateTime).getTime());<br/>    //<br/>    //     SnowFlake snowFlake = new SnowFlake(1, 1);<br/>    //<br/>    //     long start = System.currentTimeMillis();<br/>    //     for (int i = 0; i &lt; 10; i++) {<br/>    //         System.out.println(snowFlake.nextId());<br/>    //         System.out.println(System.currentTimeMillis() - start);<br/>    //     }<br/>    // }<br/><br/>}<br/>```<br/><br/><br/><br/><br/><br/>### 10. æ·»åŠ  AOP<br/><br/>AOP ç”¨æ¥æ‰“å°æ¥å£æ—¥å¿—ï¼Œæ–¹ä¾¿åæœŸè°ƒè¯•<br/><br/><br/><br/>* Maven ä¸­å¼•å…¥ fastjsonï¼Œå› ä¸º æˆ‘ä»¬çš„ç±»ä¸­è¦ç”¨<br/><br/>```xml<br/> &lt;!--fastjson--&gt;<br/>&lt;dependency&gt;<br/>  &lt;groupId&gt;com.alibaba&lt;/groupId&gt;<br/>  &lt;artifactId&gt;fastjson&lt;/artifactId&gt;<br/>  &lt;version&gt;1.2.70&lt;/version&gt;<br/>&lt;/dependency&gt;<br/>```<br/><br/><br/><br/>* Maven å¼•å…¥ AOP<br/><br/>```xml<br/>&lt;!--å¯¼å…¥aop--&gt;<br/>&lt;dependency&gt;<br/>  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;<br/>  &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;<br/>&lt;/dependency&gt;<br/>```<br/><br/><br/><br/>* æ·»åŠ  RequestContext å·¥å…·ç±»<br/><br/>è¿™ä¸ªæ˜¯åæœŸä¸ºäº†æ‰“å° WebSocket æ—¥å¿—çš„<br/><br/>![image-20210415014912415](https://gitee.com/faro/images/raw/master/img/20210415014912.png)<br/><br/>```java<br/>public class RequestContext implements Serializable {<br/>    private static ThreadLocal&lt;String&gt; remoteAddr = new ThreadLocal&lt;&gt;();<br/><br/>    public static String getRemoteAddr() {<br/>        return remoteAddr.get();<br/>    }<br/><br/>    public static void setRemoteAddr(String remoteAddr) {<br/>        weixindemo.util.RequestContext.remoteAddr.set(remoteAddr);<br/>    }<br/>}<br/>```<br/><br/><br/><br/>* æ–°å»º aspect åŒ…ï¼Œå¹¶æ–°å»º LogAspect ç±»<br/><br/>![image-20210415013942484](https://gitee.com/faro/images/raw/master/img/20210415013942.png)<br/><br/><br/><br/>**LogAspect ä»£ç å¦‚ä¸‹:**<br/><br/>åˆ‡ç‚¹çš„ä»£ç ï¼Œæˆ‘ä»¬è¦ä¾æ®é¡¹ç›®ä¿®æ”¹<br/><br/>![image-20210415015319943](https://gitee.com/faro/images/raw/master/img/20210415015320.png)<br/><br/>```java<br/>@Aspect<br/>@Component<br/>public class LogAspect {<br/>    private final static Logger LOG = LoggerFactory.getLogger(weixindemo.aspect.LogAspect.class);<br/><br/>    @Resource<br/>    private SnowFlake snowFlake;<br/><br/>    /** å®šä¹‰ä¸€ä¸ªåˆ‡ç‚¹ */<br/>    @Pointcut(\"execution(public * weixindemo.controller..*Controller.*(..))\")<br/>    public void controllerPointcut() {}<br/><br/>    // @Resource<br/>    // private SnowFlake snowFlake;<br/><br/>    @Before(\"controllerPointcut()\")<br/>    public void doBefore(JoinPoint joinPoint) throws Throwable {<br/><br/>        // å¢åŠ æ—¥å¿—æµæ°´å·<br/>        MDC.put(\"LOG_ID\", String.valueOf(snowFlake.nextId()));<br/><br/>        // å¼€å§‹æ‰“å°è¯·æ±‚æ—¥å¿—<br/>        ServletRequestAttributes attributes = (ServletRequestAttributes) RequestContextHolder.getRequestAttributes();<br/>        HttpServletRequest request = attributes.getRequest();<br/>        Signature signature = joinPoint.getSignature();<br/>        String name = signature.getName();<br/><br/>        // æ‰“å°è¯·æ±‚ä¿¡æ¯<br/>        LOG.info(\"------------- å¼€å§‹ -------------\");<br/>        LOG.info(\"è¯·æ±‚åœ°å€: {} {}\", request.getRequestURL().toString(), request.getMethod());<br/>        LOG.info(\"ç±»åæ–¹æ³•: {}.{}\", signature.getDeclaringTypeName(), name);<br/>        LOG.info(\"è¿œç¨‹åœ°å€: {}\", request.getRemoteAddr());<br/><br/>        RequestContext.setRemoteAddr(getRemoteIp(request));<br/><br/>        // æ‹¿åˆ°æ‰€æœ‰çš„å‚æ•°<br/>        Object[] args = joinPoint.getArgs();<br/>        // LOG.info(\"è¯·æ±‚å‚æ•°: {}\", JSONObject.toJSONString(args));<br/><br/>        Object[] arguments  = new Object[args.length];<br/>        for (int i = 0; i &lt; args.length; i++) {<br/>            if (args[i] instanceof ServletRequest<br/>                    || args[i] instanceof ServletResponse<br/>                    || args[i] instanceof MultipartFile) {<br/>                continue;<br/>            }<br/>            arguments[i] = args[i];<br/>        }<br/>        // æ’é™¤å­—æ®µï¼Œæ•æ„Ÿå­—æ®µæˆ–å¤ªé•¿çš„å­—æ®µä¸æ˜¾ç¤º<br/>        String[] excludeProperties = {\"password\", \"file\"};<br/>        PropertyPreFilters filters = new PropertyPreFilters();<br/>        PropertyPreFilters.MySimplePropertyPreFilter excludefilter = filters.addFilter();<br/>        excludefilter.addExcludes(excludeProperties);<br/>        LOG.info(\"è¯·æ±‚å‚æ•°: {}\", JSONObject.toJSONString(arguments, excludefilter));<br/>    }<br/><br/>    @Around(\"controllerPointcut()\")<br/>    public Object doAround(ProceedingJoinPoint proceedingJoinPoint) throws Throwable {<br/>        long startTime = System.currentTimeMillis();<br/>        Object result = proceedingJoinPoint.proceed();<br/>        // æ’é™¤å­—æ®µï¼Œæ•æ„Ÿå­—æ®µæˆ–å¤ªé•¿çš„å­—æ®µä¸æ˜¾ç¤º<br/>        String[] excludeProperties = {\"password\", \"file\"};<br/>        PropertyPreFilters filters = new PropertyPreFilters();<br/>        PropertyPreFilters.MySimplePropertyPreFilter excludefilter = filters.addFilter();<br/>        excludefilter.addExcludes(excludeProperties);<br/>        LOG.info(\"è¿”å›ç»“æœ: {}\", JSONObject.toJSONString(result, excludefilter));<br/>        LOG.info(\"------------- ç»“æŸ è€—æ—¶ï¼š{} ms -------------\", System.currentTimeMillis() - startTime);<br/>        return result;<br/>    }<br/><br/>    /**<br/>     * ä½¿ç”¨nginxåšåå‘ä»£ç†ï¼Œéœ€è¦ç”¨è¯¥æ–¹æ³•æ‰èƒ½å–åˆ°çœŸå®çš„è¿œç¨‹IP<br/>     * å½“æˆ‘ä»¬å‘å¸ƒä¸Šçº¿åï¼Œå› ä¸ºå‰ç«¯ã€åç«¯éƒ½æ˜¯ç”¨80ç«¯å£ï¼Œä¼šå†²çª<br/>     * æ‰€ä»¥ç”¨æˆ·è®¿é—®çš„æ—¶å€™ï¼Œéœ€è¦å…ˆå»è®¿é—® nginxï¼Œç„¶åï¼Œè®© nginx å»åå‘ä»£ç†ï¼Œæ‰¾æˆ‘ä»¬è¦è®¿é—®çš„è·¯å¾„<br/>     * @param request<br/>     * @return<br/>     */<br/>    public String getRemoteIp(HttpServletRequest request) {<br/>        String ip = request.getHeader(\"x-forwarded-for\");<br/>        if (ip == null || ip.length() == 0 || \"unknown\".equalsIgnoreCase(ip)) {<br/>            ip = request.getHeader(\"Proxy-Client-IP\");<br/>        }<br/>        if (ip == null || ip.length() == 0 || \"unknown\".equalsIgnoreCase(ip)) {<br/>            ip = request.getHeader(\"WL-Proxy-Client-IP\");<br/>        }<br/>        if (ip == null || ip.length() == 0 || \"unknown\".equalsIgnoreCase(ip)) {<br/>            ip = request.getRemoteAddr();<br/>        }<br/>        return ip;<br/>    }<br/>}<br/>```<br/><br/><br/><br/>### 11. è§£å†³å‰åç«¯ Long ç²¾åº¦ä¸¢å¤±é—®é¢˜<br/><br/>æˆ‘ä»¬åæœŸä¼šç”¨åˆ° MD5 åŠ å¯†ï¼Œåˆ°æ—¶å€™åç«¯ä¼ åˆ°å‰ç«¯çš„æ—¶å€™ï¼Œå› ä¸º javascript number çš„ç²¾åº¦é—®é¢˜ï¼Œä¼šå‡ºç°æ•°æ®ä¸¢å¤±<br/><br/><br/><br/>* é…ç½®æ–‡ä»¶æ–°å¢ JacksonConfig ç±»<br/><br/>![image-20210415020223600](https://gitee.com/faro/images/raw/master/img/20210415020223.png)<br/><br/><br/><br/>* ä»£ç å¦‚ä¸‹<br/><br/>```java<br/>@Configuration<br/>public class JacksonConfig {<br/><br/>    @Bean<br/>    public ObjectMapper jacksonObjectMapper(Jackson2ObjectMapperBuilder builder) {<br/>        ObjectMapper objectMapper = builder.createXmlMapper(false).build();<br/>        SimpleModule simpleModule = new SimpleModule();<br/>        // simpleModule.addSerializer(Long.class, ToStringSerializer.instance);<br/>        simpleModule.addSerializer(Long.class, ToStringSerializer.instance);<br/>        objectMapper.registerModule(simpleModule);<br/>        return objectMapper;<br/>    }<br/>}<br/>```<br/><br/><br/><br/>### 12. æ–°å»º req resp åŒ…<br/><br/>æˆ‘ä»¬è¦å°†è¯·æ±‚ä¸è¿”å›åŒ…è£…<br/><br/>![image-20210415020648707](https://gitee.com/faro/images/raw/master/img/20210415020648.png)<br/><br/><br/><br/>### 13. CommonResp<br/><br/>ä¸ºäº†æ–¹ä¾¿å‰ç«¯è°ƒç”¨ï¼Œåç«¯çš„ respï¼Œæˆ‘ä»¬å†™ä¸€ä¸ªç»Ÿä¸€çš„è¿”å› CommonResp<br/><br/>![image-20210415020805724](https://gitee.com/faro/images/raw/master/img/20210415020805.png)<br/><br/>**ä»£ç å¦‚ä¸‹ï¼š**<br/><br/>```java<br/>@Data<br/>@AllArgsConstructor<br/>@NoArgsConstructor<br/>public class CommonResp&lt;T&gt; {<br/>    /**<br/>     * è¿”å›æ˜¯å¦æˆåŠŸ<br/>     */<br/>    private boolean isSuccess=true;<br/><br/>    /**<br/>     * è¿”å›å¤±è´¥æ—¶ï¼Œè¿”å›çš„é”™è¯¯ä¿¡æ¯<br/>     */<br/>    private String message;<br/><br/>    /**<br/>     * è¿”å›æˆåŠŸçš„æ—¶å€™ï¼Œè¿”å›çš„å†…å®¹<br/>     */<br/>    private T content;<br/>}<br/>```<br/><br/><br/><br/>### 14. è‡ªå®šä¹‰å¼‚å¸¸<br/><br/>* æ–°å»ºå¼‚å¸¸ç±»`BusinessException`å’Œå¼‚å¸¸ä¿¡æ¯æšä¸¾`BusinessExceptionCode`<br/><br/>![image-20210415021357196](https://gitee.com/faro/images/raw/master/img/20210415021357.png)<br/><br/><br/><br/>* `BusinessException`ä»£ç <br/><br/>```java<br/>public class BusinessException extends RuntimeException{<br/>    private BusinessExceptionCode code;<br/><br/>    public BusinessException (BusinessExceptionCode code) {<br/>        /**<br/>         * çˆ¶ç±»æœ‰ä¸ªæˆå‘˜å˜é‡  private String desc<br/>         * éœ€è¦ä¸ºè¿™ä¸ªæˆå‘˜å˜é‡èµ‹å€¼<br/>         */<br/>        super(code.getDesc());<br/>        this.code = code;<br/>    }<br/><br/>    public BusinessExceptionCode getCode() {<br/>        return code;<br/>    }<br/><br/>    public void setCode(BusinessExceptionCode code) {<br/>        this.code = code;<br/>    }<br/><br/>    /**<br/>     * ä¸å†™å…¥å †æ ˆä¿¡æ¯ï¼Œæé«˜æ€§èƒ½<br/>     */<br/>    @Override<br/>    public Throwable fillInStackTrace() {<br/>        return this;<br/>    }<br/>}<br/>```<br/><br/><br/><br/>* `BusinessExceptionCode`ä»£ç <br/><br/>```java<br/>public enum BusinessExceptionCode {<br/>    USER_LOGIN_NAME_EXIST(\"ç™»å½•åå·²å­˜åœ¨\"),<br/>    LOGIN_USER_ERROR(\"ç”¨æˆ·åä¸å­˜åœ¨æˆ–å¯†ç é”™è¯¯\"),<br/>    VOTE_REPEAT(\"æ‚¨å·²ç‚¹èµè¿‡\"),<br/>    ;<br/><br/>    private String desc;<br/><br/>    BusinessExceptionCode(String desc) {<br/>        this.desc = desc;<br/>    }<br/><br/>    public String getDesc() {<br/>        return desc;<br/>    }<br/><br/>    public void setDesc(String desc) {<br/>        this.desc = desc;<br/>    }<br/>}<br/>```<br/><br/><br/><br/><br/><br/>### 13. ç»Ÿä¸€å¼‚å¸¸å¤„ç†<br/><br/>æˆ‘ä»¬æ‰€æœ‰å¼‚å¸¸ï¼Œéƒ½é€šè¿‡è¿™ä¸ªç±»æ¥æ•è·ï¼Œå¹¶ç”Ÿæˆä¸€ä¸ªè¿”å›é”™è¯¯ä¿¡æ¯çš„ CommonResp<br/><br/><br/><br/>* æ–°å»º ControllerExceptionHandler ç±»<br/><br/>![](https://gitee.com/faro/images/raw/master/img/20210415020947.png)<br/><br/><br/><br/>* ä»£ç å¦‚ä¸‹<br/><br/>logger è¦æ ¹æ®é¡¹ç›®æ”¹ä¸€ä¸‹<br/><br/>```java<br/>/**<br/> * ç»Ÿä¸€å¼‚å¸¸å¤„ç†ã€æ•°æ®é¢„å¤„ç†ç­‰<br/> * è¯¥ç±»ç”¨äºæ•è·ç³»ç»Ÿå¼¹å‡ºçš„å¼‚å¸¸<br/> * å°†å¼‚å¸¸åŒ…è£…æˆä¸€ä¸ª CommonResp<br/> * ä»è€Œæ–¹ä¾¿å‰ç«¯è°ƒç”¨ï¼Œæ˜¾ç¤ºé”™è¯¯ä¿¡æ¯<br/> */<br/>@ControllerAdvice<br/>public class ControllerExceptionHandler {<br/>    private static final Logger LOG = LoggerFactory.getLogger(top.faroz.controller.ControllerExceptionHandler.class);<br/><br/>    /**<br/>     * æ ¡éªŒå¼‚å¸¸ç»Ÿä¸€å¤„ç†<br/>     * @param e<br/>     * @return<br/>     */<br/>    @ExceptionHandler(value = BindException.class)<br/>    @ResponseBody<br/>    public CommonResp validExceptionHandler(BindException e) {<br/>        CommonResp commonResp = new CommonResp();<br/>        LOG.warn(\"å‚æ•°æ ¡éªŒå¤±è´¥ï¼š{}\", e.getBindingResult().getAllErrors().get(0).getDefaultMessage());<br/>        commonResp.setSuccess(false);<br/>        commonResp.setMessage(e.getBindingResult().getAllErrors().get(0).getDefaultMessage());<br/>        return commonResp;<br/>    }<br/><br/>    /**<br/>     * æ ¡éªŒå¼‚å¸¸ç»Ÿä¸€å¤„ç†<br/>     * @param e<br/>     * @return<br/>     */<br/>    @ExceptionHandler(value = BusinessException.class)<br/>    @ResponseBody<br/>    public CommonResp validExceptionHandler(BusinessException e) {<br/>        CommonResp commonResp = new CommonResp();<br/>        LOG.warn(\"ä¸šåŠ¡å¼‚å¸¸ï¼š{}\", e.getCode().getDesc());<br/>        commonResp.setSuccess(false);<br/>        commonResp.setMessage(e.getCode().getDesc());<br/>        return commonResp;<br/>    }<br/><br/>    /**<br/>     * æ ¡éªŒå¼‚å¸¸ç»Ÿä¸€å¤„ç†<br/>     * @param e<br/>     * @return<br/>     */<br/>    @ExceptionHandler(value = Exception.class)<br/>    @ResponseBody<br/>    public CommonResp validExceptionHandler(Exception e) {<br/>        CommonResp commonResp = new CommonResp();<br/>        LOG.error(\"ç³»ç»Ÿå¼‚å¸¸ï¼š\", e);<br/>        commonResp.setSuccess(false);<br/>        commonResp.setMessage(\"ç³»ç»Ÿå‡ºç°å¼‚å¸¸ï¼Œè¯·è”ç³»ç®¡ç†å‘˜\");<br/>        return commonResp;<br/>    }<br/>}<br/>```<br/><br/><br/><br/>### 14. æ·»åŠ æ—¥å¿—è®°å½• logback<br/><br/>* åœ¨ resource ä¸‹ï¼Œæ–°å»ºlogback-spring.xml æ–‡ä»¶<br/><br/>![image-20210411004947139](https://gitee.com/faro/images/raw/master/img/20210411004947.png)<br/><br/>* å†™å…¥å†…å®¹<br/><br/>```xml<br/>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;<br/>&lt;configuration&gt;<br/>    &lt;!-- ä¿®æ”¹ä¸€ä¸‹è·¯å¾„--&gt;<br/>    &lt;property name=\"PATH\" value=\"./log\"&gt;&lt;/property&gt;<br/><br/>    &lt;appender name=\"STDOUT\" class=\"ch.qos.logback.core.ConsoleAppender\"&gt;<br/>        &lt;encoder&gt;<br/>            &lt;Pattern&gt;%d{yyyy-MM-dd HH:mm:ss.SSS} %highlight(%-5level) %blue(%-50logger{50}:%-4line) %thread %msg%n&lt;/Pattern&gt;<br/>            &lt;!--&lt;Pattern&gt;%d{ss.SSS} %highlight(%-5level) %blue(%-30logger{30}:%-4line) %thread %green(%-18X{LOG_ID}) %msg%n&lt;/Pattern&gt;--&gt;<br/>        &lt;/encoder&gt;<br/>    &lt;/appender&gt;<br/><br/>    &lt;appender name=\"TRACE_FILE\" class=\"ch.qos.logback.core.rolling.RollingFileAppender\"&gt;<br/>        &lt;file&gt;${PATH}/trace.log&lt;/file&gt;<br/>        &lt;rollingPolicy class=\"ch.qos.logback.core.rolling.TimeBasedRollingPolicy\"&gt;<br/>            &lt;FileNamePattern&gt;${PATH}/trace.%d{yyyy-MM-dd}.%i.log&lt;/FileNamePattern&gt;<br/>            &lt;timeBasedFileNamingAndTriggeringPolicy class=\"ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP\"&gt;<br/>                &lt;maxFileSize&gt;10MB&lt;/maxFileSize&gt;<br/>            &lt;/timeBasedFileNamingAndTriggeringPolicy&gt;<br/>        &lt;/rollingPolicy&gt;<br/>        &lt;layout&gt;<br/>            &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss.SSS} %-5level %-50logger{50}:%-4line %green(%-18X{LOG_ID}) %msg%n&lt;/pattern&gt;<br/>        &lt;/layout&gt;<br/>    &lt;/appender&gt;<br/><br/>    &lt;appender name=\"ERROR_FILE\" class=\"ch.qos.logback.core.rolling.RollingFileAppender\"&gt;<br/>        &lt;file&gt;${PATH}/error.log&lt;/file&gt;<br/>        &lt;rollingPolicy class=\"ch.qos.logback.core.rolling.TimeBasedRollingPolicy\"&gt;<br/>            &lt;FileNamePattern&gt;${PATH}/error.%d{yyyy-MM-dd}.%i.log&lt;/FileNamePattern&gt;<br/>            &lt;timeBasedFileNamingAndTriggeringPolicy class=\"ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP\"&gt;<br/>                &lt;maxFileSize&gt;10MB&lt;/maxFileSize&gt;<br/>            &lt;/timeBasedFileNamingAndTriggeringPolicy&gt;<br/>        &lt;/rollingPolicy&gt;<br/>        &lt;layout&gt;<br/>            &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss.SSS} %-5level %-50logger{50}:%-4line %green(%-18X{LOG_ID}) %msg%n&lt;/pattern&gt;<br/>        &lt;/layout&gt;<br/>        &lt;filter class=\"ch.qos.logback.classic.filter.LevelFilter\"&gt;<br/>            &lt;level&gt;ERROR&lt;/level&gt;<br/>            &lt;onMatch&gt;ACCEPT&lt;/onMatch&gt;<br/>            &lt;onMismatch&gt;DENY&lt;/onMismatch&gt;<br/>        &lt;/filter&gt;<br/>    &lt;/appender&gt;<br/><br/>    &lt;root level=\"ERROR\"&gt;<br/>        &lt;appender-ref ref=\"ERROR_FILE\" /&gt;<br/>    &lt;/root&gt;<br/><br/>    &lt;root level=\"TRACE\"&gt;<br/>        &lt;appender-ref ref=\"TRACE_FILE\" /&gt;<br/>    &lt;/root&gt;<br/><br/>    &lt;root level=\"INFO\"&gt;<br/>        &lt;appender-ref ref=\"STDOUT\" /&gt;<br/>    &lt;/root&gt;<br/>&lt;/configuration&gt;<br/><br/>```<br/><br/><br/><br/>### 15. è‡ªå®šä¹‰ banner<br/><br/>resources ä¸‹æ–°å»º banner.txt<br/><br/>![image-20210415023847796](https://gitee.com/faro/images/raw/master/img/20210415023847.png)<br/><br/><br/><br/>é‡Œé¢æ”¾ä¸Šè‡ªå®šä¹‰ banner<br/><br/>```txt<br/> ********     **     *******     *******         ********<br/>/**/////     ****   /**////**   **/////**       //////** <br/>/**         **//**  /**   /**  **     //**           **  <br/>/*******   **  //** /*******  /**      /**          **   <br/>/**////   **********/**///**  /**      /**         **    <br/>/**      /**//////**/**  //** //**     **         **     <br/>/**      /**     /**/**   //** //*******   ***** ********<br/>//       //      // //     //   ///////   ///// //////// <br/>```<br/><br/><br/><br/><br/></p>","description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0}]
2021-04-16 00:57:03.899 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"id":1},"success":true}
2021-04-16 00:57:03.900 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š85 ms -------------
2021-04-16 00:57:06.449 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:57:06.449 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/list GET
2021-04-16 00:57:06.449 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.list
2021-04-16 00:57:06.450 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:57:06.450 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":5}]
2021-04-16 00:57:06.456 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"list":[{"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Vue å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":2,"name":"Vue å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Python å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":3,"name":"Python å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Mysql å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":4,"name":"Mysql å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"c++çœŸçš„å¾ˆå®¹æ˜“ï¼Œä¸ä¼šæœ‰äººä¸ä¼šå§ï¼Ÿ","docCount":0,"id":5,"name":"21 å¤©å­¦ä¼šC++","viewCount":0,"voteCount":0}],"total":7},"success":true}
2021-04-16 00:57:06.457 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2021-04-16 00:57:07.214 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:57:07.214 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/list GET
2021-04-16 00:57:07.214 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.list
2021-04-16 00:57:07.215 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:57:07.215 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":5}]
2021-04-16 00:57:07.220 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"list":[{"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Vue å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":2,"name":"Vue å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Python å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":3,"name":"Python å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Mysql å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":4,"name":"Mysql å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"c++çœŸçš„å¾ˆå®¹æ˜“ï¼Œä¸ä¼šæœ‰äººä¸ä¼šå§ï¼Ÿ","docCount":0,"id":5,"name":"21 å¤©å­¦ä¼šC++","viewCount":0,"voteCount":0}],"total":7},"success":true}
2021-04-16 00:57:07.221 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2021-04-16 00:57:08.488 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:57:08.488 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/list GET
2021-04-16 00:57:08.488 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.list
2021-04-16 00:57:08.489 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:57:08.489 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":4}]
2021-04-16 00:57:08.494 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"list":[{"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Vue å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":2,"name":"Vue å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Python å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":3,"name":"Python å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Mysql å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":4,"name":"Mysql å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0}],"total":7},"success":true}
2021-04-16 00:57:08.494 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2021-04-16 00:57:09.282 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:57:09.282 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/list GET
2021-04-16 00:57:09.282 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.list
2021-04-16 00:57:09.283 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:57:09.283 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":4}]
2021-04-16 00:57:09.288 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"list":[{"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Vue å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":2,"name":"Vue å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Python å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":3,"name":"Python å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Mysql å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":4,"name":"Mysql å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0}],"total":7},"success":true}
2021-04-16 00:57:09.289 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2021-04-16 00:57:10.208 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:57:10.208 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find/1 GET
2021-04-16 00:57:10.209 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.find
2021-04-16 00:57:10.209 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:57:10.209 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:57:10.209 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [1]
2021-04-16 00:57:10.209 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2021-04-16 00:57:10.209 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.findContent
2021-04-16 00:57:10.209 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:57:10.210 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [1]
2021-04-16 00:57:10.211 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},"success":true}
2021-04-16 00:57:10.211 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š3 ms -------------
2021-04-16 00:57:10.216 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":"<p><br/># å®Œæ•´é¡¹ç›®æ­å»ºæµç¨‹<br/><br/>è™½è¯´ SpringBoot ç›¸è¾ƒäº SSM æ¡†æ¶ï¼Œå¤§å¤§å‡è½»äº†é…ç½®çš„ç¹çï¼Œä½†æ˜¯ï¼Œè¦æ•´åˆ MyBatis ï¼Œç»Ÿä¸€å¼‚å¸¸å¤„ç†ï¼ŒVueç­‰ä¸€ç³»åˆ—ä¸œè¥¿ï¼Œè¿˜æ˜¯è¦è´¹ä¸€ç•ªåŠ²çš„ã€‚<br/><br/>è¿™æ¬¡å°†åˆ›å»ºçš„æ•´ä¸ªæµç¨‹è®°å½•ä¸‹æ¥ï¼Œæ–¹ä¾¿ä»¥åçš„é¡¹ç›®æ­å»ºã€‚<br/><br/>è¦æ­å»ºä¸€ä¸ªå®Œæˆçš„å‰åç«¯åˆ†ç¦»é¡¹ç›®ï¼Œåˆ†ä¸ºè¿™ä¹ˆå‡ ä¸ªéƒ¨åˆ†ï¼š==æ•°æ®åº“ã€åç«¯ã€å‰ç«¯==<br/><br/>å¦‚æœæ˜¯ä¸ºå¾®ä¿¡å°ç¨‹åºæ­å»ºä¸€ä¸ªåç«¯æœåŠ¡ï¼Œé‚£å°±åªè¦çœ‹åˆ°==æ•°æ®åº“ã€åç«¯==å°±å¯ä»¥äº†<br/><br/><br/><br/>## æ•°æ®åº“<br/><br/>ä¸€èˆ¬åœ¨æ–°å»ºé¡¹ç›®çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¼šé€‰æ‹©ä¸“é—¨ä¸ºè¿™ä¸ªé¡¹ç›®æ–°å»ºä¸€ä¸ªç”¨æˆ·ï¼Œå¹¶ä¸ºè¿™ä¸ªç”¨æˆ·ï¼Œèµ‹äºˆåªå±äºè¿™ä¸€ä¸ªé¡¹ç›®çš„æ‰€æœ‰æƒé™<br/><br/><br/><br/>### 1. **è¿æ¥ admin**<br/><br/>åªæœ‰ admin æœ‰æ‰€æœ‰æƒé™<br/><br/>æˆ‘çš„æ•°æ®åº“ admin çš„è´¦æˆ·åå’Œå¯†ç æ˜¯ï¼š<br/><br/>**è´¦æˆ·ï¼š**admin<br/><br/>**å¯†ç ï¼š**123<br/><br/>![image-20210411002100312](https://gitee.com/faro/images/raw/master/img/20210411003334.png)<br/><br/><br/><br/>### 2. **æ–°å»ºæ•°æ®åº“**<br/><br/>å…¶å­—ç¬¦ç±»å‹ä¸€å®šè¦é€‰æ‹©==utf8mb4==ï¼Œè¿™æ‰æ˜¯çœŸæ­£çš„ utf8ï¼Œæ”¯æŒè¡¨æƒ…ç¬¦å·<br/><br/>![image-20210411002304858](https://gitee.com/faro/images/raw/master/img/20210411002304.png)<br/><br/>### 3. **ä¸ºè¿™ä¸ªæ•°æ®åº“ï¼Œä¸“é—¨å»ºä¸€ä¸ªç”¨æˆ·**<br/><br/>å¼€å‘ç¯å¢ƒä¸­ï¼Œå°±å°†å¯†ç å’Œç”¨æˆ·åè®¾ç½®æˆä¸€æ ·çš„ï¼Œè¿™æ ·ä¸ä¼šå¿˜è®°<br/><br/>host è®¾ç½®ä¸º localhost<br/><br/>![image-20210411002742750](https://gitee.com/faro/images/raw/master/img/20210411002742.png)<br/><br/><br/><br/>### 4. **ä¸ºè¿™ä¸ªç”¨æˆ·ï¼Œæˆäºˆå¯¹åº”æ•°æ®åº“çš„å…¨éƒ¨æƒé™**<br/><br/>![image-20210411003034426](https://gitee.com/faro/images/raw/master/img/20210411003034.png)<br/><br/>![image-20210411002821790](https://gitee.com/faro/images/raw/master/img/20210414201958.png)<br/><br/>### 5. **å¯¹å½“å‰ç”¨æˆ·ï¼Œå»ºç«‹è¿æ¥**<br/><br/>![image-20210411002945727](https://gitee.com/faro/images/raw/master/img/20210411002945.png)<br/><br/><br/><br/><br/><br/>## åç«¯<br/><br/>å…³äº Mavenã€tomcat çš„ä¸‹è½½é…ç½®ï¼Œè¿™é‡Œå°±ä¸è´¹ç¬”å¢¨å»è®²è§£äº†ã€‚å¦‚æœ‰éœ€è¦ï¼Œå¯ä»¥è‡ªè¡Œç™¾åº¦æŸ¥æ‰¾ã€‚<br/><br/>### 1. æ–°å»º SpringBoot é¡¹ç›®<br/><br/>* ç‚¹å‡» `SpringInitiallizr`ï¼Œæ–°å»ºé¡¹ç›®<br/><br/>![image-20210414200239335](https://gitee.com/faro/images/raw/master/img/20210414200239.png)<br/><br/>* é€‰æ‹©é»˜è®¤ä¾èµ–çš„åŒ…<br/><br/>![image-20210414200420395](https://gitee.com/faro/images/raw/master/img/20210414200420.png)<br/><br/>![image-20210414200533694](https://gitee.com/faro/images/raw/master/img/20210414200533.png)<br/><br/>![image-20210414200611051](https://gitee.com/faro/images/raw/master/img/20210414200611.png)<br/><br/>* é€‰æ‹©å­˜æ”¾è·¯å¾„<br/><br/>![image-20210414200656633](https://gitee.com/faro/images/raw/master/img/20210414200656.png)<br/><br/>* æ–°å»ºå®Œæˆåï¼Œé¡¹ç›®ç›®å½•å¦‚ä¸‹<br/><br/>![image-20210414200752152](https://gitee.com/faro/images/raw/master/img/20210414200752.png)<br/><br/><br/><br/>### 2. æ›´æ”¹å¯åŠ¨ç±»ä½ç½®<br/><br/>* æ–°å»º config åŒ…ï¼Œå°†å¯åŠ¨ç±»æ”¾è¿›å»<br/><br/>![image-20210414201018806](https://gitee.com/faro/images/raw/master/img/20210414201018.png)<br/><br/><br/><br/>* ä¸ºå¯åŠ¨ç±»æ·»åŠ æ³¨è§£<br/><br/>æ³¨è§£å†…çš„ä¿¡æ¯ï¼Œæ˜¯é¡¹ç›®åç§°<br/><br/>```java<br/>@ComponentScan(\"weixindemo\")<br/>```<br/><br/>![image-20210414201210978](https://gitee.com/faro/images/raw/master/img/20210414201211.png)<br/><br/><br/><br/>### 3. IDEA æ•°æ®åº“é…ç½®<br/><br/>* IDEA è¿æ¥æ•°æ®åº“<br/><br/>![image-20210414220153821](https://gitee.com/faro/images/raw/master/img/20210414220153.png)<br/><br/>![image-20210414221502868](https://gitee.com/faro/images/raw/master/img/20210414221502.png)<br/><br/><br/><br/>* æ·»åŠ  sql è„šæœ¬<br/><br/>æ–°å»º sql æ–‡ä»¶å¤¹ï¼Œå»ºç«‹`all.sql`æ–‡ä»¶<br/><br/>![image-20210414221647283](https://gitee.com/faro/images/raw/master/img/20210414221647.png)<br/><br/><br/><br/>æˆ‘ä»¬åœ¨ sql è„šæœ¬ä¸­æ·»åŠ æµ‹è¯•ç”¨æ•°æ®ï¼Œå¹¶æ‰§è¡Œ<br/><br/>```sql<br/><br/># æµ‹è¯•è¡¨<br/>drop table if exists `test`;<br/>create table `test` (<br/>  `id` bigint not null comment 'id',<br/>  `name` varchar(50) comment 'åç§°',<br/>  `password` varchar(50) comment 'å¯†ç ',<br/>  primary key (`id`)<br/>) engine=innodb default charset=utf8mb4 comment='æµ‹è¯•';<br/><br/>insert into `test` (id, name, password) values (1, 'æµ‹è¯•', 'password');       <br/>```<br/><br/>å¯ä»¥çœ‹åˆ°ï¼Œæ•°æ®åº“å·²å»ºç«‹<br/><br/>![image-20210415000115932](https://gitee.com/faro/images/raw/master/img/20210415000131.png)<br/><br/><br/><br/>### 4. é…ç½® MyBatis<br/><br/>* åœ¨ `resource`æ–‡ä»¶å¤¹ä¸‹ï¼Œæ–°å»º `mapper`æ–‡ä»¶å¤¹<br/><br/>è¿™æ˜¯ç”¨æ¥å­˜æ”¾ MyBatis çš„å®ç°çš„<br/><br/>![image-20210414201459632](https://gitee.com/faro/images/raw/master/img/20210414201459.png)<br/><br/><br/><br/>* æ–°å»º pojo åŒ…<br/><br/>pojo åŒ…ç”¨æ¥å­˜æ”¾å®ä½“ç±»<br/><br/>![image-20210415000316772](https://gitee.com/faro/images/raw/master/img/20210415000316.png)<br/><br/><br/><br/>* åœ¨é¡¹ç›®ä¸‹ï¼Œæ–°å»º mapper åŒ…ï¼Œç”¨æ¥å­˜æ”¾æ¥å£<br/><br/>![image-20210415000711989](https://gitee.com/faro/images/raw/master/img/20210415000712.png)<br/><br/><br/><br/>* å°†é…ç½®æ–‡ä»¶åç¼€æ”¹ä¸º`.yml`<br/><br/>æˆ‘ä¸ªäººä¹ æƒ¯ä½¿ç”¨`.yml`è¿›è¡Œä½ç½®<br/><br/>![image-20210414201610045](https://gitee.com/faro/images/raw/master/img/20210414201610.png)<br/><br/><br/><br/>* æ·»åŠ  `Mybatis`é…ç½®<br/><br/>è¿™é‡Œï¼Œè¦æ·»åŠ æ•°æ®æºï¼Œå’Œ MyBatis çš„é…ç½®ï¼Œéƒ¨åˆ†åœ°æ–¹ï¼Œè¦æ ¹æ®å®é™…é¡¹ç›®ï¼Œè¿›è¡Œä¿®æ”¹<br/><br/>```yml<br/>spring:<br/>  datasource:<br/>    url: jdbc:mysql://localhost:3306/weixindemo?useUnicode=true&amp;characterEncoding=utf-8<br/>    username: weixindemo<br/>    password: weixindemo<br/>    driver-class-name: com.mysql.cj.jdbc.Driver<br/>    <br/>    <br/># æ•´åˆMybatis<br/>mybatis:<br/>  # ** è¡¨ç¤ºåœ¨mapperä¸‹ä¸ç®¡æœ‰å¤šå°‘æ–‡ä»¶å¤¹ï¼Œéƒ½å¯ä»¥å…¨éƒ¨è¯†åˆ«<br/>  mapper-locations: classpath:/mapper/**/*.xml<br/>  type-aliases-package: weixindemo.pojo<br/>  #  æ‰“å°sqlç›¸å…³çš„æ—¥å¿—ä¿¡æ¯<br/>  configuration:<br/>    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl<br/>```<br/><br/>![image-20210415000535841](https://gitee.com/faro/images/raw/master/img/20210415000535.png)<br/><br/><br/><br/>* æ·»åŠ ç«¯å£é…ç½®<br/><br/>å› ä¸º vue ä¹Ÿæ˜¯ç”¨çš„8080ç«¯å£ï¼Œæˆ‘ä»¬ä¸èƒ½å’Œå®ƒé‡äº†<br/><br/>```yml<br/>server:<br/>  port: 8880<br/>```<br/><br/><br/><br/>* å¯åŠ¨ç±»æ·»åŠ `mapper`æ¥å£æ‰«æè·¯å¾„<br/><br/>```java<br/>@MapperScan(\"weixindemo.mapper\") //mybatis mapperæ¥å£æ‰«æ<br/>```<br/><br/>![image-20210415000824262](https://gitee.com/faro/images/raw/master/img/20210415000824.png)<br/><br/><br/><br/>### 5. MVC åŒ…å»ºç«‹<br/><br/>æˆ‘ä»¬è¿˜è¦å»ºç«‹ ==service==ï¼Œ==util==ï¼Œ==controller==åŒ…<br/><br/>![image-20210415001226689](https://gitee.com/faro/images/raw/master/img/20210415001226.png)<br/><br/>![image-20210415001237989](https://gitee.com/faro/images/raw/master/img/20210415001238.png)<br/><br/><br/><br/>### 5. æµ‹è¯• Mybatis é…ç½®<br/><br/>é…ç½®åˆ°è¿™ä¸€æ­¥ï¼Œè¦å¯¹ä¹‹å‰çš„é…ç½®ï¼Œè¿›è¡Œä¸€ä¸ªæµ‹è¯•<br/><br/>* pojo ä¸­ï¼Œæ–°å»º Test å®ä½“ç±»<br/><br/>![image-20210415001028711](https://gitee.com/faro/images/raw/master/img/20210415001028.png)<br/><br/>```java<br/>@Data<br/>@AllArgsConstructor<br/>@NoArgsConstructor<br/>public class Test {<br/>    private Integer id;<br/>    private String name;<br/>}<br/>```<br/><br/><br/><br/>* mapper åŒ…ä¸­ï¼Œæ–°å»º TestMapper æ¥å£<br/><br/>![image-20210415001403532](https://gitee.com/faro/images/raw/master/img/20210415001420.png)<br/><br/>```java<br/>@Repository<br/>@Mapper<br/>public interface TestMapper {<br/>    List&lt;Test&gt; getList();<br/>}<br/>```<br/><br/><br/><br/>* resources ä¸‹çš„ mapper æ–‡ä»¶å¤¹ä¸­ï¼Œå¢åŠ  TestMapper.xml å®ç°<br/><br/>  ![image-20210415002153386](https://gitee.com/faro/images/raw/master/img/20210415002153.png)<br/><br/>å…·ä½“å†…å®¹ï¼Œè¦æ ¹æ®å®é™…é¡¹ç›®ä¿®æ”¹<br/><br/>```xml<br/>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" ?&gt;<br/>&lt;!DOCTYPE mapper PUBLIC \"-//mybatis.org//DTD Mapper 3.0//EN\"<br/>    \"http://mybatis.org/dtd/mybatis-3-mapper.dtd\"&gt;<br/><br/>&lt;!--namespaceè¦å’Œæ¥å£çš„ä½ç½®å’Œåå­—å¯¹åº”--&gt;<br/>&lt;mapper namespace=\"weixindemo.mapper.TestMapper\"&gt;<br/><br/>    &lt;select id=\"getList\" resultType=\"weixindemo.pojo.Test\"&gt;<br/>        select * from test<br/>    &lt;/select&gt;<br/><br/>&lt;/mapper&gt;<br/>```<br/><br/>![image-20210415002240288](https://gitee.com/faro/images/raw/master/img/20210415002240.png)<br/><br/><br/><br/>* åœ¨ service åŒ…ä¸‹ï¼Œæ–°å»º TestService<br/><br/>![](https://gitee.com/faro/images/raw/master/img/20210415002439.png)<br/><br/>åˆ«å¿˜äº†åŠ ä¸Š @Service æ³¨è§£<br/><br/>```java<br/>@Service<br/>public class TestService {<br/><br/>    @Autowired<br/>    private TestMapper mapper;<br/><br/>    public List&lt;Test&gt; getList() {<br/>        return mapper.getList();<br/>    }<br/>}<br/>```<br/><br/><br/><br/>* åœ¨ controlleråŒ…ä¸‹ï¼Œæ–°å»º TestController<br/><br/>![image-20210415002611361](https://gitee.com/faro/images/raw/master/img/20210415002611.png)<br/><br/>```java<br/>@RestController<br/>public class TestController {<br/><br/>    @Autowired<br/>    private TestService testService;<br/>    <br/><br/>    @RequestMapping(\"/test/list\")<br/>    public List&lt;Test&gt; list() {<br/>        return testService.getList();<br/>    }<br/><br/>}<br/>```<br/><br/><br/><br/>* é‡å¯é¡¹ç›®<br/><br/><br/><br/>* æ–°å»º http æ–‡ä»¶ï¼Œç¼–å†™ http æµ‹è¯•è„šæœ¬ï¼Œæ‰§è¡Œ<br/><br/>![image-20210415002803589](https://gitee.com/faro/images/raw/master/img/20210415002803.png)<br/><br/>```http<br/>GET http://localhost:8880/test/list<br/>Accept: application/json<br/><br/>###<br/>```<br/><br/><br/><br/>æœ€åæˆåŠŸä»æ¥å£ä¸­è·å–æ•°æ®åº“ä¸­çš„æ•°æ®ï¼Œè¯´æ˜æˆ‘ä»¬ä¹‹å‰é…ç½®çš„éƒ½æ²¡æœ‰é”™è¯¯ï¼Œå¯ä»¥è¿›è¡Œä¸‹é¢çš„æ“ä½œ<br/><br/>![image-20210415003021769](https://gitee.com/faro/images/raw/master/img/20210415003021.png)<br/><br/><br/><br/>### 6. MyBatis ä»£ç ç”Ÿæˆå™¨<br/><br/>æˆ‘ä»¬ä¸å¯èƒ½å»å†™æ‰€æœ‰æŒä¹…å±‚çš„å®ç°ï¼Œä¸šåŠ¡ä¸­ï¼Œè¿™éƒ¨åˆ†éƒ½æ˜¯è‡ªåŠ¨ç”Ÿæˆçš„<br/><br/><br/><br/>* å¯¼å…¥ Maven ä¾èµ–<br/><br/>æ³¨æ„ï¼Œ==æ˜¯æ”¾åœ¨`plugiuns`ä¸‹é¢çš„==<br/><br/>```xml<br/>&lt;!-- mybatis generator è‡ªåŠ¨ç”Ÿæˆä»£ç æ’ä»¶ --&gt;<br/>            &lt;plugin&gt;<br/>                &lt;groupId&gt;org.mybatis.generator&lt;/groupId&gt;<br/>                &lt;artifactId&gt;mybatis-generator-maven-plugin&lt;/artifactId&gt;<br/>                &lt;version&gt;1.4.0&lt;/version&gt;<br/>                &lt;configuration&gt;<br/>                    &lt;configurationFile&gt;src/main/resources/generator/generator-config.xml&lt;/configurationFile&gt;<br/>                    &lt;overwrite&gt;true&lt;/overwrite&gt;<br/>                    &lt;verbose&gt;true&lt;/verbose&gt;<br/>                &lt;/configuration&gt;<br/>                &lt;dependencies&gt;<br/>                    &lt;dependency&gt;<br/>                        &lt;groupId&gt;mysql&lt;/groupId&gt;<br/>                        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;<br/>                        &lt;version&gt;8.0.22&lt;/version&gt;<br/>                    &lt;/dependency&gt;<br/>                &lt;/dependencies&gt;<br/>            &lt;/plugin&gt;<br/>```<br/><br/><br/><br/>* å»ºç«‹ä»£ç”Ÿæˆå™¨ä½ç½®<br/><br/>pomæ–‡ä»¶ä¸­ï¼Œæ˜¾ç¤ºäº†è¦åˆ›å»ºçš„ä»£ç ç”Ÿæˆå™¨çš„ä½ç½®`src/main/resources/generator/generator-config.xml`<br/><br/>```xml<br/>&lt;configurationFile&gt;<br/>  src/main/resources/generator/generator-config.xml<br/>&lt;/configurationFile&gt;<br/>```<br/><br/>![image-20210323131202189](https://gitee.com/faro/images/raw/master/img/20210323131202.png)<br/><br/><br/><br/>* ä»£ç ç”Ÿæˆå™¨ä»£ç <br/><br/>ä»`jdbcConnection`å¼€å§‹ï¼Œåˆ«å¿˜äº†==æ ¹æ®é¡¹ç›®è¿›è¡Œä¿®æ”¹==<br/><br/>```xml<br/>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;<br/>&lt;!DOCTYPE generatorConfiguration<br/>        PUBLIC \"-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN\"<br/>        \"http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd\"&gt;<br/><br/>&lt;generatorConfiguration&gt;<br/>    &lt;context id=\"Mysql\" targetRuntime=\"MyBatis3\" defaultModelType=\"flat\"&gt;<br/><br/>        &lt;!-- è‡ªåŠ¨æ£€æŸ¥å…³é”®å­—ï¼Œä¸ºå…³é”®å­—å¢åŠ åå¼•å· --&gt;<br/>        &lt;property name=\"autoDelimitKeywords\" value=\"true\"/&gt;<br/>        &lt;property name=\"beginningDelimiter\" value=\"`\"/&gt;<br/>        &lt;property name=\"endingDelimiter\" value=\"`\"/&gt;<br/><br/>        &lt;!--è¦†ç›–ç”ŸæˆXMLæ–‡ä»¶--&gt;<br/>        &lt;plugin type=\"org.mybatis.generator.plugins.UnmergeableXmlMappersPlugin\" /&gt;<br/>        &lt;!-- ç”Ÿæˆçš„å®ä½“ç±»æ·»åŠ toString()æ–¹æ³• --&gt;<br/>        &lt;plugin type=\"org.mybatis.generator.plugins.ToStringPlugin\"/&gt;<br/><br/>        &lt;!-- ä¸ç”Ÿæˆæ³¨é‡Š --&gt;<br/>        &lt;commentGenerator&gt;<br/>            &lt;property name=\"suppressAllComments\" value=\"true\"/&gt;<br/>        &lt;/commentGenerator&gt;<br/><br/>        &lt;jdbcConnection driverClass=\"com.mysql.cj.jdbc.Driver\"<br/>                        connectionURL=\"jdbc:mysql://localhost:3306/wiki?useUnicode=true&amp;characterEncoding=utf-8\"<br/>                        userId=\"wiki\"<br/>                        password=\"123456\"&gt;<br/>        &lt;/jdbcConnection&gt;<br/><br/>        &lt;!-- domainç±»çš„ä½ç½® --&gt;<br/>        &lt;javaModelGenerator targetProject=\"src/main/java\"<br/>                            targetPackage=\"top.faroz.pojo\"/&gt;<br/><br/>        &lt;!-- mapper xmlçš„ä½ç½® --&gt;<br/>        &lt;sqlMapGenerator targetProject=\"src/main/resources\"<br/>                         targetPackage=\"mapper\"/&gt;<br/><br/>        &lt;!-- mapperç±»çš„ä½ç½® --&gt;<br/>        &lt;javaClientGenerator targetProject=\"src/main/java\"<br/>                             targetPackage=\"top.faroz.mapper\"<br/>                             type=\"XMLMAPPER\"/&gt;<br/><br/>        &lt;table tableName=\"demo\" domainObjectName=\"Demo\"/&gt;<br/>        &lt;!--&lt;table tableName=\"ebook\"/&gt;--&gt;<br/>        &lt;!--&lt;table tableName=\"category\"/&gt;--&gt;<br/>        &lt;!--&lt;table tableName=\"doc\"/&gt;--&gt;<br/>        &lt;!--&lt;table tableName=\"content\"/&gt;--&gt;<br/>        &lt;!--&lt;table tableName=\"user\"/&gt;--&gt;<br/>        &lt;!--&lt;table tableName=\"ebook_snapshot\"/&gt;--&gt;<br/>    &lt;/context&gt;<br/>&lt;/generatorConfiguration&gt;<br/>```<br/><br/><br/><br/>* æ–°å»ºä¸€ä¸ªmavenå¯åŠ¨é¡¹<br/><br/>![image-20210411015300856](https://gitee.com/faro/images/raw/master/img/20210411015300.png)<br/><br/>![image-20210411015346116](https://gitee.com/faro/images/raw/master/img/20210411015346.png)<br/><br/>```bash<br/>mybatis-generator:generate -e<br/>```<br/><br/>![image-20210411015516818](https://gitee.com/faro/images/raw/master/img/20210411015516.png)<br/><br/><br/><br/>### 7. æµ‹è¯•ä»£ç ç”Ÿæˆå™¨<br/><br/>ä»£ç ç”Ÿæˆå™¨çš„å·¥ä½œåŸç†ï¼Œæ˜¯ä»æ•°æ®åº“ä¸­å–å‡ºè¡¨ä¿¡æ¯ï¼Œç„¶åæ ¹æ®è¡¨ä¿¡æ¯ï¼Œå»æ„é€ æŒä¹…å±‚ä»£ç ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬è¦å†å»å»ºä¸€ä¸ªè¡¨<br/><br/><br/><br/>* all.sql æ·»åŠ  demo è¡¨çš„å¢åŠ  SQL è¯­å¥ï¼Œå¹¶æ‰§è¡Œ<br/><br/>```sql<br/># demoåˆ—è¡¨<br/>drop table if exists `demo`;<br/>create table `demo` (<br/>    `id` bigint not null comment 'id',<br/>    `name` varchar(50) comment 'åç§°',<br/>    primary key (`id`)<br/>) engine=innodb default charset =utf8mb4 comment 'æµ‹è¯•';<br/><br/>insert into `demo` (id,name) values(2,'æµ‹è¯•2');<br/>```<br/><br/><br/><br/>* åœ¨ä»£ç ç”Ÿæˆå™¨æœ€åçš„éƒ¨åˆ†ï¼Œå¡«ä¸Šè¦ç”Ÿæˆçš„è¡¨å<br/><br/>![image-20210415012438872](https://gitee.com/faro/images/raw/master/img/20210415012439.png)<br/><br/><br/><br/>* æ‰§è¡Œ<br/><br/>![image-20210415012552449](https://gitee.com/faro/images/raw/master/img/20210415012552.png)<br/><br/><br/><br/>* æ‰§è¡ŒæˆåŠŸï¼Œä¼šç”Ÿæˆ 4 ä¸ªæ–°æ–‡ä»¶<br/><br/>![image-20210415012630004](https://gitee.com/faro/images/raw/master/img/20210415012630.png)<br/><br/><br/><br/>* æˆ‘ä»¬æ¨¡ä»¿ Testï¼Œå»å†™ Demoçš„ Service å’Œ Controller ä»£ç <br/><br/>```java<br/>@RestController<br/>public class DemoController {<br/><br/>    @Autowired<br/>    private DemoService demoService;<br/><br/>    @RequestMapping(\"/demo/list\")<br/>    public List&lt;Demo&gt; list() {<br/>        return demoService.getList();<br/>    }<br/>}<br/>```<br/><br/>```java<br/>@Service<br/>public class DemoService {<br/><br/>    @Resource<br/>    private DemoMapper demoMapper;<br/><br/>    public List&lt;Demo&gt; getList() {<br/>        List&lt;Demo&gt; list = demoMapper.selectByExample(null);<br/>        return list;<br/>    }<br/>}<br/>```<br/><br/><br/><br/>* æ·»åŠ  demo çš„ http æµ‹è¯•è„šæœ¬<br/><br/>```http<br/>GET http://localhost:8880/demo/list<br/>Accept: application/json<br/><br/>###<br/>```<br/><br/>æµ‹è¯•æˆåŠŸï¼Œè¯´æ˜æˆ‘ä»¬ç”¨ä»£ç ç”Ÿæˆå™¨ç”Ÿæˆçš„ä»£ç æ²¡æœ‰é—®é¢˜<br/><br/>![image-20210415013323695](https://gitee.com/faro/images/raw/master/img/20210415013323.png)<br/><br/><br/><br/>### 8. è§£å†³å‰åç«¯è·¨åŸŸé—®é¢˜<br/><br/>è™½ç„¶ç°åœ¨è¿˜æ²¡æœ‰æ„å»ºå‰ç«¯é¡¹ç›®ï¼Œä½†æ˜¯åé¢ï¼Œä¼šå‡ºç°è·¨åŸŸé—®é¢˜<br/><br/><br/><br/>* æ–°å»º CorsConfig ç±»<br/><br/>![image-20210415013643183](https://gitee.com/faro/images/raw/master/img/20210415013643.png)<br/><br/><br/><br/>* ä»£ç å¦‚ä¸‹<br/><br/>ä¸ç”¨æ”¹åŠ¨ï¼Œç›´æ¥ç”¨ï¼Œåˆ«å¿˜äº†åŠ ä¸Š==@Configuration==æ³¨è§£<br/><br/>```java<br/>@Configuration<br/>public class CorsConfig implements WebMvcConfigurer {<br/><br/>    @Override<br/>    public void addCorsMappings(CorsRegistry registry) {<br/>        registry.addMapping(\"/**\")<br/>                .allowedOriginPatterns(\"*\")<br/>                .allowedHeaders(CorsConfiguration.ALL)<br/>                .allowedMethods(CorsConfiguration.ALL)<br/>                .allowCredentials(true)<br/>                .maxAge(3600); // 1å°æ—¶å†…ä¸éœ€è¦å†é¢„æ£€ï¼ˆå‘OPTIONSè¯·æ±‚ï¼‰<br/>    }<br/>}<br/>```<br/><br/><br/><br/>### 9. æ·»åŠ é›ªèŠ±ç®—æ³•å·¥å…·ç±»<br/><br/>é›ªèŠ±ç®—æ³•ï¼Œç”¨æ¥ç”Ÿæˆå”¯ä¸€ ID<br/><br/><br/><br/>* æ–°å»º SnowFlake å·¥å…·ç±»<br/><br/>![image-20210415014504164](https://gitee.com/faro/images/raw/master/img/20210415014504.png)<br/><br/><br/><br/>* ä»£ç å¦‚ä¸‹<br/><br/>åˆ«å¿˜äº†åŠ ä¸Š @Component æ³¨è§£<br/><br/>```java<br/>@Component<br/>public class SnowFlake {<br/>    /**<br/>     * èµ·å§‹çš„æ—¶é—´æˆ³<br/>     */<br/>    private final static long START_STMP = 1609459200000L; // 2021-01-01 00:00:00<br/><br/>    /**<br/>     * æ¯ä¸€éƒ¨åˆ†å ç”¨çš„ä½æ•°<br/>     */<br/>    private final static long SEQUENCE_BIT = 12; //åºåˆ—å·å ç”¨çš„ä½æ•°<br/>    private final static long MACHINE_BIT = 5;   //æœºå™¨æ ‡è¯†å ç”¨çš„ä½æ•°<br/>    private final static long DATACENTER_BIT = 5;//æ•°æ®ä¸­å¿ƒå ç”¨çš„ä½æ•°<br/><br/>    /**<br/>     * æ¯ä¸€éƒ¨åˆ†çš„æœ€å¤§å€¼<br/>     */<br/>    private final static long MAX_DATACENTER_NUM = -1L ^ (-1L &lt;&lt; DATACENTER_BIT);<br/>    private final static long MAX_MACHINE_NUM = -1L ^ (-1L &lt;&lt; MACHINE_BIT);<br/>    private final static long MAX_SEQUENCE = -1L ^ (-1L &lt;&lt; SEQUENCE_BIT);<br/><br/>    /**<br/>     * æ¯ä¸€éƒ¨åˆ†å‘å·¦çš„ä½ç§»<br/>     */<br/>    private final static long MACHINE_LEFT = SEQUENCE_BIT;<br/>    private final static long DATACENTER_LEFT = SEQUENCE_BIT + MACHINE_BIT;<br/>    private final static long TIMESTMP_LEFT = DATACENTER_LEFT + DATACENTER_BIT;<br/><br/>    private long datacenterId = 1;  //æ•°æ®ä¸­å¿ƒ<br/>    private long machineId = 1;     //æœºå™¨æ ‡è¯†<br/>    private long sequence = 0L; //åºåˆ—å·<br/>    private long lastStmp = -1L;//ä¸Šä¸€æ¬¡æ—¶é—´æˆ³<br/><br/>    public SnowFlake() {<br/>    }<br/><br/>    public SnowFlake(long datacenterId, long machineId) {<br/>        if (datacenterId &gt; MAX_DATACENTER_NUM || datacenterId &lt; 0) {<br/>            throw new IllegalArgumentException(\"datacenterId can't be greater than MAX_DATACENTER_NUM or less than 0\");<br/>        }<br/>        if (machineId &gt; MAX_MACHINE_NUM || machineId &lt; 0) {<br/>            throw new IllegalArgumentException(\"machineId can't be greater than MAX_MACHINE_NUM or less than 0\");<br/>        }<br/>        this.datacenterId = datacenterId;<br/>        this.machineId = machineId;<br/>    }<br/><br/>    /**<br/>     * äº§ç”Ÿä¸‹ä¸€ä¸ªID<br/>     *<br/>     * @return<br/>     */<br/>    public synchronized long nextId() {<br/>        long currStmp = getNewstmp();<br/>        if (currStmp &lt; lastStmp) {<br/>            throw new RuntimeException(\"Clock moved backwards.  Refusing to generate id\");<br/>        }<br/><br/>        if (currStmp == lastStmp) {<br/>            //ç›¸åŒæ¯«ç§’å†…ï¼Œåºåˆ—å·è‡ªå¢<br/>            sequence = (sequence + 1) &amp; MAX_SEQUENCE;<br/>            //åŒä¸€æ¯«ç§’çš„åºåˆ—æ•°å·²ç»è¾¾åˆ°æœ€å¤§<br/>            if (sequence == 0L) {<br/>                currStmp = getNextMill();<br/>            }<br/>        } else {<br/>            //ä¸åŒæ¯«ç§’å†…ï¼Œåºåˆ—å·ç½®ä¸º0<br/>            sequence = 0L;<br/>        }<br/><br/>        lastStmp = currStmp;<br/><br/>        return (currStmp - START_STMP) &lt;&lt; TIMESTMP_LEFT //æ—¶é—´æˆ³éƒ¨åˆ†<br/>                | datacenterId &lt;&lt; DATACENTER_LEFT       //æ•°æ®ä¸­å¿ƒéƒ¨åˆ†<br/>                | machineId &lt;&lt; MACHINE_LEFT             //æœºå™¨æ ‡è¯†éƒ¨åˆ†<br/>                | sequence;                             //åºåˆ—å·éƒ¨åˆ†<br/>    }<br/><br/>    private long getNextMill() {<br/>        long mill = getNewstmp();<br/>        while (mill &lt;= lastStmp) {<br/>            mill = getNewstmp();<br/>        }<br/>        return mill;<br/>    }<br/><br/>    private long getNewstmp() {<br/>        return System.currentTimeMillis();<br/>    }<br/><br/>    // public static void main(String[] args) throws ParseException {<br/>    //     // æ—¶é—´æˆ³<br/>    //     // System.out.println(System.currentTimeMillis());<br/>    //     // System.out.println(new Date().getTime());<br/>    //     //<br/>    //     // String dateTime = \"2021-01-01 08:00:00\";<br/>    //     // SimpleDateFormat sdf = new SimpleDateFormat(\"yyyy-MM-dd hh:mm:ss\");<br/>    //     // System.out.println(sdf.parse(dateTime).getTime());<br/>    //<br/>    //     SnowFlake snowFlake = new SnowFlake(1, 1);<br/>    //<br/>    //     long start = System.currentTimeMillis();<br/>    //     for (int i = 0; i &lt; 10; i++) {<br/>    //         System.out.println(snowFlake.nextId());<br/>    //         System.out.println(System.currentTimeMillis() - start);<br/>    //     }<br/>    // }<br/><br/>}<br/>```<br/><br/><br/><br/><br/><br/>### 10. æ·»åŠ  AOP<br/><br/>AOP ç”¨æ¥æ‰“å°æ¥å£æ—¥å¿—ï¼Œæ–¹ä¾¿åæœŸè°ƒè¯•<br/><br/><br/><br/>* Maven ä¸­å¼•å…¥ fastjsonï¼Œå› ä¸º æˆ‘ä»¬çš„ç±»ä¸­è¦ç”¨<br/><br/>```xml<br/> &lt;!--fastjson--&gt;<br/>&lt;dependency&gt;<br/>  &lt;groupId&gt;com.alibaba&lt;/groupId&gt;<br/>  &lt;artifactId&gt;fastjson&lt;/artifactId&gt;<br/>  &lt;version&gt;1.2.70&lt;/version&gt;<br/>&lt;/dependency&gt;<br/>```<br/><br/><br/><br/>* Maven å¼•å…¥ AOP<br/><br/>```xml<br/>&lt;!--å¯¼å…¥aop--&gt;<br/>&lt;dependency&gt;<br/>  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;<br/>  &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;<br/>&lt;/dependency&gt;<br/>```<br/><br/><br/><br/>* æ·»åŠ  RequestContext å·¥å…·ç±»<br/><br/>è¿™ä¸ªæ˜¯åæœŸä¸ºäº†æ‰“å° WebSocket æ—¥å¿—çš„<br/><br/>![image-20210415014912415](https://gitee.com/faro/images/raw/master/img/20210415014912.png)<br/><br/>```java<br/>public class RequestContext implements Serializable {<br/>    private static ThreadLocal&lt;String&gt; remoteAddr = new ThreadLocal&lt;&gt;();<br/><br/>    public static String getRemoteAddr() {<br/>        return remoteAddr.get();<br/>    }<br/><br/>    public static void setRemoteAddr(String remoteAddr) {<br/>        weixindemo.util.RequestContext.remoteAddr.set(remoteAddr);<br/>    }<br/>}<br/>```<br/><br/><br/><br/>* æ–°å»º aspect åŒ…ï¼Œå¹¶æ–°å»º LogAspect ç±»<br/><br/>![image-20210415013942484](https://gitee.com/faro/images/raw/master/img/20210415013942.png)<br/><br/><br/><br/>**LogAspect ä»£ç å¦‚ä¸‹:**<br/><br/>åˆ‡ç‚¹çš„ä»£ç ï¼Œæˆ‘ä»¬è¦ä¾æ®é¡¹ç›®ä¿®æ”¹<br/><br/>![image-20210415015319943](https://gitee.com/faro/images/raw/master/img/20210415015320.png)<br/><br/>```java<br/>@Aspect<br/>@Component<br/>public class LogAspect {<br/>    private final static Logger LOG = LoggerFactory.getLogger(weixindemo.aspect.LogAspect.class);<br/><br/>    @Resource<br/>    private SnowFlake snowFlake;<br/><br/>    /** å®šä¹‰ä¸€ä¸ªåˆ‡ç‚¹ */<br/>    @Pointcut(\"execution(public * weixindemo.controller..*Controller.*(..))\")<br/>    public void controllerPointcut() {}<br/><br/>    // @Resource<br/>    // private SnowFlake snowFlake;<br/><br/>    @Before(\"controllerPointcut()\")<br/>    public void doBefore(JoinPoint joinPoint) throws Throwable {<br/><br/>        // å¢åŠ æ—¥å¿—æµæ°´å·<br/>        MDC.put(\"LOG_ID\", String.valueOf(snowFlake.nextId()));<br/><br/>        // å¼€å§‹æ‰“å°è¯·æ±‚æ—¥å¿—<br/>        ServletRequestAttributes attributes = (ServletRequestAttributes) RequestContextHolder.getRequestAttributes();<br/>        HttpServletRequest request = attributes.getRequest();<br/>        Signature signature = joinPoint.getSignature();<br/>        String name = signature.getName();<br/><br/>        // æ‰“å°è¯·æ±‚ä¿¡æ¯<br/>        LOG.info(\"------------- å¼€å§‹ -------------\");<br/>        LOG.info(\"è¯·æ±‚åœ°å€: {} {}\", request.getRequestURL().toString(), request.getMethod());<br/>        LOG.info(\"ç±»åæ–¹æ³•: {}.{}\", signature.getDeclaringTypeName(), name);<br/>        LOG.info(\"è¿œç¨‹åœ°å€: {}\", request.getRemoteAddr());<br/><br/>        RequestContext.setRemoteAddr(getRemoteIp(request));<br/><br/>        // æ‹¿åˆ°æ‰€æœ‰çš„å‚æ•°<br/>        Object[] args = joinPoint.getArgs();<br/>        // LOG.info(\"è¯·æ±‚å‚æ•°: {}\", JSONObject.toJSONString(args));<br/><br/>        Object[] arguments  = new Object[args.length];<br/>        for (int i = 0; i &lt; args.length; i++) {<br/>            if (args[i] instanceof ServletRequest<br/>                    || args[i] instanceof ServletResponse<br/>                    || args[i] instanceof MultipartFile) {<br/>                continue;<br/>            }<br/>            arguments[i] = args[i];<br/>        }<br/>        // æ’é™¤å­—æ®µï¼Œæ•æ„Ÿå­—æ®µæˆ–å¤ªé•¿çš„å­—æ®µä¸æ˜¾ç¤º<br/>        String[] excludeProperties = {\"password\", \"file\"};<br/>        PropertyPreFilters filters = new PropertyPreFilters();<br/>        PropertyPreFilters.MySimplePropertyPreFilter excludefilter = filters.addFilter();<br/>        excludefilter.addExcludes(excludeProperties);<br/>        LOG.info(\"è¯·æ±‚å‚æ•°: {}\", JSONObject.toJSONString(arguments, excludefilter));<br/>    }<br/><br/>    @Around(\"controllerPointcut()\")<br/>    public Object doAround(ProceedingJoinPoint proceedingJoinPoint) throws Throwable {<br/>        long startTime = System.currentTimeMillis();<br/>        Object result = proceedingJoinPoint.proceed();<br/>        // æ’é™¤å­—æ®µï¼Œæ•æ„Ÿå­—æ®µæˆ–å¤ªé•¿çš„å­—æ®µä¸æ˜¾ç¤º<br/>        String[] excludeProperties = {\"password\", \"file\"};<br/>        PropertyPreFilters filters = new PropertyPreFilters();<br/>        PropertyPreFilters.MySimplePropertyPreFilter excludefilter = filters.addFilter();<br/>        excludefilter.addExcludes(excludeProperties);<br/>        LOG.info(\"è¿”å›ç»“æœ: {}\", JSONObject.toJSONString(result, excludefilter));<br/>        LOG.info(\"------------- ç»“æŸ è€—æ—¶ï¼š{} ms -------------\", System.currentTimeMillis() - startTime);<br/>        return result;<br/>    }<br/><br/>    /**<br/>     * ä½¿ç”¨nginxåšåå‘ä»£ç†ï¼Œéœ€è¦ç”¨è¯¥æ–¹æ³•æ‰èƒ½å–åˆ°çœŸå®çš„è¿œç¨‹IP<br/>     * å½“æˆ‘ä»¬å‘å¸ƒä¸Šçº¿åï¼Œå› ä¸ºå‰ç«¯ã€åç«¯éƒ½æ˜¯ç”¨80ç«¯å£ï¼Œä¼šå†²çª<br/>     * æ‰€ä»¥ç”¨æˆ·è®¿é—®çš„æ—¶å€™ï¼Œéœ€è¦å…ˆå»è®¿é—® nginxï¼Œç„¶åï¼Œè®© nginx å»åå‘ä»£ç†ï¼Œæ‰¾æˆ‘ä»¬è¦è®¿é—®çš„è·¯å¾„<br/>     * @param request<br/>     * @return<br/>     */<br/>    public String getRemoteIp(HttpServletRequest request) {<br/>        String ip = request.getHeader(\"x-forwarded-for\");<br/>        if (ip == null || ip.length() == 0 || \"unknown\".equalsIgnoreCase(ip)) {<br/>            ip = request.getHeader(\"Proxy-Client-IP\");<br/>        }<br/>        if (ip == null || ip.length() == 0 || \"unknown\".equalsIgnoreCase(ip)) {<br/>            ip = request.getHeader(\"WL-Proxy-Client-IP\");<br/>        }<br/>        if (ip == null || ip.length() == 0 || \"unknown\".equalsIgnoreCase(ip)) {<br/>            ip = request.getRemoteAddr();<br/>        }<br/>        return ip;<br/>    }<br/>}<br/>```<br/><br/><br/><br/>### 11. è§£å†³å‰åç«¯ Long ç²¾åº¦ä¸¢å¤±é—®é¢˜<br/><br/>æˆ‘ä»¬åæœŸä¼šç”¨åˆ° MD5 åŠ å¯†ï¼Œåˆ°æ—¶å€™åç«¯ä¼ åˆ°å‰ç«¯çš„æ—¶å€™ï¼Œå› ä¸º javascript number çš„ç²¾åº¦é—®é¢˜ï¼Œä¼šå‡ºç°æ•°æ®ä¸¢å¤±<br/><br/><br/><br/>* é…ç½®æ–‡ä»¶æ–°å¢ JacksonConfig ç±»<br/><br/>![image-20210415020223600](https://gitee.com/faro/images/raw/master/img/20210415020223.png)<br/><br/><br/><br/>* ä»£ç å¦‚ä¸‹<br/><br/>```java<br/>@Configuration<br/>public class JacksonConfig {<br/><br/>    @Bean<br/>    public ObjectMapper jacksonObjectMapper(Jackson2ObjectMapperBuilder builder) {<br/>        ObjectMapper objectMapper = builder.createXmlMapper(false).build();<br/>        SimpleModule simpleModule = new SimpleModule();<br/>        // simpleModule.addSerializer(Long.class, ToStringSerializer.instance);<br/>        simpleModule.addSerializer(Long.class, ToStringSerializer.instance);<br/>        objectMapper.registerModule(simpleModule);<br/>        return objectMapper;<br/>    }<br/>}<br/>```<br/><br/><br/><br/>### 12. æ–°å»º req resp åŒ…<br/><br/>æˆ‘ä»¬è¦å°†è¯·æ±‚ä¸è¿”å›åŒ…è£…<br/><br/>![image-20210415020648707](https://gitee.com/faro/images/raw/master/img/20210415020648.png)<br/><br/><br/><br/>### 13. CommonResp<br/><br/>ä¸ºäº†æ–¹ä¾¿å‰ç«¯è°ƒç”¨ï¼Œåç«¯çš„ respï¼Œæˆ‘ä»¬å†™ä¸€ä¸ªç»Ÿä¸€çš„è¿”å› CommonResp<br/><br/>![image-20210415020805724](https://gitee.com/faro/images/raw/master/img/20210415020805.png)<br/><br/>**ä»£ç å¦‚ä¸‹ï¼š**<br/><br/>```java<br/>@Data<br/>@AllArgsConstructor<br/>@NoArgsConstructor<br/>public class CommonResp&lt;T&gt; {<br/>    /**<br/>     * è¿”å›æ˜¯å¦æˆåŠŸ<br/>     */<br/>    private boolean isSuccess=true;<br/><br/>    /**<br/>     * è¿”å›å¤±è´¥æ—¶ï¼Œè¿”å›çš„é”™è¯¯ä¿¡æ¯<br/>     */<br/>    private String message;<br/><br/>    /**<br/>     * è¿”å›æˆåŠŸçš„æ—¶å€™ï¼Œè¿”å›çš„å†…å®¹<br/>     */<br/>    private T content;<br/>}<br/>```<br/><br/><br/><br/>### 14. è‡ªå®šä¹‰å¼‚å¸¸<br/><br/>* æ–°å»ºå¼‚å¸¸ç±»`BusinessException`å’Œå¼‚å¸¸ä¿¡æ¯æšä¸¾`BusinessExceptionCode`<br/><br/>![image-20210415021357196](https://gitee.com/faro/images/raw/master/img/20210415021357.png)<br/><br/><br/><br/>* `BusinessException`ä»£ç <br/><br/>```java<br/>public class BusinessException extends RuntimeException{<br/>    private BusinessExceptionCode code;<br/><br/>    public BusinessException (BusinessExceptionCode code) {<br/>        /**<br/>         * çˆ¶ç±»æœ‰ä¸ªæˆå‘˜å˜é‡  private String desc<br/>         * éœ€è¦ä¸ºè¿™ä¸ªæˆå‘˜å˜é‡èµ‹å€¼<br/>         */<br/>        super(code.getDesc());<br/>        this.code = code;<br/>    }<br/><br/>    public BusinessExceptionCode getCode() {<br/>        return code;<br/>    }<br/><br/>    public void setCode(BusinessExceptionCode code) {<br/>        this.code = code;<br/>    }<br/><br/>    /**<br/>     * ä¸å†™å…¥å †æ ˆä¿¡æ¯ï¼Œæé«˜æ€§èƒ½<br/>     */<br/>    @Override<br/>    public Throwable fillInStackTrace() {<br/>        return this;<br/>    }<br/>}<br/>```<br/><br/><br/><br/>* `BusinessExceptionCode`ä»£ç <br/><br/>```java<br/>public enum BusinessExceptionCode {<br/>    USER_LOGIN_NAME_EXIST(\"ç™»å½•åå·²å­˜åœ¨\"),<br/>    LOGIN_USER_ERROR(\"ç”¨æˆ·åä¸å­˜åœ¨æˆ–å¯†ç é”™è¯¯\"),<br/>    VOTE_REPEAT(\"æ‚¨å·²ç‚¹èµè¿‡\"),<br/>    ;<br/><br/>    private String desc;<br/><br/>    BusinessExceptionCode(String desc) {<br/>        this.desc = desc;<br/>    }<br/><br/>    public String getDesc() {<br/>        return desc;<br/>    }<br/><br/>    public void setDesc(String desc) {<br/>        this.desc = desc;<br/>    }<br/>}<br/>```<br/><br/><br/><br/><br/><br/>### 13. ç»Ÿä¸€å¼‚å¸¸å¤„ç†<br/><br/>æˆ‘ä»¬æ‰€æœ‰å¼‚å¸¸ï¼Œéƒ½é€šè¿‡è¿™ä¸ªç±»æ¥æ•è·ï¼Œå¹¶ç”Ÿæˆä¸€ä¸ªè¿”å›é”™è¯¯ä¿¡æ¯çš„ CommonResp<br/><br/><br/><br/>* æ–°å»º ControllerExceptionHandler ç±»<br/><br/>![](https://gitee.com/faro/images/raw/master/img/20210415020947.png)<br/><br/><br/><br/>* ä»£ç å¦‚ä¸‹<br/><br/>logger è¦æ ¹æ®é¡¹ç›®æ”¹ä¸€ä¸‹<br/><br/>```java<br/>/**<br/> * ç»Ÿä¸€å¼‚å¸¸å¤„ç†ã€æ•°æ®é¢„å¤„ç†ç­‰<br/> * è¯¥ç±»ç”¨äºæ•è·ç³»ç»Ÿå¼¹å‡ºçš„å¼‚å¸¸<br/> * å°†å¼‚å¸¸åŒ…è£…æˆä¸€ä¸ª CommonResp<br/> * ä»è€Œæ–¹ä¾¿å‰ç«¯è°ƒç”¨ï¼Œæ˜¾ç¤ºé”™è¯¯ä¿¡æ¯<br/> */<br/>@ControllerAdvice<br/>public class ControllerExceptionHandler {<br/>    private static final Logger LOG = LoggerFactory.getLogger(top.faroz.controller.ControllerExceptionHandler.class);<br/><br/>    /**<br/>     * æ ¡éªŒå¼‚å¸¸ç»Ÿä¸€å¤„ç†<br/>     * @param e<br/>     * @return<br/>     */<br/>    @ExceptionHandler(value = BindException.class)<br/>    @ResponseBody<br/>    public CommonResp validExceptionHandler(BindException e) {<br/>        CommonResp commonResp = new CommonResp();<br/>        LOG.warn(\"å‚æ•°æ ¡éªŒå¤±è´¥ï¼š{}\", e.getBindingResult().getAllErrors().get(0).getDefaultMessage());<br/>        commonResp.setSuccess(false);<br/>        commonResp.setMessage(e.getBindingResult().getAllErrors().get(0).getDefaultMessage());<br/>        return commonResp;<br/>    }<br/><br/>    /**<br/>     * æ ¡éªŒå¼‚å¸¸ç»Ÿä¸€å¤„ç†<br/>     * @param e<br/>     * @return<br/>     */<br/>    @ExceptionHandler(value = BusinessException.class)<br/>    @ResponseBody<br/>    public CommonResp validExceptionHandler(BusinessException e) {<br/>        CommonResp commonResp = new CommonResp();<br/>        LOG.warn(\"ä¸šåŠ¡å¼‚å¸¸ï¼š{}\", e.getCode().getDesc());<br/>        commonResp.setSuccess(false);<br/>        commonResp.setMessage(e.getCode().getDesc());<br/>        return commonResp;<br/>    }<br/><br/>    /**<br/>     * æ ¡éªŒå¼‚å¸¸ç»Ÿä¸€å¤„ç†<br/>     * @param e<br/>     * @return<br/>     */<br/>    @ExceptionHandler(value = Exception.class)<br/>    @ResponseBody<br/>    public CommonResp validExceptionHandler(Exception e) {<br/>        CommonResp commonResp = new CommonResp();<br/>        LOG.error(\"ç³»ç»Ÿå¼‚å¸¸ï¼š\", e);<br/>        commonResp.setSuccess(false);<br/>        commonResp.setMessage(\"ç³»ç»Ÿå‡ºç°å¼‚å¸¸ï¼Œè¯·è”ç³»ç®¡ç†å‘˜\");<br/>        return commonResp;<br/>    }<br/>}<br/>```<br/><br/><br/><br/>### 14. æ·»åŠ æ—¥å¿—è®°å½• logback<br/><br/>* åœ¨ resource ä¸‹ï¼Œæ–°å»ºlogback-spring.xml æ–‡ä»¶<br/><br/>![image-20210411004947139](https://gitee.com/faro/images/raw/master/img/20210411004947.png)<br/><br/>* å†™å…¥å†…å®¹<br/><br/>```xml<br/>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;<br/>&lt;configuration&gt;<br/>    &lt;!-- ä¿®æ”¹ä¸€ä¸‹è·¯å¾„--&gt;<br/>    &lt;property name=\"PATH\" value=\"./log\"&gt;&lt;/property&gt;<br/><br/>    &lt;appender name=\"STDOUT\" class=\"ch.qos.logback.core.ConsoleAppender\"&gt;<br/>        &lt;encoder&gt;<br/>            &lt;Pattern&gt;%d{yyyy-MM-dd HH:mm:ss.SSS} %highlight(%-5level) %blue(%-50logger{50}:%-4line) %thread %msg%n&lt;/Pattern&gt;<br/>            &lt;!--&lt;Pattern&gt;%d{ss.SSS} %highlight(%-5level) %blue(%-30logger{30}:%-4line) %thread %green(%-18X{LOG_ID}) %msg%n&lt;/Pattern&gt;--&gt;<br/>        &lt;/encoder&gt;<br/>    &lt;/appender&gt;<br/><br/>    &lt;appender name=\"TRACE_FILE\" class=\"ch.qos.logback.core.rolling.RollingFileAppender\"&gt;<br/>        &lt;file&gt;${PATH}/trace.log&lt;/file&gt;<br/>        &lt;rollingPolicy class=\"ch.qos.logback.core.rolling.TimeBasedRollingPolicy\"&gt;<br/>            &lt;FileNamePattern&gt;${PATH}/trace.%d{yyyy-MM-dd}.%i.log&lt;/FileNamePattern&gt;<br/>            &lt;timeBasedFileNamingAndTriggeringPolicy class=\"ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP\"&gt;<br/>                &lt;maxFileSize&gt;10MB&lt;/maxFileSize&gt;<br/>            &lt;/timeBasedFileNamingAndTriggeringPolicy&gt;<br/>        &lt;/rollingPolicy&gt;<br/>        &lt;layout&gt;<br/>            &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss.SSS} %-5level %-50logger{50}:%-4line %green(%-18X{LOG_ID}) %msg%n&lt;/pattern&gt;<br/>        &lt;/layout&gt;<br/>    &lt;/appender&gt;<br/><br/>    &lt;appender name=\"ERROR_FILE\" class=\"ch.qos.logback.core.rolling.RollingFileAppender\"&gt;<br/>        &lt;file&gt;${PATH}/error.log&lt;/file&gt;<br/>        &lt;rollingPolicy class=\"ch.qos.logback.core.rolling.TimeBasedRollingPolicy\"&gt;<br/>            &lt;FileNamePattern&gt;${PATH}/error.%d{yyyy-MM-dd}.%i.log&lt;/FileNamePattern&gt;<br/>            &lt;timeBasedFileNamingAndTriggeringPolicy class=\"ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP\"&gt;<br/>                &lt;maxFileSize&gt;10MB&lt;/maxFileSize&gt;<br/>            &lt;/timeBasedFileNamingAndTriggeringPolicy&gt;<br/>        &lt;/rollingPolicy&gt;<br/>        &lt;layout&gt;<br/>            &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss.SSS} %-5level %-50logger{50}:%-4line %green(%-18X{LOG_ID}) %msg%n&lt;/pattern&gt;<br/>        &lt;/layout&gt;<br/>        &lt;filter class=\"ch.qos.logback.classic.filter.LevelFilter\"&gt;<br/>            &lt;level&gt;ERROR&lt;/level&gt;<br/>            &lt;onMatch&gt;ACCEPT&lt;/onMatch&gt;<br/>            &lt;onMismatch&gt;DENY&lt;/onMismatch&gt;<br/>        &lt;/filter&gt;<br/>    &lt;/appender&gt;<br/><br/>    &lt;root level=\"ERROR\"&gt;<br/>        &lt;appender-ref ref=\"ERROR_FILE\" /&gt;<br/>    &lt;/root&gt;<br/><br/>    &lt;root level=\"TRACE\"&gt;<br/>        &lt;appender-ref ref=\"TRACE_FILE\" /&gt;<br/>    &lt;/root&gt;<br/><br/>    &lt;root level=\"INFO\"&gt;<br/>        &lt;appender-ref ref=\"STDOUT\" /&gt;<br/>    &lt;/root&gt;<br/>&lt;/configuration&gt;<br/><br/>```<br/><br/><br/><br/>### 15. è‡ªå®šä¹‰ banner<br/><br/>resources ä¸‹æ–°å»º banner.txt<br/><br/>![image-20210415023847796](https://gitee.com/faro/images/raw/master/img/20210415023847.png)<br/><br/><br/><br/>é‡Œé¢æ”¾ä¸Šè‡ªå®šä¹‰ banner<br/><br/>```txt<br/> ********     **     *******     *******         ********<br/>/**/////     ****   /**////**   **/////**       //////** <br/>/**         **//**  /**   /**  **     //**           **  <br/>/*******   **  //** /*******  /**      /**          **   <br/>/**////   **********/**///**  /**      /**         **    <br/>/**      /**//////**/**  //** //**     **         **     <br/>/**      /**     /**/**   //** //*******   ***** ********<br/>//       //      // //     //   ///////   ///// //////// <br/>```<br/><br/><br/><br/><br/></p>","success":true}
2021-04-16 00:57:10.221 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š12 ms -------------
2021-04-16 00:58:21.144 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:58:21.146 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/list GET
2021-04-16 00:58:21.146 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.list
2021-04-16 00:58:21.147 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:58:21.148 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":4}]
2021-04-16 00:58:21.156 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"list":[{"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Vue å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":2,"name":"Vue å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Python å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":3,"name":"Python å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Mysql å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":4,"name":"Mysql å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0}],"total":7},"success":true}
2021-04-16 00:58:21.157 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š13 ms -------------
2021-04-16 00:58:22.616 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:58:22.617 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/list GET
2021-04-16 00:58:22.617 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.list
2021-04-16 00:58:22.617 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:58:22.618 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":5}]
2021-04-16 00:58:22.624 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"list":[{"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Vue å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":2,"name":"Vue å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Python å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":3,"name":"Python å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Mysql å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":4,"name":"Mysql å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"c++çœŸçš„å¾ˆå®¹æ˜“ï¼Œä¸ä¼šæœ‰äººä¸ä¼šå§ï¼Ÿ","docCount":0,"id":5,"name":"21 å¤©å­¦ä¼šC++","viewCount":0,"voteCount":0}],"total":7},"success":true}
2021-04-16 00:58:22.624 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2021-04-16 00:58:24.258 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:58:24.258 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:58:24.258 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2021-04-16 00:58:24.258 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find/1 GET
2021-04-16 00:58:24.258 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.findContent
2021-04-16 00:58:24.258 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.find
2021-04-16 00:58:24.259 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:58:24.259 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:58:24.259 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [1]
2021-04-16 00:58:24.259 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [1]
2021-04-16 00:58:24.264 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},"success":true}
2021-04-16 00:58:24.264 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2021-04-16 00:58:24.266 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":"<p><br/># å®Œæ•´é¡¹ç›®æ­å»ºæµç¨‹<br/><br/>è™½è¯´ SpringBoot ç›¸è¾ƒäº SSM æ¡†æ¶ï¼Œå¤§å¤§å‡è½»äº†é…ç½®çš„ç¹çï¼Œä½†æ˜¯ï¼Œè¦æ•´åˆ MyBatis ï¼Œç»Ÿä¸€å¼‚å¸¸å¤„ç†ï¼ŒVueç­‰ä¸€ç³»åˆ—ä¸œè¥¿ï¼Œè¿˜æ˜¯è¦è´¹ä¸€ç•ªåŠ²çš„ã€‚<br/><br/>è¿™æ¬¡å°†åˆ›å»ºçš„æ•´ä¸ªæµç¨‹è®°å½•ä¸‹æ¥ï¼Œæ–¹ä¾¿ä»¥åçš„é¡¹ç›®æ­å»ºã€‚<br/><br/>è¦æ­å»ºä¸€ä¸ªå®Œæˆçš„å‰åç«¯åˆ†ç¦»é¡¹ç›®ï¼Œåˆ†ä¸ºè¿™ä¹ˆå‡ ä¸ªéƒ¨åˆ†ï¼š==æ•°æ®åº“ã€åç«¯ã€å‰ç«¯==<br/><br/>å¦‚æœæ˜¯ä¸ºå¾®ä¿¡å°ç¨‹åºæ­å»ºä¸€ä¸ªåç«¯æœåŠ¡ï¼Œé‚£å°±åªè¦çœ‹åˆ°==æ•°æ®åº“ã€åç«¯==å°±å¯ä»¥äº†<br/><br/><br/><br/>## æ•°æ®åº“<br/><br/>ä¸€èˆ¬åœ¨æ–°å»ºé¡¹ç›®çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¼šé€‰æ‹©ä¸“é—¨ä¸ºè¿™ä¸ªé¡¹ç›®æ–°å»ºä¸€ä¸ªç”¨æˆ·ï¼Œå¹¶ä¸ºè¿™ä¸ªç”¨æˆ·ï¼Œèµ‹äºˆåªå±äºè¿™ä¸€ä¸ªé¡¹ç›®çš„æ‰€æœ‰æƒé™<br/><br/><br/><br/>### 1. **è¿æ¥ admin**<br/><br/>åªæœ‰ admin æœ‰æ‰€æœ‰æƒé™<br/><br/>æˆ‘çš„æ•°æ®åº“ admin çš„è´¦æˆ·åå’Œå¯†ç æ˜¯ï¼š<br/><br/>**è´¦æˆ·ï¼š**admin<br/><br/>**å¯†ç ï¼š**123<br/><br/>![image-20210411002100312](https://gitee.com/faro/images/raw/master/img/20210411003334.png)<br/><br/><br/><br/>### 2. **æ–°å»ºæ•°æ®åº“**<br/><br/>å…¶å­—ç¬¦ç±»å‹ä¸€å®šè¦é€‰æ‹©==utf8mb4==ï¼Œè¿™æ‰æ˜¯çœŸæ­£çš„ utf8ï¼Œæ”¯æŒè¡¨æƒ…ç¬¦å·<br/><br/>![image-20210411002304858](https://gitee.com/faro/images/raw/master/img/20210411002304.png)<br/><br/>### 3. **ä¸ºè¿™ä¸ªæ•°æ®åº“ï¼Œä¸“é—¨å»ºä¸€ä¸ªç”¨æˆ·**<br/><br/>å¼€å‘ç¯å¢ƒä¸­ï¼Œå°±å°†å¯†ç å’Œç”¨æˆ·åè®¾ç½®æˆä¸€æ ·çš„ï¼Œè¿™æ ·ä¸ä¼šå¿˜è®°<br/><br/>host è®¾ç½®ä¸º localhost<br/><br/>![image-20210411002742750](https://gitee.com/faro/images/raw/master/img/20210411002742.png)<br/><br/><br/><br/>### 4. **ä¸ºè¿™ä¸ªç”¨æˆ·ï¼Œæˆäºˆå¯¹åº”æ•°æ®åº“çš„å…¨éƒ¨æƒé™**<br/><br/>![image-20210411003034426](https://gitee.com/faro/images/raw/master/img/20210411003034.png)<br/><br/>![image-20210411002821790](https://gitee.com/faro/images/raw/master/img/20210414201958.png)<br/><br/>### 5. **å¯¹å½“å‰ç”¨æˆ·ï¼Œå»ºç«‹è¿æ¥**<br/><br/>![image-20210411002945727](https://gitee.com/faro/images/raw/master/img/20210411002945.png)<br/><br/><br/><br/><br/><br/>## åç«¯<br/><br/>å…³äº Mavenã€tomcat çš„ä¸‹è½½é…ç½®ï¼Œè¿™é‡Œå°±ä¸è´¹ç¬”å¢¨å»è®²è§£äº†ã€‚å¦‚æœ‰éœ€è¦ï¼Œå¯ä»¥è‡ªè¡Œç™¾åº¦æŸ¥æ‰¾ã€‚<br/><br/>### 1. æ–°å»º SpringBoot é¡¹ç›®<br/><br/>* ç‚¹å‡» `SpringInitiallizr`ï¼Œæ–°å»ºé¡¹ç›®<br/><br/>![image-20210414200239335](https://gitee.com/faro/images/raw/master/img/20210414200239.png)<br/><br/>* é€‰æ‹©é»˜è®¤ä¾èµ–çš„åŒ…<br/><br/>![image-20210414200420395](https://gitee.com/faro/images/raw/master/img/20210414200420.png)<br/><br/>![image-20210414200533694](https://gitee.com/faro/images/raw/master/img/20210414200533.png)<br/><br/>![image-20210414200611051](https://gitee.com/faro/images/raw/master/img/20210414200611.png)<br/><br/>* é€‰æ‹©å­˜æ”¾è·¯å¾„<br/><br/>![image-20210414200656633](https://gitee.com/faro/images/raw/master/img/20210414200656.png)<br/><br/>* æ–°å»ºå®Œæˆåï¼Œé¡¹ç›®ç›®å½•å¦‚ä¸‹<br/><br/>![image-20210414200752152](https://gitee.com/faro/images/raw/master/img/20210414200752.png)<br/><br/><br/><br/>### 2. æ›´æ”¹å¯åŠ¨ç±»ä½ç½®<br/><br/>* æ–°å»º config åŒ…ï¼Œå°†å¯åŠ¨ç±»æ”¾è¿›å»<br/><br/>![image-20210414201018806](https://gitee.com/faro/images/raw/master/img/20210414201018.png)<br/><br/><br/><br/>* ä¸ºå¯åŠ¨ç±»æ·»åŠ æ³¨è§£<br/><br/>æ³¨è§£å†…çš„ä¿¡æ¯ï¼Œæ˜¯é¡¹ç›®åç§°<br/><br/>```java<br/>@ComponentScan(\"weixindemo\")<br/>```<br/><br/>![image-20210414201210978](https://gitee.com/faro/images/raw/master/img/20210414201211.png)<br/><br/><br/><br/>### 3. IDEA æ•°æ®åº“é…ç½®<br/><br/>* IDEA è¿æ¥æ•°æ®åº“<br/><br/>![image-20210414220153821](https://gitee.com/faro/images/raw/master/img/20210414220153.png)<br/><br/>![image-20210414221502868](https://gitee.com/faro/images/raw/master/img/20210414221502.png)<br/><br/><br/><br/>* æ·»åŠ  sql è„šæœ¬<br/><br/>æ–°å»º sql æ–‡ä»¶å¤¹ï¼Œå»ºç«‹`all.sql`æ–‡ä»¶<br/><br/>![image-20210414221647283](https://gitee.com/faro/images/raw/master/img/20210414221647.png)<br/><br/><br/><br/>æˆ‘ä»¬åœ¨ sql è„šæœ¬ä¸­æ·»åŠ æµ‹è¯•ç”¨æ•°æ®ï¼Œå¹¶æ‰§è¡Œ<br/><br/>```sql<br/><br/># æµ‹è¯•è¡¨<br/>drop table if exists `test`;<br/>create table `test` (<br/>  `id` bigint not null comment 'id',<br/>  `name` varchar(50) comment 'åç§°',<br/>  `password` varchar(50) comment 'å¯†ç ',<br/>  primary key (`id`)<br/>) engine=innodb default charset=utf8mb4 comment='æµ‹è¯•';<br/><br/>insert into `test` (id, name, password) values (1, 'æµ‹è¯•', 'password');       <br/>```<br/><br/>å¯ä»¥çœ‹åˆ°ï¼Œæ•°æ®åº“å·²å»ºç«‹<br/><br/>![image-20210415000115932](https://gitee.com/faro/images/raw/master/img/20210415000131.png)<br/><br/><br/><br/>### 4. é…ç½® MyBatis<br/><br/>* åœ¨ `resource`æ–‡ä»¶å¤¹ä¸‹ï¼Œæ–°å»º `mapper`æ–‡ä»¶å¤¹<br/><br/>è¿™æ˜¯ç”¨æ¥å­˜æ”¾ MyBatis çš„å®ç°çš„<br/><br/>![image-20210414201459632](https://gitee.com/faro/images/raw/master/img/20210414201459.png)<br/><br/><br/><br/>* æ–°å»º pojo åŒ…<br/><br/>pojo åŒ…ç”¨æ¥å­˜æ”¾å®ä½“ç±»<br/><br/>![image-20210415000316772](https://gitee.com/faro/images/raw/master/img/20210415000316.png)<br/><br/><br/><br/>* åœ¨é¡¹ç›®ä¸‹ï¼Œæ–°å»º mapper åŒ…ï¼Œç”¨æ¥å­˜æ”¾æ¥å£<br/><br/>![image-20210415000711989](https://gitee.com/faro/images/raw/master/img/20210415000712.png)<br/><br/><br/><br/>* å°†é…ç½®æ–‡ä»¶åç¼€æ”¹ä¸º`.yml`<br/><br/>æˆ‘ä¸ªäººä¹ æƒ¯ä½¿ç”¨`.yml`è¿›è¡Œä½ç½®<br/><br/>![image-20210414201610045](https://gitee.com/faro/images/raw/master/img/20210414201610.png)<br/><br/><br/><br/>* æ·»åŠ  `Mybatis`é…ç½®<br/><br/>è¿™é‡Œï¼Œè¦æ·»åŠ æ•°æ®æºï¼Œå’Œ MyBatis çš„é…ç½®ï¼Œéƒ¨åˆ†åœ°æ–¹ï¼Œè¦æ ¹æ®å®é™…é¡¹ç›®ï¼Œè¿›è¡Œä¿®æ”¹<br/><br/>```yml<br/>spring:<br/>  datasource:<br/>    url: jdbc:mysql://localhost:3306/weixindemo?useUnicode=true&amp;characterEncoding=utf-8<br/>    username: weixindemo<br/>    password: weixindemo<br/>    driver-class-name: com.mysql.cj.jdbc.Driver<br/>    <br/>    <br/># æ•´åˆMybatis<br/>mybatis:<br/>  # ** è¡¨ç¤ºåœ¨mapperä¸‹ä¸ç®¡æœ‰å¤šå°‘æ–‡ä»¶å¤¹ï¼Œéƒ½å¯ä»¥å…¨éƒ¨è¯†åˆ«<br/>  mapper-locations: classpath:/mapper/**/*.xml<br/>  type-aliases-package: weixindemo.pojo<br/>  #  æ‰“å°sqlç›¸å…³çš„æ—¥å¿—ä¿¡æ¯<br/>  configuration:<br/>    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl<br/>```<br/><br/>![image-20210415000535841](https://gitee.com/faro/images/raw/master/img/20210415000535.png)<br/><br/><br/><br/>* æ·»åŠ ç«¯å£é…ç½®<br/><br/>å› ä¸º vue ä¹Ÿæ˜¯ç”¨çš„8080ç«¯å£ï¼Œæˆ‘ä»¬ä¸èƒ½å’Œå®ƒé‡äº†<br/><br/>```yml<br/>server:<br/>  port: 8880<br/>```<br/><br/><br/><br/>* å¯åŠ¨ç±»æ·»åŠ `mapper`æ¥å£æ‰«æè·¯å¾„<br/><br/>```java<br/>@MapperScan(\"weixindemo.mapper\") //mybatis mapperæ¥å£æ‰«æ<br/>```<br/><br/>![image-20210415000824262](https://gitee.com/faro/images/raw/master/img/20210415000824.png)<br/><br/><br/><br/>### 5. MVC åŒ…å»ºç«‹<br/><br/>æˆ‘ä»¬è¿˜è¦å»ºç«‹ ==service==ï¼Œ==util==ï¼Œ==controller==åŒ…<br/><br/>![image-20210415001226689](https://gitee.com/faro/images/raw/master/img/20210415001226.png)<br/><br/>![image-20210415001237989](https://gitee.com/faro/images/raw/master/img/20210415001238.png)<br/><br/><br/><br/>### 5. æµ‹è¯• Mybatis é…ç½®<br/><br/>é…ç½®åˆ°è¿™ä¸€æ­¥ï¼Œè¦å¯¹ä¹‹å‰çš„é…ç½®ï¼Œè¿›è¡Œä¸€ä¸ªæµ‹è¯•<br/><br/>* pojo ä¸­ï¼Œæ–°å»º Test å®ä½“ç±»<br/><br/>![image-20210415001028711](https://gitee.com/faro/images/raw/master/img/20210415001028.png)<br/><br/>```java<br/>@Data<br/>@AllArgsConstructor<br/>@NoArgsConstructor<br/>public class Test {<br/>    private Integer id;<br/>    private String name;<br/>}<br/>```<br/><br/><br/><br/>* mapper åŒ…ä¸­ï¼Œæ–°å»º TestMapper æ¥å£<br/><br/>![image-20210415001403532](https://gitee.com/faro/images/raw/master/img/20210415001420.png)<br/><br/>```java<br/>@Repository<br/>@Mapper<br/>public interface TestMapper {<br/>    List&lt;Test&gt; getList();<br/>}<br/>```<br/><br/><br/><br/>* resources ä¸‹çš„ mapper æ–‡ä»¶å¤¹ä¸­ï¼Œå¢åŠ  TestMapper.xml å®ç°<br/><br/>  ![image-20210415002153386](https://gitee.com/faro/images/raw/master/img/20210415002153.png)<br/><br/>å…·ä½“å†…å®¹ï¼Œè¦æ ¹æ®å®é™…é¡¹ç›®ä¿®æ”¹<br/><br/>```xml<br/>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" ?&gt;<br/>&lt;!DOCTYPE mapper PUBLIC \"-//mybatis.org//DTD Mapper 3.0//EN\"<br/>    \"http://mybatis.org/dtd/mybatis-3-mapper.dtd\"&gt;<br/><br/>&lt;!--namespaceè¦å’Œæ¥å£çš„ä½ç½®å’Œåå­—å¯¹åº”--&gt;<br/>&lt;mapper namespace=\"weixindemo.mapper.TestMapper\"&gt;<br/><br/>    &lt;select id=\"getList\" resultType=\"weixindemo.pojo.Test\"&gt;<br/>        select * from test<br/>    &lt;/select&gt;<br/><br/>&lt;/mapper&gt;<br/>```<br/><br/>![image-20210415002240288](https://gitee.com/faro/images/raw/master/img/20210415002240.png)<br/><br/><br/><br/>* åœ¨ service åŒ…ä¸‹ï¼Œæ–°å»º TestService<br/><br/>![](https://gitee.com/faro/images/raw/master/img/20210415002439.png)<br/><br/>åˆ«å¿˜äº†åŠ ä¸Š @Service æ³¨è§£<br/><br/>```java<br/>@Service<br/>public class TestService {<br/><br/>    @Autowired<br/>    private TestMapper mapper;<br/><br/>    public List&lt;Test&gt; getList() {<br/>        return mapper.getList();<br/>    }<br/>}<br/>```<br/><br/><br/><br/>* åœ¨ controlleråŒ…ä¸‹ï¼Œæ–°å»º TestController<br/><br/>![image-20210415002611361](https://gitee.com/faro/images/raw/master/img/20210415002611.png)<br/><br/>```java<br/>@RestController<br/>public class TestController {<br/><br/>    @Autowired<br/>    private TestService testService;<br/>    <br/><br/>    @RequestMapping(\"/test/list\")<br/>    public List&lt;Test&gt; list() {<br/>        return testService.getList();<br/>    }<br/><br/>}<br/>```<br/><br/><br/><br/>* é‡å¯é¡¹ç›®<br/><br/><br/><br/>* æ–°å»º http æ–‡ä»¶ï¼Œç¼–å†™ http æµ‹è¯•è„šæœ¬ï¼Œæ‰§è¡Œ<br/><br/>![image-20210415002803589](https://gitee.com/faro/images/raw/master/img/20210415002803.png)<br/><br/>```http<br/>GET http://localhost:8880/test/list<br/>Accept: application/json<br/><br/>###<br/>```<br/><br/><br/><br/>æœ€åæˆåŠŸä»æ¥å£ä¸­è·å–æ•°æ®åº“ä¸­çš„æ•°æ®ï¼Œè¯´æ˜æˆ‘ä»¬ä¹‹å‰é…ç½®çš„éƒ½æ²¡æœ‰é”™è¯¯ï¼Œå¯ä»¥è¿›è¡Œä¸‹é¢çš„æ“ä½œ<br/><br/>![image-20210415003021769](https://gitee.com/faro/images/raw/master/img/20210415003021.png)<br/><br/><br/><br/>### 6. MyBatis ä»£ç ç”Ÿæˆå™¨<br/><br/>æˆ‘ä»¬ä¸å¯èƒ½å»å†™æ‰€æœ‰æŒä¹…å±‚çš„å®ç°ï¼Œä¸šåŠ¡ä¸­ï¼Œè¿™éƒ¨åˆ†éƒ½æ˜¯è‡ªåŠ¨ç”Ÿæˆçš„<br/><br/><br/><br/>* å¯¼å…¥ Maven ä¾èµ–<br/><br/>æ³¨æ„ï¼Œ==æ˜¯æ”¾åœ¨`plugiuns`ä¸‹é¢çš„==<br/><br/>```xml<br/>&lt;!-- mybatis generator è‡ªåŠ¨ç”Ÿæˆä»£ç æ’ä»¶ --&gt;<br/>            &lt;plugin&gt;<br/>                &lt;groupId&gt;org.mybatis.generator&lt;/groupId&gt;<br/>                &lt;artifactId&gt;mybatis-generator-maven-plugin&lt;/artifactId&gt;<br/>                &lt;version&gt;1.4.0&lt;/version&gt;<br/>                &lt;configuration&gt;<br/>                    &lt;configurationFile&gt;src/main/resources/generator/generator-config.xml&lt;/configurationFile&gt;<br/>                    &lt;overwrite&gt;true&lt;/overwrite&gt;<br/>                    &lt;verbose&gt;true&lt;/verbose&gt;<br/>                &lt;/configuration&gt;<br/>                &lt;dependencies&gt;<br/>                    &lt;dependency&gt;<br/>                        &lt;groupId&gt;mysql&lt;/groupId&gt;<br/>                        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;<br/>                        &lt;version&gt;8.0.22&lt;/version&gt;<br/>                    &lt;/dependency&gt;<br/>                &lt;/dependencies&gt;<br/>            &lt;/plugin&gt;<br/>```<br/><br/><br/><br/>* å»ºç«‹ä»£ç”Ÿæˆå™¨ä½ç½®<br/><br/>pomæ–‡ä»¶ä¸­ï¼Œæ˜¾ç¤ºäº†è¦åˆ›å»ºçš„ä»£ç ç”Ÿæˆå™¨çš„ä½ç½®`src/main/resources/generator/generator-config.xml`<br/><br/>```xml<br/>&lt;configurationFile&gt;<br/>  src/main/resources/generator/generator-config.xml<br/>&lt;/configurationFile&gt;<br/>```<br/><br/>![image-20210323131202189](https://gitee.com/faro/images/raw/master/img/20210323131202.png)<br/><br/><br/><br/>* ä»£ç ç”Ÿæˆå™¨ä»£ç <br/><br/>ä»`jdbcConnection`å¼€å§‹ï¼Œåˆ«å¿˜äº†==æ ¹æ®é¡¹ç›®è¿›è¡Œä¿®æ”¹==<br/><br/>```xml<br/>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;<br/>&lt;!DOCTYPE generatorConfiguration<br/>        PUBLIC \"-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN\"<br/>        \"http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd\"&gt;<br/><br/>&lt;generatorConfiguration&gt;<br/>    &lt;context id=\"Mysql\" targetRuntime=\"MyBatis3\" defaultModelType=\"flat\"&gt;<br/><br/>        &lt;!-- è‡ªåŠ¨æ£€æŸ¥å…³é”®å­—ï¼Œä¸ºå…³é”®å­—å¢åŠ åå¼•å· --&gt;<br/>        &lt;property name=\"autoDelimitKeywords\" value=\"true\"/&gt;<br/>        &lt;property name=\"beginningDelimiter\" value=\"`\"/&gt;<br/>        &lt;property name=\"endingDelimiter\" value=\"`\"/&gt;<br/><br/>        &lt;!--è¦†ç›–ç”ŸæˆXMLæ–‡ä»¶--&gt;<br/>        &lt;plugin type=\"org.mybatis.generator.plugins.UnmergeableXmlMappersPlugin\" /&gt;<br/>        &lt;!-- ç”Ÿæˆçš„å®ä½“ç±»æ·»åŠ toString()æ–¹æ³• --&gt;<br/>        &lt;plugin type=\"org.mybatis.generator.plugins.ToStringPlugin\"/&gt;<br/><br/>        &lt;!-- ä¸ç”Ÿæˆæ³¨é‡Š --&gt;<br/>        &lt;commentGenerator&gt;<br/>            &lt;property name=\"suppressAllComments\" value=\"true\"/&gt;<br/>        &lt;/commentGenerator&gt;<br/><br/>        &lt;jdbcConnection driverClass=\"com.mysql.cj.jdbc.Driver\"<br/>                        connectionURL=\"jdbc:mysql://localhost:3306/wiki?useUnicode=true&amp;characterEncoding=utf-8\"<br/>                        userId=\"wiki\"<br/>                        password=\"123456\"&gt;<br/>        &lt;/jdbcConnection&gt;<br/><br/>        &lt;!-- domainç±»çš„ä½ç½® --&gt;<br/>        &lt;javaModelGenerator targetProject=\"src/main/java\"<br/>                            targetPackage=\"top.faroz.pojo\"/&gt;<br/><br/>        &lt;!-- mapper xmlçš„ä½ç½® --&gt;<br/>        &lt;sqlMapGenerator targetProject=\"src/main/resources\"<br/>                         targetPackage=\"mapper\"/&gt;<br/><br/>        &lt;!-- mapperç±»çš„ä½ç½® --&gt;<br/>        &lt;javaClientGenerator targetProject=\"src/main/java\"<br/>                             targetPackage=\"top.faroz.mapper\"<br/>                             type=\"XMLMAPPER\"/&gt;<br/><br/>        &lt;table tableName=\"demo\" domainObjectName=\"Demo\"/&gt;<br/>        &lt;!--&lt;table tableName=\"ebook\"/&gt;--&gt;<br/>        &lt;!--&lt;table tableName=\"category\"/&gt;--&gt;<br/>        &lt;!--&lt;table tableName=\"doc\"/&gt;--&gt;<br/>        &lt;!--&lt;table tableName=\"content\"/&gt;--&gt;<br/>        &lt;!--&lt;table tableName=\"user\"/&gt;--&gt;<br/>        &lt;!--&lt;table tableName=\"ebook_snapshot\"/&gt;--&gt;<br/>    &lt;/context&gt;<br/>&lt;/generatorConfiguration&gt;<br/>```<br/><br/><br/><br/>* æ–°å»ºä¸€ä¸ªmavenå¯åŠ¨é¡¹<br/><br/>![image-20210411015300856](https://gitee.com/faro/images/raw/master/img/20210411015300.png)<br/><br/>![image-20210411015346116](https://gitee.com/faro/images/raw/master/img/20210411015346.png)<br/><br/>```bash<br/>mybatis-generator:generate -e<br/>```<br/><br/>![image-20210411015516818](https://gitee.com/faro/images/raw/master/img/20210411015516.png)<br/><br/><br/><br/>### 7. æµ‹è¯•ä»£ç ç”Ÿæˆå™¨<br/><br/>ä»£ç ç”Ÿæˆå™¨çš„å·¥ä½œåŸç†ï¼Œæ˜¯ä»æ•°æ®åº“ä¸­å–å‡ºè¡¨ä¿¡æ¯ï¼Œç„¶åæ ¹æ®è¡¨ä¿¡æ¯ï¼Œå»æ„é€ æŒä¹…å±‚ä»£ç ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬è¦å†å»å»ºä¸€ä¸ªè¡¨<br/><br/><br/><br/>* all.sql æ·»åŠ  demo è¡¨çš„å¢åŠ  SQL è¯­å¥ï¼Œå¹¶æ‰§è¡Œ<br/><br/>```sql<br/># demoåˆ—è¡¨<br/>drop table if exists `demo`;<br/>create table `demo` (<br/>    `id` bigint not null comment 'id',<br/>    `name` varchar(50) comment 'åç§°',<br/>    primary key (`id`)<br/>) engine=innodb default charset =utf8mb4 comment 'æµ‹è¯•';<br/><br/>insert into `demo` (id,name) values(2,'æµ‹è¯•2');<br/>```<br/><br/><br/><br/>* åœ¨ä»£ç ç”Ÿæˆå™¨æœ€åçš„éƒ¨åˆ†ï¼Œå¡«ä¸Šè¦ç”Ÿæˆçš„è¡¨å<br/><br/>![image-20210415012438872](https://gitee.com/faro/images/raw/master/img/20210415012439.png)<br/><br/><br/><br/>* æ‰§è¡Œ<br/><br/>![image-20210415012552449](https://gitee.com/faro/images/raw/master/img/20210415012552.png)<br/><br/><br/><br/>* æ‰§è¡ŒæˆåŠŸï¼Œä¼šç”Ÿæˆ 4 ä¸ªæ–°æ–‡ä»¶<br/><br/>![image-20210415012630004](https://gitee.com/faro/images/raw/master/img/20210415012630.png)<br/><br/><br/><br/>* æˆ‘ä»¬æ¨¡ä»¿ Testï¼Œå»å†™ Demoçš„ Service å’Œ Controller ä»£ç <br/><br/>```java<br/>@RestController<br/>public class DemoController {<br/><br/>    @Autowired<br/>    private DemoService demoService;<br/><br/>    @RequestMapping(\"/demo/list\")<br/>    public List&lt;Demo&gt; list() {<br/>        return demoService.getList();<br/>    }<br/>}<br/>```<br/><br/>```java<br/>@Service<br/>public class DemoService {<br/><br/>    @Resource<br/>    private DemoMapper demoMapper;<br/><br/>    public List&lt;Demo&gt; getList() {<br/>        List&lt;Demo&gt; list = demoMapper.selectByExample(null);<br/>        return list;<br/>    }<br/>}<br/>```<br/><br/><br/><br/>* æ·»åŠ  demo çš„ http æµ‹è¯•è„šæœ¬<br/><br/>```http<br/>GET http://localhost:8880/demo/list<br/>Accept: application/json<br/><br/>###<br/>```<br/><br/>æµ‹è¯•æˆåŠŸï¼Œè¯´æ˜æˆ‘ä»¬ç”¨ä»£ç ç”Ÿæˆå™¨ç”Ÿæˆçš„ä»£ç æ²¡æœ‰é—®é¢˜<br/><br/>![image-20210415013323695](https://gitee.com/faro/images/raw/master/img/20210415013323.png)<br/><br/><br/><br/>### 8. è§£å†³å‰åç«¯è·¨åŸŸé—®é¢˜<br/><br/>è™½ç„¶ç°åœ¨è¿˜æ²¡æœ‰æ„å»ºå‰ç«¯é¡¹ç›®ï¼Œä½†æ˜¯åé¢ï¼Œä¼šå‡ºç°è·¨åŸŸé—®é¢˜<br/><br/><br/><br/>* æ–°å»º CorsConfig ç±»<br/><br/>![image-20210415013643183](https://gitee.com/faro/images/raw/master/img/20210415013643.png)<br/><br/><br/><br/>* ä»£ç å¦‚ä¸‹<br/><br/>ä¸ç”¨æ”¹åŠ¨ï¼Œç›´æ¥ç”¨ï¼Œåˆ«å¿˜äº†åŠ ä¸Š==@Configuration==æ³¨è§£<br/><br/>```java<br/>@Configuration<br/>public class CorsConfig implements WebMvcConfigurer {<br/><br/>    @Override<br/>    public void addCorsMappings(CorsRegistry registry) {<br/>        registry.addMapping(\"/**\")<br/>                .allowedOriginPatterns(\"*\")<br/>                .allowedHeaders(CorsConfiguration.ALL)<br/>                .allowedMethods(CorsConfiguration.ALL)<br/>                .allowCredentials(true)<br/>                .maxAge(3600); // 1å°æ—¶å†…ä¸éœ€è¦å†é¢„æ£€ï¼ˆå‘OPTIONSè¯·æ±‚ï¼‰<br/>    }<br/>}<br/>```<br/><br/><br/><br/>### 9. æ·»åŠ é›ªèŠ±ç®—æ³•å·¥å…·ç±»<br/><br/>é›ªèŠ±ç®—æ³•ï¼Œç”¨æ¥ç”Ÿæˆå”¯ä¸€ ID<br/><br/><br/><br/>* æ–°å»º SnowFlake å·¥å…·ç±»<br/><br/>![image-20210415014504164](https://gitee.com/faro/images/raw/master/img/20210415014504.png)<br/><br/><br/><br/>* ä»£ç å¦‚ä¸‹<br/><br/>åˆ«å¿˜äº†åŠ ä¸Š @Component æ³¨è§£<br/><br/>```java<br/>@Component<br/>public class SnowFlake {<br/>    /**<br/>     * èµ·å§‹çš„æ—¶é—´æˆ³<br/>     */<br/>    private final static long START_STMP = 1609459200000L; // 2021-01-01 00:00:00<br/><br/>    /**<br/>     * æ¯ä¸€éƒ¨åˆ†å ç”¨çš„ä½æ•°<br/>     */<br/>    private final static long SEQUENCE_BIT = 12; //åºåˆ—å·å ç”¨çš„ä½æ•°<br/>    private final static long MACHINE_BIT = 5;   //æœºå™¨æ ‡è¯†å ç”¨çš„ä½æ•°<br/>    private final static long DATACENTER_BIT = 5;//æ•°æ®ä¸­å¿ƒå ç”¨çš„ä½æ•°<br/><br/>    /**<br/>     * æ¯ä¸€éƒ¨åˆ†çš„æœ€å¤§å€¼<br/>     */<br/>    private final static long MAX_DATACENTER_NUM = -1L ^ (-1L &lt;&lt; DATACENTER_BIT);<br/>    private final static long MAX_MACHINE_NUM = -1L ^ (-1L &lt;&lt; MACHINE_BIT);<br/>    private final static long MAX_SEQUENCE = -1L ^ (-1L &lt;&lt; SEQUENCE_BIT);<br/><br/>    /**<br/>     * æ¯ä¸€éƒ¨åˆ†å‘å·¦çš„ä½ç§»<br/>     */<br/>    private final static long MACHINE_LEFT = SEQUENCE_BIT;<br/>    private final static long DATACENTER_LEFT = SEQUENCE_BIT + MACHINE_BIT;<br/>    private final static long TIMESTMP_LEFT = DATACENTER_LEFT + DATACENTER_BIT;<br/><br/>    private long datacenterId = 1;  //æ•°æ®ä¸­å¿ƒ<br/>    private long machineId = 1;     //æœºå™¨æ ‡è¯†<br/>    private long sequence = 0L; //åºåˆ—å·<br/>    private long lastStmp = -1L;//ä¸Šä¸€æ¬¡æ—¶é—´æˆ³<br/><br/>    public SnowFlake() {<br/>    }<br/><br/>    public SnowFlake(long datacenterId, long machineId) {<br/>        if (datacenterId &gt; MAX_DATACENTER_NUM || datacenterId &lt; 0) {<br/>            throw new IllegalArgumentException(\"datacenterId can't be greater than MAX_DATACENTER_NUM or less than 0\");<br/>        }<br/>        if (machineId &gt; MAX_MACHINE_NUM || machineId &lt; 0) {<br/>            throw new IllegalArgumentException(\"machineId can't be greater than MAX_MACHINE_NUM or less than 0\");<br/>        }<br/>        this.datacenterId = datacenterId;<br/>        this.machineId = machineId;<br/>    }<br/><br/>    /**<br/>     * äº§ç”Ÿä¸‹ä¸€ä¸ªID<br/>     *<br/>     * @return<br/>     */<br/>    public synchronized long nextId() {<br/>        long currStmp = getNewstmp();<br/>        if (currStmp &lt; lastStmp) {<br/>            throw new RuntimeException(\"Clock moved backwards.  Refusing to generate id\");<br/>        }<br/><br/>        if (currStmp == lastStmp) {<br/>            //ç›¸åŒæ¯«ç§’å†…ï¼Œåºåˆ—å·è‡ªå¢<br/>            sequence = (sequence + 1) &amp; MAX_SEQUENCE;<br/>            //åŒä¸€æ¯«ç§’çš„åºåˆ—æ•°å·²ç»è¾¾åˆ°æœ€å¤§<br/>            if (sequence == 0L) {<br/>                currStmp = getNextMill();<br/>            }<br/>        } else {<br/>            //ä¸åŒæ¯«ç§’å†…ï¼Œåºåˆ—å·ç½®ä¸º0<br/>            sequence = 0L;<br/>        }<br/><br/>        lastStmp = currStmp;<br/><br/>        return (currStmp - START_STMP) &lt;&lt; TIMESTMP_LEFT //æ—¶é—´æˆ³éƒ¨åˆ†<br/>                | datacenterId &lt;&lt; DATACENTER_LEFT       //æ•°æ®ä¸­å¿ƒéƒ¨åˆ†<br/>                | machineId &lt;&lt; MACHINE_LEFT             //æœºå™¨æ ‡è¯†éƒ¨åˆ†<br/>                | sequence;                             //åºåˆ—å·éƒ¨åˆ†<br/>    }<br/><br/>    private long getNextMill() {<br/>        long mill = getNewstmp();<br/>        while (mill &lt;= lastStmp) {<br/>            mill = getNewstmp();<br/>        }<br/>        return mill;<br/>    }<br/><br/>    private long getNewstmp() {<br/>        return System.currentTimeMillis();<br/>    }<br/><br/>    // public static void main(String[] args) throws ParseException {<br/>    //     // æ—¶é—´æˆ³<br/>    //     // System.out.println(System.currentTimeMillis());<br/>    //     // System.out.println(new Date().getTime());<br/>    //     //<br/>    //     // String dateTime = \"2021-01-01 08:00:00\";<br/>    //     // SimpleDateFormat sdf = new SimpleDateFormat(\"yyyy-MM-dd hh:mm:ss\");<br/>    //     // System.out.println(sdf.parse(dateTime).getTime());<br/>    //<br/>    //     SnowFlake snowFlake = new SnowFlake(1, 1);<br/>    //<br/>    //     long start = System.currentTimeMillis();<br/>    //     for (int i = 0; i &lt; 10; i++) {<br/>    //         System.out.println(snowFlake.nextId());<br/>    //         System.out.println(System.currentTimeMillis() - start);<br/>    //     }<br/>    // }<br/><br/>}<br/>```<br/><br/><br/><br/><br/><br/>### 10. æ·»åŠ  AOP<br/><br/>AOP ç”¨æ¥æ‰“å°æ¥å£æ—¥å¿—ï¼Œæ–¹ä¾¿åæœŸè°ƒè¯•<br/><br/><br/><br/>* Maven ä¸­å¼•å…¥ fastjsonï¼Œå› ä¸º æˆ‘ä»¬çš„ç±»ä¸­è¦ç”¨<br/><br/>```xml<br/> &lt;!--fastjson--&gt;<br/>&lt;dependency&gt;<br/>  &lt;groupId&gt;com.alibaba&lt;/groupId&gt;<br/>  &lt;artifactId&gt;fastjson&lt;/artifactId&gt;<br/>  &lt;version&gt;1.2.70&lt;/version&gt;<br/>&lt;/dependency&gt;<br/>```<br/><br/><br/><br/>* Maven å¼•å…¥ AOP<br/><br/>```xml<br/>&lt;!--å¯¼å…¥aop--&gt;<br/>&lt;dependency&gt;<br/>  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;<br/>  &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;<br/>&lt;/dependency&gt;<br/>```<br/><br/><br/><br/>* æ·»åŠ  RequestContext å·¥å…·ç±»<br/><br/>è¿™ä¸ªæ˜¯åæœŸä¸ºäº†æ‰“å° WebSocket æ—¥å¿—çš„<br/><br/>![image-20210415014912415](https://gitee.com/faro/images/raw/master/img/20210415014912.png)<br/><br/>```java<br/>public class RequestContext implements Serializable {<br/>    private static ThreadLocal&lt;String&gt; remoteAddr = new ThreadLocal&lt;&gt;();<br/><br/>    public static String getRemoteAddr() {<br/>        return remoteAddr.get();<br/>    }<br/><br/>    public static void setRemoteAddr(String remoteAddr) {<br/>        weixindemo.util.RequestContext.remoteAddr.set(remoteAddr);<br/>    }<br/>}<br/>```<br/><br/><br/><br/>* æ–°å»º aspect åŒ…ï¼Œå¹¶æ–°å»º LogAspect ç±»<br/><br/>![image-20210415013942484](https://gitee.com/faro/images/raw/master/img/20210415013942.png)<br/><br/><br/><br/>**LogAspect ä»£ç å¦‚ä¸‹:**<br/><br/>åˆ‡ç‚¹çš„ä»£ç ï¼Œæˆ‘ä»¬è¦ä¾æ®é¡¹ç›®ä¿®æ”¹<br/><br/>![image-20210415015319943](https://gitee.com/faro/images/raw/master/img/20210415015320.png)<br/><br/>```java<br/>@Aspect<br/>@Component<br/>public class LogAspect {<br/>    private final static Logger LOG = LoggerFactory.getLogger(weixindemo.aspect.LogAspect.class);<br/><br/>    @Resource<br/>    private SnowFlake snowFlake;<br/><br/>    /** å®šä¹‰ä¸€ä¸ªåˆ‡ç‚¹ */<br/>    @Pointcut(\"execution(public * weixindemo.controller..*Controller.*(..))\")<br/>    public void controllerPointcut() {}<br/><br/>    // @Resource<br/>    // private SnowFlake snowFlake;<br/><br/>    @Before(\"controllerPointcut()\")<br/>    public void doBefore(JoinPoint joinPoint) throws Throwable {<br/><br/>        // å¢åŠ æ—¥å¿—æµæ°´å·<br/>        MDC.put(\"LOG_ID\", String.valueOf(snowFlake.nextId()));<br/><br/>        // å¼€å§‹æ‰“å°è¯·æ±‚æ—¥å¿—<br/>        ServletRequestAttributes attributes = (ServletRequestAttributes) RequestContextHolder.getRequestAttributes();<br/>        HttpServletRequest request = attributes.getRequest();<br/>        Signature signature = joinPoint.getSignature();<br/>        String name = signature.getName();<br/><br/>        // æ‰“å°è¯·æ±‚ä¿¡æ¯<br/>        LOG.info(\"------------- å¼€å§‹ -------------\");<br/>        LOG.info(\"è¯·æ±‚åœ°å€: {} {}\", request.getRequestURL().toString(), request.getMethod());<br/>        LOG.info(\"ç±»åæ–¹æ³•: {}.{}\", signature.getDeclaringTypeName(), name);<br/>        LOG.info(\"è¿œç¨‹åœ°å€: {}\", request.getRemoteAddr());<br/><br/>        RequestContext.setRemoteAddr(getRemoteIp(request));<br/><br/>        // æ‹¿åˆ°æ‰€æœ‰çš„å‚æ•°<br/>        Object[] args = joinPoint.getArgs();<br/>        // LOG.info(\"è¯·æ±‚å‚æ•°: {}\", JSONObject.toJSONString(args));<br/><br/>        Object[] arguments  = new Object[args.length];<br/>        for (int i = 0; i &lt; args.length; i++) {<br/>            if (args[i] instanceof ServletRequest<br/>                    || args[i] instanceof ServletResponse<br/>                    || args[i] instanceof MultipartFile) {<br/>                continue;<br/>            }<br/>            arguments[i] = args[i];<br/>        }<br/>        // æ’é™¤å­—æ®µï¼Œæ•æ„Ÿå­—æ®µæˆ–å¤ªé•¿çš„å­—æ®µä¸æ˜¾ç¤º<br/>        String[] excludeProperties = {\"password\", \"file\"};<br/>        PropertyPreFilters filters = new PropertyPreFilters();<br/>        PropertyPreFilters.MySimplePropertyPreFilter excludefilter = filters.addFilter();<br/>        excludefilter.addExcludes(excludeProperties);<br/>        LOG.info(\"è¯·æ±‚å‚æ•°: {}\", JSONObject.toJSONString(arguments, excludefilter));<br/>    }<br/><br/>    @Around(\"controllerPointcut()\")<br/>    public Object doAround(ProceedingJoinPoint proceedingJoinPoint) throws Throwable {<br/>        long startTime = System.currentTimeMillis();<br/>        Object result = proceedingJoinPoint.proceed();<br/>        // æ’é™¤å­—æ®µï¼Œæ•æ„Ÿå­—æ®µæˆ–å¤ªé•¿çš„å­—æ®µä¸æ˜¾ç¤º<br/>        String[] excludeProperties = {\"password\", \"file\"};<br/>        PropertyPreFilters filters = new PropertyPreFilters();<br/>        PropertyPreFilters.MySimplePropertyPreFilter excludefilter = filters.addFilter();<br/>        excludefilter.addExcludes(excludeProperties);<br/>        LOG.info(\"è¿”å›ç»“æœ: {}\", JSONObject.toJSONString(result, excludefilter));<br/>        LOG.info(\"------------- ç»“æŸ è€—æ—¶ï¼š{} ms -------------\", System.currentTimeMillis() - startTime);<br/>        return result;<br/>    }<br/><br/>    /**<br/>     * ä½¿ç”¨nginxåšåå‘ä»£ç†ï¼Œéœ€è¦ç”¨è¯¥æ–¹æ³•æ‰èƒ½å–åˆ°çœŸå®çš„è¿œç¨‹IP<br/>     * å½“æˆ‘ä»¬å‘å¸ƒä¸Šçº¿åï¼Œå› ä¸ºå‰ç«¯ã€åç«¯éƒ½æ˜¯ç”¨80ç«¯å£ï¼Œä¼šå†²çª<br/>     * æ‰€ä»¥ç”¨æˆ·è®¿é—®çš„æ—¶å€™ï¼Œéœ€è¦å…ˆå»è®¿é—® nginxï¼Œç„¶åï¼Œè®© nginx å»åå‘ä»£ç†ï¼Œæ‰¾æˆ‘ä»¬è¦è®¿é—®çš„è·¯å¾„<br/>     * @param request<br/>     * @return<br/>     */<br/>    public String getRemoteIp(HttpServletRequest request) {<br/>        String ip = request.getHeader(\"x-forwarded-for\");<br/>        if (ip == null || ip.length() == 0 || \"unknown\".equalsIgnoreCase(ip)) {<br/>            ip = request.getHeader(\"Proxy-Client-IP\");<br/>        }<br/>        if (ip == null || ip.length() == 0 || \"unknown\".equalsIgnoreCase(ip)) {<br/>            ip = request.getHeader(\"WL-Proxy-Client-IP\");<br/>        }<br/>        if (ip == null || ip.length() == 0 || \"unknown\".equalsIgnoreCase(ip)) {<br/>            ip = request.getRemoteAddr();<br/>        }<br/>        return ip;<br/>    }<br/>}<br/>```<br/><br/><br/><br/>### 11. è§£å†³å‰åç«¯ Long ç²¾åº¦ä¸¢å¤±é—®é¢˜<br/><br/>æˆ‘ä»¬åæœŸä¼šç”¨åˆ° MD5 åŠ å¯†ï¼Œåˆ°æ—¶å€™åç«¯ä¼ åˆ°å‰ç«¯çš„æ—¶å€™ï¼Œå› ä¸º javascript number çš„ç²¾åº¦é—®é¢˜ï¼Œä¼šå‡ºç°æ•°æ®ä¸¢å¤±<br/><br/><br/><br/>* é…ç½®æ–‡ä»¶æ–°å¢ JacksonConfig ç±»<br/><br/>![image-20210415020223600](https://gitee.com/faro/images/raw/master/img/20210415020223.png)<br/><br/><br/><br/>* ä»£ç å¦‚ä¸‹<br/><br/>```java<br/>@Configuration<br/>public class JacksonConfig {<br/><br/>    @Bean<br/>    public ObjectMapper jacksonObjectMapper(Jackson2ObjectMapperBuilder builder) {<br/>        ObjectMapper objectMapper = builder.createXmlMapper(false).build();<br/>        SimpleModule simpleModule = new SimpleModule();<br/>        // simpleModule.addSerializer(Long.class, ToStringSerializer.instance);<br/>        simpleModule.addSerializer(Long.class, ToStringSerializer.instance);<br/>        objectMapper.registerModule(simpleModule);<br/>        return objectMapper;<br/>    }<br/>}<br/>```<br/><br/><br/><br/>### 12. æ–°å»º req resp åŒ…<br/><br/>æˆ‘ä»¬è¦å°†è¯·æ±‚ä¸è¿”å›åŒ…è£…<br/><br/>![image-20210415020648707](https://gitee.com/faro/images/raw/master/img/20210415020648.png)<br/><br/><br/><br/>### 13. CommonResp<br/><br/>ä¸ºäº†æ–¹ä¾¿å‰ç«¯è°ƒç”¨ï¼Œåç«¯çš„ respï¼Œæˆ‘ä»¬å†™ä¸€ä¸ªç»Ÿä¸€çš„è¿”å› CommonResp<br/><br/>![image-20210415020805724](https://gitee.com/faro/images/raw/master/img/20210415020805.png)<br/><br/>**ä»£ç å¦‚ä¸‹ï¼š**<br/><br/>```java<br/>@Data<br/>@AllArgsConstructor<br/>@NoArgsConstructor<br/>public class CommonResp&lt;T&gt; {<br/>    /**<br/>     * è¿”å›æ˜¯å¦æˆåŠŸ<br/>     */<br/>    private boolean isSuccess=true;<br/><br/>    /**<br/>     * è¿”å›å¤±è´¥æ—¶ï¼Œè¿”å›çš„é”™è¯¯ä¿¡æ¯<br/>     */<br/>    private String message;<br/><br/>    /**<br/>     * è¿”å›æˆåŠŸçš„æ—¶å€™ï¼Œè¿”å›çš„å†…å®¹<br/>     */<br/>    private T content;<br/>}<br/>```<br/><br/><br/><br/>### 14. è‡ªå®šä¹‰å¼‚å¸¸<br/><br/>* æ–°å»ºå¼‚å¸¸ç±»`BusinessException`å’Œå¼‚å¸¸ä¿¡æ¯æšä¸¾`BusinessExceptionCode`<br/><br/>![image-20210415021357196](https://gitee.com/faro/images/raw/master/img/20210415021357.png)<br/><br/><br/><br/>* `BusinessException`ä»£ç <br/><br/>```java<br/>public class BusinessException extends RuntimeException{<br/>    private BusinessExceptionCode code;<br/><br/>    public BusinessException (BusinessExceptionCode code) {<br/>        /**<br/>         * çˆ¶ç±»æœ‰ä¸ªæˆå‘˜å˜é‡  private String desc<br/>         * éœ€è¦ä¸ºè¿™ä¸ªæˆå‘˜å˜é‡èµ‹å€¼<br/>         */<br/>        super(code.getDesc());<br/>        this.code = code;<br/>    }<br/><br/>    public BusinessExceptionCode getCode() {<br/>        return code;<br/>    }<br/><br/>    public void setCode(BusinessExceptionCode code) {<br/>        this.code = code;<br/>    }<br/><br/>    /**<br/>     * ä¸å†™å…¥å †æ ˆä¿¡æ¯ï¼Œæé«˜æ€§èƒ½<br/>     */<br/>    @Override<br/>    public Throwable fillInStackTrace() {<br/>        return this;<br/>    }<br/>}<br/>```<br/><br/><br/><br/>* `BusinessExceptionCode`ä»£ç <br/><br/>```java<br/>public enum BusinessExceptionCode {<br/>    USER_LOGIN_NAME_EXIST(\"ç™»å½•åå·²å­˜åœ¨\"),<br/>    LOGIN_USER_ERROR(\"ç”¨æˆ·åä¸å­˜åœ¨æˆ–å¯†ç é”™è¯¯\"),<br/>    VOTE_REPEAT(\"æ‚¨å·²ç‚¹èµè¿‡\"),<br/>    ;<br/><br/>    private String desc;<br/><br/>    BusinessExceptionCode(String desc) {<br/>        this.desc = desc;<br/>    }<br/><br/>    public String getDesc() {<br/>        return desc;<br/>    }<br/><br/>    public void setDesc(String desc) {<br/>        this.desc = desc;<br/>    }<br/>}<br/>```<br/><br/><br/><br/><br/><br/>### 13. ç»Ÿä¸€å¼‚å¸¸å¤„ç†<br/><br/>æˆ‘ä»¬æ‰€æœ‰å¼‚å¸¸ï¼Œéƒ½é€šè¿‡è¿™ä¸ªç±»æ¥æ•è·ï¼Œå¹¶ç”Ÿæˆä¸€ä¸ªè¿”å›é”™è¯¯ä¿¡æ¯çš„ CommonResp<br/><br/><br/><br/>* æ–°å»º ControllerExceptionHandler ç±»<br/><br/>![](https://gitee.com/faro/images/raw/master/img/20210415020947.png)<br/><br/><br/><br/>* ä»£ç å¦‚ä¸‹<br/><br/>logger è¦æ ¹æ®é¡¹ç›®æ”¹ä¸€ä¸‹<br/><br/>```java<br/>/**<br/> * ç»Ÿä¸€å¼‚å¸¸å¤„ç†ã€æ•°æ®é¢„å¤„ç†ç­‰<br/> * è¯¥ç±»ç”¨äºæ•è·ç³»ç»Ÿå¼¹å‡ºçš„å¼‚å¸¸<br/> * å°†å¼‚å¸¸åŒ…è£…æˆä¸€ä¸ª CommonResp<br/> * ä»è€Œæ–¹ä¾¿å‰ç«¯è°ƒç”¨ï¼Œæ˜¾ç¤ºé”™è¯¯ä¿¡æ¯<br/> */<br/>@ControllerAdvice<br/>public class ControllerExceptionHandler {<br/>    private static final Logger LOG = LoggerFactory.getLogger(top.faroz.controller.ControllerExceptionHandler.class);<br/><br/>    /**<br/>     * æ ¡éªŒå¼‚å¸¸ç»Ÿä¸€å¤„ç†<br/>     * @param e<br/>     * @return<br/>     */<br/>    @ExceptionHandler(value = BindException.class)<br/>    @ResponseBody<br/>    public CommonResp validExceptionHandler(BindException e) {<br/>        CommonResp commonResp = new CommonResp();<br/>        LOG.warn(\"å‚æ•°æ ¡éªŒå¤±è´¥ï¼š{}\", e.getBindingResult().getAllErrors().get(0).getDefaultMessage());<br/>        commonResp.setSuccess(false);<br/>        commonResp.setMessage(e.getBindingResult().getAllErrors().get(0).getDefaultMessage());<br/>        return commonResp;<br/>    }<br/><br/>    /**<br/>     * æ ¡éªŒå¼‚å¸¸ç»Ÿä¸€å¤„ç†<br/>     * @param e<br/>     * @return<br/>     */<br/>    @ExceptionHandler(value = BusinessException.class)<br/>    @ResponseBody<br/>    public CommonResp validExceptionHandler(BusinessException e) {<br/>        CommonResp commonResp = new CommonResp();<br/>        LOG.warn(\"ä¸šåŠ¡å¼‚å¸¸ï¼š{}\", e.getCode().getDesc());<br/>        commonResp.setSuccess(false);<br/>        commonResp.setMessage(e.getCode().getDesc());<br/>        return commonResp;<br/>    }<br/><br/>    /**<br/>     * æ ¡éªŒå¼‚å¸¸ç»Ÿä¸€å¤„ç†<br/>     * @param e<br/>     * @return<br/>     */<br/>    @ExceptionHandler(value = Exception.class)<br/>    @ResponseBody<br/>    public CommonResp validExceptionHandler(Exception e) {<br/>        CommonResp commonResp = new CommonResp();<br/>        LOG.error(\"ç³»ç»Ÿå¼‚å¸¸ï¼š\", e);<br/>        commonResp.setSuccess(false);<br/>        commonResp.setMessage(\"ç³»ç»Ÿå‡ºç°å¼‚å¸¸ï¼Œè¯·è”ç³»ç®¡ç†å‘˜\");<br/>        return commonResp;<br/>    }<br/>}<br/>```<br/><br/><br/><br/>### 14. æ·»åŠ æ—¥å¿—è®°å½• logback<br/><br/>* åœ¨ resource ä¸‹ï¼Œæ–°å»ºlogback-spring.xml æ–‡ä»¶<br/><br/>![image-20210411004947139](https://gitee.com/faro/images/raw/master/img/20210411004947.png)<br/><br/>* å†™å…¥å†…å®¹<br/><br/>```xml<br/>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;<br/>&lt;configuration&gt;<br/>    &lt;!-- ä¿®æ”¹ä¸€ä¸‹è·¯å¾„--&gt;<br/>    &lt;property name=\"PATH\" value=\"./log\"&gt;&lt;/property&gt;<br/><br/>    &lt;appender name=\"STDOUT\" class=\"ch.qos.logback.core.ConsoleAppender\"&gt;<br/>        &lt;encoder&gt;<br/>            &lt;Pattern&gt;%d{yyyy-MM-dd HH:mm:ss.SSS} %highlight(%-5level) %blue(%-50logger{50}:%-4line) %thread %msg%n&lt;/Pattern&gt;<br/>            &lt;!--&lt;Pattern&gt;%d{ss.SSS} %highlight(%-5level) %blue(%-30logger{30}:%-4line) %thread %green(%-18X{LOG_ID}) %msg%n&lt;/Pattern&gt;--&gt;<br/>        &lt;/encoder&gt;<br/>    &lt;/appender&gt;<br/><br/>    &lt;appender name=\"TRACE_FILE\" class=\"ch.qos.logback.core.rolling.RollingFileAppender\"&gt;<br/>        &lt;file&gt;${PATH}/trace.log&lt;/file&gt;<br/>        &lt;rollingPolicy class=\"ch.qos.logback.core.rolling.TimeBasedRollingPolicy\"&gt;<br/>            &lt;FileNamePattern&gt;${PATH}/trace.%d{yyyy-MM-dd}.%i.log&lt;/FileNamePattern&gt;<br/>            &lt;timeBasedFileNamingAndTriggeringPolicy class=\"ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP\"&gt;<br/>                &lt;maxFileSize&gt;10MB&lt;/maxFileSize&gt;<br/>            &lt;/timeBasedFileNamingAndTriggeringPolicy&gt;<br/>        &lt;/rollingPolicy&gt;<br/>        &lt;layout&gt;<br/>            &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss.SSS} %-5level %-50logger{50}:%-4line %green(%-18X{LOG_ID}) %msg%n&lt;/pattern&gt;<br/>        &lt;/layout&gt;<br/>    &lt;/appender&gt;<br/><br/>    &lt;appender name=\"ERROR_FILE\" class=\"ch.qos.logback.core.rolling.RollingFileAppender\"&gt;<br/>        &lt;file&gt;${PATH}/error.log&lt;/file&gt;<br/>        &lt;rollingPolicy class=\"ch.qos.logback.core.rolling.TimeBasedRollingPolicy\"&gt;<br/>            &lt;FileNamePattern&gt;${PATH}/error.%d{yyyy-MM-dd}.%i.log&lt;/FileNamePattern&gt;<br/>            &lt;timeBasedFileNamingAndTriggeringPolicy class=\"ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP\"&gt;<br/>                &lt;maxFileSize&gt;10MB&lt;/maxFileSize&gt;<br/>            &lt;/timeBasedFileNamingAndTriggeringPolicy&gt;<br/>        &lt;/rollingPolicy&gt;<br/>        &lt;layout&gt;<br/>            &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss.SSS} %-5level %-50logger{50}:%-4line %green(%-18X{LOG_ID}) %msg%n&lt;/pattern&gt;<br/>        &lt;/layout&gt;<br/>        &lt;filter class=\"ch.qos.logback.classic.filter.LevelFilter\"&gt;<br/>            &lt;level&gt;ERROR&lt;/level&gt;<br/>            &lt;onMatch&gt;ACCEPT&lt;/onMatch&gt;<br/>            &lt;onMismatch&gt;DENY&lt;/onMismatch&gt;<br/>        &lt;/filter&gt;<br/>    &lt;/appender&gt;<br/><br/>    &lt;root level=\"ERROR\"&gt;<br/>        &lt;appender-ref ref=\"ERROR_FILE\" /&gt;<br/>    &lt;/root&gt;<br/><br/>    &lt;root level=\"TRACE\"&gt;<br/>        &lt;appender-ref ref=\"TRACE_FILE\" /&gt;<br/>    &lt;/root&gt;<br/><br/>    &lt;root level=\"INFO\"&gt;<br/>        &lt;appender-ref ref=\"STDOUT\" /&gt;<br/>    &lt;/root&gt;<br/>&lt;/configuration&gt;<br/><br/>```<br/><br/><br/><br/>### 15. è‡ªå®šä¹‰ banner<br/><br/>resources ä¸‹æ–°å»º banner.txt<br/><br/>![image-20210415023847796](https://gitee.com/faro/images/raw/master/img/20210415023847.png)<br/><br/><br/><br/>é‡Œé¢æ”¾ä¸Šè‡ªå®šä¹‰ banner<br/><br/>```txt<br/> ********     **     *******     *******         ********<br/>/**/////     ****   /**////**   **/////**       //////** <br/>/**         **//**  /**   /**  **     //**           **  <br/>/*******   **  //** /*******  /**      /**          **   <br/>/**////   **********/**///**  /**      /**         **    <br/>/**      /**//////**/**  //** //**     **         **     <br/>/**      /**     /**/**   //** //*******   ***** ********<br/>//       //      // //     //   ///////   ///// //////// <br/>```<br/><br/><br/><br/><br/></p>","success":true}
2021-04-16 00:58:24.271 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š13 ms -------------
2021-04-16 00:58:35.293 INFO  io.lettuce.core.protocol.ConnectionWatchdog       :171  [32m                  [0;39m Reconnecting, last destination was r-uf6ljbcdaxobsifyctpd.redis.rds.aliyuncs.com/47.103.172.100:6379
2021-04-16 00:58:35.436 INFO  io.lettuce.core.protocol.ReconnectionHandler      :164  [32m                  [0;39m Reconnected to r-uf6ljbcdaxobsifyctpd.redis.rds.aliyuncs.com:6379
2021-04-16 00:59:19.238 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:59:19.238 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:59:19.241 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find/1 GET
2021-04-16 00:59:19.240 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2021-04-16 00:59:19.242 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.find
2021-04-16 00:59:19.244 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.findContent
2021-04-16 00:59:19.245 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:59:19.244 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:59:19.245 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [1]
2021-04-16 00:59:19.245 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [1]
2021-04-16 00:59:19.249 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},"success":true}
2021-04-16 00:59:19.249 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š11 ms -------------
2021-04-16 00:59:19.253 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":"<p><br/># å®Œæ•´é¡¹ç›®æ­å»ºæµç¨‹<br/><br/>è™½è¯´ SpringBoot ç›¸è¾ƒäº SSM æ¡†æ¶ï¼Œå¤§å¤§å‡è½»äº†é…ç½®çš„ç¹çï¼Œä½†æ˜¯ï¼Œè¦æ•´åˆ MyBatis ï¼Œç»Ÿä¸€å¼‚å¸¸å¤„ç†ï¼ŒVueç­‰ä¸€ç³»åˆ—ä¸œè¥¿ï¼Œè¿˜æ˜¯è¦è´¹ä¸€ç•ªåŠ²çš„ã€‚<br/><br/>è¿™æ¬¡å°†åˆ›å»ºçš„æ•´ä¸ªæµç¨‹è®°å½•ä¸‹æ¥ï¼Œæ–¹ä¾¿ä»¥åçš„é¡¹ç›®æ­å»ºã€‚<br/><br/>è¦æ­å»ºä¸€ä¸ªå®Œæˆçš„å‰åç«¯åˆ†ç¦»é¡¹ç›®ï¼Œåˆ†ä¸ºè¿™ä¹ˆå‡ ä¸ªéƒ¨åˆ†ï¼š==æ•°æ®åº“ã€åç«¯ã€å‰ç«¯==<br/><br/>å¦‚æœæ˜¯ä¸ºå¾®ä¿¡å°ç¨‹åºæ­å»ºä¸€ä¸ªåç«¯æœåŠ¡ï¼Œé‚£å°±åªè¦çœ‹åˆ°==æ•°æ®åº“ã€åç«¯==å°±å¯ä»¥äº†<br/><br/><br/><br/>## æ•°æ®åº“<br/><br/>ä¸€èˆ¬åœ¨æ–°å»ºé¡¹ç›®çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¼šé€‰æ‹©ä¸“é—¨ä¸ºè¿™ä¸ªé¡¹ç›®æ–°å»ºä¸€ä¸ªç”¨æˆ·ï¼Œå¹¶ä¸ºè¿™ä¸ªç”¨æˆ·ï¼Œèµ‹äºˆåªå±äºè¿™ä¸€ä¸ªé¡¹ç›®çš„æ‰€æœ‰æƒé™<br/><br/><br/><br/>### 1. **è¿æ¥ admin**<br/><br/>åªæœ‰ admin æœ‰æ‰€æœ‰æƒé™<br/><br/>æˆ‘çš„æ•°æ®åº“ admin çš„è´¦æˆ·åå’Œå¯†ç æ˜¯ï¼š<br/><br/>**è´¦æˆ·ï¼š**admin<br/><br/>**å¯†ç ï¼š**123<br/><br/>![image-20210411002100312](https://gitee.com/faro/images/raw/master/img/20210411003334.png)<br/><br/><br/><br/>### 2. **æ–°å»ºæ•°æ®åº“**<br/><br/>å…¶å­—ç¬¦ç±»å‹ä¸€å®šè¦é€‰æ‹©==utf8mb4==ï¼Œè¿™æ‰æ˜¯çœŸæ­£çš„ utf8ï¼Œæ”¯æŒè¡¨æƒ…ç¬¦å·<br/><br/>![image-20210411002304858](https://gitee.com/faro/images/raw/master/img/20210411002304.png)<br/><br/>### 3. **ä¸ºè¿™ä¸ªæ•°æ®åº“ï¼Œä¸“é—¨å»ºä¸€ä¸ªç”¨æˆ·**<br/><br/>å¼€å‘ç¯å¢ƒä¸­ï¼Œå°±å°†å¯†ç å’Œç”¨æˆ·åè®¾ç½®æˆä¸€æ ·çš„ï¼Œè¿™æ ·ä¸ä¼šå¿˜è®°<br/><br/>host è®¾ç½®ä¸º localhost<br/><br/>![image-20210411002742750](https://gitee.com/faro/images/raw/master/img/20210411002742.png)<br/><br/><br/><br/>### 4. **ä¸ºè¿™ä¸ªç”¨æˆ·ï¼Œæˆäºˆå¯¹åº”æ•°æ®åº“çš„å…¨éƒ¨æƒé™**<br/><br/>![image-20210411003034426](https://gitee.com/faro/images/raw/master/img/20210411003034.png)<br/><br/>![image-20210411002821790](https://gitee.com/faro/images/raw/master/img/20210414201958.png)<br/><br/>### 5. **å¯¹å½“å‰ç”¨æˆ·ï¼Œå»ºç«‹è¿æ¥**<br/><br/>![image-20210411002945727](https://gitee.com/faro/images/raw/master/img/20210411002945.png)<br/><br/><br/><br/><br/><br/>## åç«¯<br/><br/>å…³äº Mavenã€tomcat çš„ä¸‹è½½é…ç½®ï¼Œè¿™é‡Œå°±ä¸è´¹ç¬”å¢¨å»è®²è§£äº†ã€‚å¦‚æœ‰éœ€è¦ï¼Œå¯ä»¥è‡ªè¡Œç™¾åº¦æŸ¥æ‰¾ã€‚<br/><br/>### 1. æ–°å»º SpringBoot é¡¹ç›®<br/><br/>* ç‚¹å‡» `SpringInitiallizr`ï¼Œæ–°å»ºé¡¹ç›®<br/><br/>![image-20210414200239335](https://gitee.com/faro/images/raw/master/img/20210414200239.png)<br/><br/>* é€‰æ‹©é»˜è®¤ä¾èµ–çš„åŒ…<br/><br/>![image-20210414200420395](https://gitee.com/faro/images/raw/master/img/20210414200420.png)<br/><br/>![image-20210414200533694](https://gitee.com/faro/images/raw/master/img/20210414200533.png)<br/><br/>![image-20210414200611051](https://gitee.com/faro/images/raw/master/img/20210414200611.png)<br/><br/>* é€‰æ‹©å­˜æ”¾è·¯å¾„<br/><br/>![image-20210414200656633](https://gitee.com/faro/images/raw/master/img/20210414200656.png)<br/><br/>* æ–°å»ºå®Œæˆåï¼Œé¡¹ç›®ç›®å½•å¦‚ä¸‹<br/><br/>![image-20210414200752152](https://gitee.com/faro/images/raw/master/img/20210414200752.png)<br/><br/><br/><br/>### 2. æ›´æ”¹å¯åŠ¨ç±»ä½ç½®<br/><br/>* æ–°å»º config åŒ…ï¼Œå°†å¯åŠ¨ç±»æ”¾è¿›å»<br/><br/>![image-20210414201018806](https://gitee.com/faro/images/raw/master/img/20210414201018.png)<br/><br/><br/><br/>* ä¸ºå¯åŠ¨ç±»æ·»åŠ æ³¨è§£<br/><br/>æ³¨è§£å†…çš„ä¿¡æ¯ï¼Œæ˜¯é¡¹ç›®åç§°<br/><br/>```java<br/>@ComponentScan(\"weixindemo\")<br/>```<br/><br/>![image-20210414201210978](https://gitee.com/faro/images/raw/master/img/20210414201211.png)<br/><br/><br/><br/>### 3. IDEA æ•°æ®åº“é…ç½®<br/><br/>* IDEA è¿æ¥æ•°æ®åº“<br/><br/>![image-20210414220153821](https://gitee.com/faro/images/raw/master/img/20210414220153.png)<br/><br/>![image-20210414221502868](https://gitee.com/faro/images/raw/master/img/20210414221502.png)<br/><br/><br/><br/>* æ·»åŠ  sql è„šæœ¬<br/><br/>æ–°å»º sql æ–‡ä»¶å¤¹ï¼Œå»ºç«‹`all.sql`æ–‡ä»¶<br/><br/>![image-20210414221647283](https://gitee.com/faro/images/raw/master/img/20210414221647.png)<br/><br/><br/><br/>æˆ‘ä»¬åœ¨ sql è„šæœ¬ä¸­æ·»åŠ æµ‹è¯•ç”¨æ•°æ®ï¼Œå¹¶æ‰§è¡Œ<br/><br/>```sql<br/><br/># æµ‹è¯•è¡¨<br/>drop table if exists `test`;<br/>create table `test` (<br/>  `id` bigint not null comment 'id',<br/>  `name` varchar(50) comment 'åç§°',<br/>  `password` varchar(50) comment 'å¯†ç ',<br/>  primary key (`id`)<br/>) engine=innodb default charset=utf8mb4 comment='æµ‹è¯•';<br/><br/>insert into `test` (id, name, password) values (1, 'æµ‹è¯•', 'password');       <br/>```<br/><br/>å¯ä»¥çœ‹åˆ°ï¼Œæ•°æ®åº“å·²å»ºç«‹<br/><br/>![image-20210415000115932](https://gitee.com/faro/images/raw/master/img/20210415000131.png)<br/><br/><br/><br/>### 4. é…ç½® MyBatis<br/><br/>* åœ¨ `resource`æ–‡ä»¶å¤¹ä¸‹ï¼Œæ–°å»º `mapper`æ–‡ä»¶å¤¹<br/><br/>è¿™æ˜¯ç”¨æ¥å­˜æ”¾ MyBatis çš„å®ç°çš„<br/><br/>![image-20210414201459632](https://gitee.com/faro/images/raw/master/img/20210414201459.png)<br/><br/><br/><br/>* æ–°å»º pojo åŒ…<br/><br/>pojo åŒ…ç”¨æ¥å­˜æ”¾å®ä½“ç±»<br/><br/>![image-20210415000316772](https://gitee.com/faro/images/raw/master/img/20210415000316.png)<br/><br/><br/><br/>* åœ¨é¡¹ç›®ä¸‹ï¼Œæ–°å»º mapper åŒ…ï¼Œç”¨æ¥å­˜æ”¾æ¥å£<br/><br/>![image-20210415000711989](https://gitee.com/faro/images/raw/master/img/20210415000712.png)<br/><br/><br/><br/>* å°†é…ç½®æ–‡ä»¶åç¼€æ”¹ä¸º`.yml`<br/><br/>æˆ‘ä¸ªäººä¹ æƒ¯ä½¿ç”¨`.yml`è¿›è¡Œä½ç½®<br/><br/>![image-20210414201610045](https://gitee.com/faro/images/raw/master/img/20210414201610.png)<br/><br/><br/><br/>* æ·»åŠ  `Mybatis`é…ç½®<br/><br/>è¿™é‡Œï¼Œè¦æ·»åŠ æ•°æ®æºï¼Œå’Œ MyBatis çš„é…ç½®ï¼Œéƒ¨åˆ†åœ°æ–¹ï¼Œè¦æ ¹æ®å®é™…é¡¹ç›®ï¼Œè¿›è¡Œä¿®æ”¹<br/><br/>```yml<br/>spring:<br/>  datasource:<br/>    url: jdbc:mysql://localhost:3306/weixindemo?useUnicode=true&amp;characterEncoding=utf-8<br/>    username: weixindemo<br/>    password: weixindemo<br/>    driver-class-name: com.mysql.cj.jdbc.Driver<br/>    <br/>    <br/># æ•´åˆMybatis<br/>mybatis:<br/>  # ** è¡¨ç¤ºåœ¨mapperä¸‹ä¸ç®¡æœ‰å¤šå°‘æ–‡ä»¶å¤¹ï¼Œéƒ½å¯ä»¥å…¨éƒ¨è¯†åˆ«<br/>  mapper-locations: classpath:/mapper/**/*.xml<br/>  type-aliases-package: weixindemo.pojo<br/>  #  æ‰“å°sqlç›¸å…³çš„æ—¥å¿—ä¿¡æ¯<br/>  configuration:<br/>    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl<br/>```<br/><br/>![image-20210415000535841](https://gitee.com/faro/images/raw/master/img/20210415000535.png)<br/><br/><br/><br/>* æ·»åŠ ç«¯å£é…ç½®<br/><br/>å› ä¸º vue ä¹Ÿæ˜¯ç”¨çš„8080ç«¯å£ï¼Œæˆ‘ä»¬ä¸èƒ½å’Œå®ƒé‡äº†<br/><br/>```yml<br/>server:<br/>  port: 8880<br/>```<br/><br/><br/><br/>* å¯åŠ¨ç±»æ·»åŠ `mapper`æ¥å£æ‰«æè·¯å¾„<br/><br/>```java<br/>@MapperScan(\"weixindemo.mapper\") //mybatis mapperæ¥å£æ‰«æ<br/>```<br/><br/>![image-20210415000824262](https://gitee.com/faro/images/raw/master/img/20210415000824.png)<br/><br/><br/><br/>### 5. MVC åŒ…å»ºç«‹<br/><br/>æˆ‘ä»¬è¿˜è¦å»ºç«‹ ==service==ï¼Œ==util==ï¼Œ==controller==åŒ…<br/><br/>![image-20210415001226689](https://gitee.com/faro/images/raw/master/img/20210415001226.png)<br/><br/>![image-20210415001237989](https://gitee.com/faro/images/raw/master/img/20210415001238.png)<br/><br/><br/><br/>### 5. æµ‹è¯• Mybatis é…ç½®<br/><br/>é…ç½®åˆ°è¿™ä¸€æ­¥ï¼Œè¦å¯¹ä¹‹å‰çš„é…ç½®ï¼Œè¿›è¡Œä¸€ä¸ªæµ‹è¯•<br/><br/>* pojo ä¸­ï¼Œæ–°å»º Test å®ä½“ç±»<br/><br/>![image-20210415001028711](https://gitee.com/faro/images/raw/master/img/20210415001028.png)<br/><br/>```java<br/>@Data<br/>@AllArgsConstructor<br/>@NoArgsConstructor<br/>public class Test {<br/>    private Integer id;<br/>    private String name;<br/>}<br/>```<br/><br/><br/><br/>* mapper åŒ…ä¸­ï¼Œæ–°å»º TestMapper æ¥å£<br/><br/>![image-20210415001403532](https://gitee.com/faro/images/raw/master/img/20210415001420.png)<br/><br/>```java<br/>@Repository<br/>@Mapper<br/>public interface TestMapper {<br/>    List&lt;Test&gt; getList();<br/>}<br/>```<br/><br/><br/><br/>* resources ä¸‹çš„ mapper æ–‡ä»¶å¤¹ä¸­ï¼Œå¢åŠ  TestMapper.xml å®ç°<br/><br/>  ![image-20210415002153386](https://gitee.com/faro/images/raw/master/img/20210415002153.png)<br/><br/>å…·ä½“å†…å®¹ï¼Œè¦æ ¹æ®å®é™…é¡¹ç›®ä¿®æ”¹<br/><br/>```xml<br/>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" ?&gt;<br/>&lt;!DOCTYPE mapper PUBLIC \"-//mybatis.org//DTD Mapper 3.0//EN\"<br/>    \"http://mybatis.org/dtd/mybatis-3-mapper.dtd\"&gt;<br/><br/>&lt;!--namespaceè¦å’Œæ¥å£çš„ä½ç½®å’Œåå­—å¯¹åº”--&gt;<br/>&lt;mapper namespace=\"weixindemo.mapper.TestMapper\"&gt;<br/><br/>    &lt;select id=\"getList\" resultType=\"weixindemo.pojo.Test\"&gt;<br/>        select * from test<br/>    &lt;/select&gt;<br/><br/>&lt;/mapper&gt;<br/>```<br/><br/>![image-20210415002240288](https://gitee.com/faro/images/raw/master/img/20210415002240.png)<br/><br/><br/><br/>* åœ¨ service åŒ…ä¸‹ï¼Œæ–°å»º TestService<br/><br/>![](https://gitee.com/faro/images/raw/master/img/20210415002439.png)<br/><br/>åˆ«å¿˜äº†åŠ ä¸Š @Service æ³¨è§£<br/><br/>```java<br/>@Service<br/>public class TestService {<br/><br/>    @Autowired<br/>    private TestMapper mapper;<br/><br/>    public List&lt;Test&gt; getList() {<br/>        return mapper.getList();<br/>    }<br/>}<br/>```<br/><br/><br/><br/>* åœ¨ controlleråŒ…ä¸‹ï¼Œæ–°å»º TestController<br/><br/>![image-20210415002611361](https://gitee.com/faro/images/raw/master/img/20210415002611.png)<br/><br/>```java<br/>@RestController<br/>public class TestController {<br/><br/>    @Autowired<br/>    private TestService testService;<br/>    <br/><br/>    @RequestMapping(\"/test/list\")<br/>    public List&lt;Test&gt; list() {<br/>        return testService.getList();<br/>    }<br/><br/>}<br/>```<br/><br/><br/><br/>* é‡å¯é¡¹ç›®<br/><br/><br/><br/>* æ–°å»º http æ–‡ä»¶ï¼Œç¼–å†™ http æµ‹è¯•è„šæœ¬ï¼Œæ‰§è¡Œ<br/><br/>![image-20210415002803589](https://gitee.com/faro/images/raw/master/img/20210415002803.png)<br/><br/>```http<br/>GET http://localhost:8880/test/list<br/>Accept: application/json<br/><br/>###<br/>```<br/><br/><br/><br/>æœ€åæˆåŠŸä»æ¥å£ä¸­è·å–æ•°æ®åº“ä¸­çš„æ•°æ®ï¼Œè¯´æ˜æˆ‘ä»¬ä¹‹å‰é…ç½®çš„éƒ½æ²¡æœ‰é”™è¯¯ï¼Œå¯ä»¥è¿›è¡Œä¸‹é¢çš„æ“ä½œ<br/><br/>![image-20210415003021769](https://gitee.com/faro/images/raw/master/img/20210415003021.png)<br/><br/><br/><br/>### 6. MyBatis ä»£ç ç”Ÿæˆå™¨<br/><br/>æˆ‘ä»¬ä¸å¯èƒ½å»å†™æ‰€æœ‰æŒä¹…å±‚çš„å®ç°ï¼Œä¸šåŠ¡ä¸­ï¼Œè¿™éƒ¨åˆ†éƒ½æ˜¯è‡ªåŠ¨ç”Ÿæˆçš„<br/><br/><br/><br/>* å¯¼å…¥ Maven ä¾èµ–<br/><br/>æ³¨æ„ï¼Œ==æ˜¯æ”¾åœ¨`plugiuns`ä¸‹é¢çš„==<br/><br/>```xml<br/>&lt;!-- mybatis generator è‡ªåŠ¨ç”Ÿæˆä»£ç æ’ä»¶ --&gt;<br/>            &lt;plugin&gt;<br/>                &lt;groupId&gt;org.mybatis.generator&lt;/groupId&gt;<br/>                &lt;artifactId&gt;mybatis-generator-maven-plugin&lt;/artifactId&gt;<br/>                &lt;version&gt;1.4.0&lt;/version&gt;<br/>                &lt;configuration&gt;<br/>                    &lt;configurationFile&gt;src/main/resources/generator/generator-config.xml&lt;/configurationFile&gt;<br/>                    &lt;overwrite&gt;true&lt;/overwrite&gt;<br/>                    &lt;verbose&gt;true&lt;/verbose&gt;<br/>                &lt;/configuration&gt;<br/>                &lt;dependencies&gt;<br/>                    &lt;dependency&gt;<br/>                        &lt;groupId&gt;mysql&lt;/groupId&gt;<br/>                        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;<br/>                        &lt;version&gt;8.0.22&lt;/version&gt;<br/>                    &lt;/dependency&gt;<br/>                &lt;/dependencies&gt;<br/>            &lt;/plugin&gt;<br/>```<br/><br/><br/><br/>* å»ºç«‹ä»£ç”Ÿæˆå™¨ä½ç½®<br/><br/>pomæ–‡ä»¶ä¸­ï¼Œæ˜¾ç¤ºäº†è¦åˆ›å»ºçš„ä»£ç ç”Ÿæˆå™¨çš„ä½ç½®`src/main/resources/generator/generator-config.xml`<br/><br/>```xml<br/>&lt;configurationFile&gt;<br/>  src/main/resources/generator/generator-config.xml<br/>&lt;/configurationFile&gt;<br/>```<br/><br/>![image-20210323131202189](https://gitee.com/faro/images/raw/master/img/20210323131202.png)<br/><br/><br/><br/>* ä»£ç ç”Ÿæˆå™¨ä»£ç <br/><br/>ä»`jdbcConnection`å¼€å§‹ï¼Œåˆ«å¿˜äº†==æ ¹æ®é¡¹ç›®è¿›è¡Œä¿®æ”¹==<br/><br/>```xml<br/>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;<br/>&lt;!DOCTYPE generatorConfiguration<br/>        PUBLIC \"-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN\"<br/>        \"http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd\"&gt;<br/><br/>&lt;generatorConfiguration&gt;<br/>    &lt;context id=\"Mysql\" targetRuntime=\"MyBatis3\" defaultModelType=\"flat\"&gt;<br/><br/>        &lt;!-- è‡ªåŠ¨æ£€æŸ¥å…³é”®å­—ï¼Œä¸ºå…³é”®å­—å¢åŠ åå¼•å· --&gt;<br/>        &lt;property name=\"autoDelimitKeywords\" value=\"true\"/&gt;<br/>        &lt;property name=\"beginningDelimiter\" value=\"`\"/&gt;<br/>        &lt;property name=\"endingDelimiter\" value=\"`\"/&gt;<br/><br/>        &lt;!--è¦†ç›–ç”ŸæˆXMLæ–‡ä»¶--&gt;<br/>        &lt;plugin type=\"org.mybatis.generator.plugins.UnmergeableXmlMappersPlugin\" /&gt;<br/>        &lt;!-- ç”Ÿæˆçš„å®ä½“ç±»æ·»åŠ toString()æ–¹æ³• --&gt;<br/>        &lt;plugin type=\"org.mybatis.generator.plugins.ToStringPlugin\"/&gt;<br/><br/>        &lt;!-- ä¸ç”Ÿæˆæ³¨é‡Š --&gt;<br/>        &lt;commentGenerator&gt;<br/>            &lt;property name=\"suppressAllComments\" value=\"true\"/&gt;<br/>        &lt;/commentGenerator&gt;<br/><br/>        &lt;jdbcConnection driverClass=\"com.mysql.cj.jdbc.Driver\"<br/>                        connectionURL=\"jdbc:mysql://localhost:3306/wiki?useUnicode=true&amp;characterEncoding=utf-8\"<br/>                        userId=\"wiki\"<br/>                        password=\"123456\"&gt;<br/>        &lt;/jdbcConnection&gt;<br/><br/>        &lt;!-- domainç±»çš„ä½ç½® --&gt;<br/>        &lt;javaModelGenerator targetProject=\"src/main/java\"<br/>                            targetPackage=\"top.faroz.pojo\"/&gt;<br/><br/>        &lt;!-- mapper xmlçš„ä½ç½® --&gt;<br/>        &lt;sqlMapGenerator targetProject=\"src/main/resources\"<br/>                         targetPackage=\"mapper\"/&gt;<br/><br/>        &lt;!-- mapperç±»çš„ä½ç½® --&gt;<br/>        &lt;javaClientGenerator targetProject=\"src/main/java\"<br/>                             targetPackage=\"top.faroz.mapper\"<br/>                             type=\"XMLMAPPER\"/&gt;<br/><br/>        &lt;table tableName=\"demo\" domainObjectName=\"Demo\"/&gt;<br/>        &lt;!--&lt;table tableName=\"ebook\"/&gt;--&gt;<br/>        &lt;!--&lt;table tableName=\"category\"/&gt;--&gt;<br/>        &lt;!--&lt;table tableName=\"doc\"/&gt;--&gt;<br/>        &lt;!--&lt;table tableName=\"content\"/&gt;--&gt;<br/>        &lt;!--&lt;table tableName=\"user\"/&gt;--&gt;<br/>        &lt;!--&lt;table tableName=\"ebook_snapshot\"/&gt;--&gt;<br/>    &lt;/context&gt;<br/>&lt;/generatorConfiguration&gt;<br/>```<br/><br/><br/><br/>* æ–°å»ºä¸€ä¸ªmavenå¯åŠ¨é¡¹<br/><br/>![image-20210411015300856](https://gitee.com/faro/images/raw/master/img/20210411015300.png)<br/><br/>![image-20210411015346116](https://gitee.com/faro/images/raw/master/img/20210411015346.png)<br/><br/>```bash<br/>mybatis-generator:generate -e<br/>```<br/><br/>![image-20210411015516818](https://gitee.com/faro/images/raw/master/img/20210411015516.png)<br/><br/><br/><br/>### 7. æµ‹è¯•ä»£ç ç”Ÿæˆå™¨<br/><br/>ä»£ç ç”Ÿæˆå™¨çš„å·¥ä½œåŸç†ï¼Œæ˜¯ä»æ•°æ®åº“ä¸­å–å‡ºè¡¨ä¿¡æ¯ï¼Œç„¶åæ ¹æ®è¡¨ä¿¡æ¯ï¼Œå»æ„é€ æŒä¹…å±‚ä»£ç ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬è¦å†å»å»ºä¸€ä¸ªè¡¨<br/><br/><br/><br/>* all.sql æ·»åŠ  demo è¡¨çš„å¢åŠ  SQL è¯­å¥ï¼Œå¹¶æ‰§è¡Œ<br/><br/>```sql<br/># demoåˆ—è¡¨<br/>drop table if exists `demo`;<br/>create table `demo` (<br/>    `id` bigint not null comment 'id',<br/>    `name` varchar(50) comment 'åç§°',<br/>    primary key (`id`)<br/>) engine=innodb default charset =utf8mb4 comment 'æµ‹è¯•';<br/><br/>insert into `demo` (id,name) values(2,'æµ‹è¯•2');<br/>```<br/><br/><br/><br/>* åœ¨ä»£ç ç”Ÿæˆå™¨æœ€åçš„éƒ¨åˆ†ï¼Œå¡«ä¸Šè¦ç”Ÿæˆçš„è¡¨å<br/><br/>![image-20210415012438872](https://gitee.com/faro/images/raw/master/img/20210415012439.png)<br/><br/><br/><br/>* æ‰§è¡Œ<br/><br/>![image-20210415012552449](https://gitee.com/faro/images/raw/master/img/20210415012552.png)<br/><br/><br/><br/>* æ‰§è¡ŒæˆåŠŸï¼Œä¼šç”Ÿæˆ 4 ä¸ªæ–°æ–‡ä»¶<br/><br/>![image-20210415012630004](https://gitee.com/faro/images/raw/master/img/20210415012630.png)<br/><br/><br/><br/>* æˆ‘ä»¬æ¨¡ä»¿ Testï¼Œå»å†™ Demoçš„ Service å’Œ Controller ä»£ç <br/><br/>```java<br/>@RestController<br/>public class DemoController {<br/><br/>    @Autowired<br/>    private DemoService demoService;<br/><br/>    @RequestMapping(\"/demo/list\")<br/>    public List&lt;Demo&gt; list() {<br/>        return demoService.getList();<br/>    }<br/>}<br/>```<br/><br/>```java<br/>@Service<br/>public class DemoService {<br/><br/>    @Resource<br/>    private DemoMapper demoMapper;<br/><br/>    public List&lt;Demo&gt; getList() {<br/>        List&lt;Demo&gt; list = demoMapper.selectByExample(null);<br/>        return list;<br/>    }<br/>}<br/>```<br/><br/><br/><br/>* æ·»åŠ  demo çš„ http æµ‹è¯•è„šæœ¬<br/><br/>```http<br/>GET http://localhost:8880/demo/list<br/>Accept: application/json<br/><br/>###<br/>```<br/><br/>æµ‹è¯•æˆåŠŸï¼Œè¯´æ˜æˆ‘ä»¬ç”¨ä»£ç ç”Ÿæˆå™¨ç”Ÿæˆçš„ä»£ç æ²¡æœ‰é—®é¢˜<br/><br/>![image-20210415013323695](https://gitee.com/faro/images/raw/master/img/20210415013323.png)<br/><br/><br/><br/>### 8. è§£å†³å‰åç«¯è·¨åŸŸé—®é¢˜<br/><br/>è™½ç„¶ç°åœ¨è¿˜æ²¡æœ‰æ„å»ºå‰ç«¯é¡¹ç›®ï¼Œä½†æ˜¯åé¢ï¼Œä¼šå‡ºç°è·¨åŸŸé—®é¢˜<br/><br/><br/><br/>* æ–°å»º CorsConfig ç±»<br/><br/>![image-20210415013643183](https://gitee.com/faro/images/raw/master/img/20210415013643.png)<br/><br/><br/><br/>* ä»£ç å¦‚ä¸‹<br/><br/>ä¸ç”¨æ”¹åŠ¨ï¼Œç›´æ¥ç”¨ï¼Œåˆ«å¿˜äº†åŠ ä¸Š==@Configuration==æ³¨è§£<br/><br/>```java<br/>@Configuration<br/>public class CorsConfig implements WebMvcConfigurer {<br/><br/>    @Override<br/>    public void addCorsMappings(CorsRegistry registry) {<br/>        registry.addMapping(\"/**\")<br/>                .allowedOriginPatterns(\"*\")<br/>                .allowedHeaders(CorsConfiguration.ALL)<br/>                .allowedMethods(CorsConfiguration.ALL)<br/>                .allowCredentials(true)<br/>                .maxAge(3600); // 1å°æ—¶å†…ä¸éœ€è¦å†é¢„æ£€ï¼ˆå‘OPTIONSè¯·æ±‚ï¼‰<br/>    }<br/>}<br/>```<br/><br/><br/><br/>### 9. æ·»åŠ é›ªèŠ±ç®—æ³•å·¥å…·ç±»<br/><br/>é›ªèŠ±ç®—æ³•ï¼Œç”¨æ¥ç”Ÿæˆå”¯ä¸€ ID<br/><br/><br/><br/>* æ–°å»º SnowFlake å·¥å…·ç±»<br/><br/>![image-20210415014504164](https://gitee.com/faro/images/raw/master/img/20210415014504.png)<br/><br/><br/><br/>* ä»£ç å¦‚ä¸‹<br/><br/>åˆ«å¿˜äº†åŠ ä¸Š @Component æ³¨è§£<br/><br/>```java<br/>@Component<br/>public class SnowFlake {<br/>    /**<br/>     * èµ·å§‹çš„æ—¶é—´æˆ³<br/>     */<br/>    private final static long START_STMP = 1609459200000L; // 2021-01-01 00:00:00<br/><br/>    /**<br/>     * æ¯ä¸€éƒ¨åˆ†å ç”¨çš„ä½æ•°<br/>     */<br/>    private final static long SEQUENCE_BIT = 12; //åºåˆ—å·å ç”¨çš„ä½æ•°<br/>    private final static long MACHINE_BIT = 5;   //æœºå™¨æ ‡è¯†å ç”¨çš„ä½æ•°<br/>    private final static long DATACENTER_BIT = 5;//æ•°æ®ä¸­å¿ƒå ç”¨çš„ä½æ•°<br/><br/>    /**<br/>     * æ¯ä¸€éƒ¨åˆ†çš„æœ€å¤§å€¼<br/>     */<br/>    private final static long MAX_DATACENTER_NUM = -1L ^ (-1L &lt;&lt; DATACENTER_BIT);<br/>    private final static long MAX_MACHINE_NUM = -1L ^ (-1L &lt;&lt; MACHINE_BIT);<br/>    private final static long MAX_SEQUENCE = -1L ^ (-1L &lt;&lt; SEQUENCE_BIT);<br/><br/>    /**<br/>     * æ¯ä¸€éƒ¨åˆ†å‘å·¦çš„ä½ç§»<br/>     */<br/>    private final static long MACHINE_LEFT = SEQUENCE_BIT;<br/>    private final static long DATACENTER_LEFT = SEQUENCE_BIT + MACHINE_BIT;<br/>    private final static long TIMESTMP_LEFT = DATACENTER_LEFT + DATACENTER_BIT;<br/><br/>    private long datacenterId = 1;  //æ•°æ®ä¸­å¿ƒ<br/>    private long machineId = 1;     //æœºå™¨æ ‡è¯†<br/>    private long sequence = 0L; //åºåˆ—å·<br/>    private long lastStmp = -1L;//ä¸Šä¸€æ¬¡æ—¶é—´æˆ³<br/><br/>    public SnowFlake() {<br/>    }<br/><br/>    public SnowFlake(long datacenterId, long machineId) {<br/>        if (datacenterId &gt; MAX_DATACENTER_NUM || datacenterId &lt; 0) {<br/>            throw new IllegalArgumentException(\"datacenterId can't be greater than MAX_DATACENTER_NUM or less than 0\");<br/>        }<br/>        if (machineId &gt; MAX_MACHINE_NUM || machineId &lt; 0) {<br/>            throw new IllegalArgumentException(\"machineId can't be greater than MAX_MACHINE_NUM or less than 0\");<br/>        }<br/>        this.datacenterId = datacenterId;<br/>        this.machineId = machineId;<br/>    }<br/><br/>    /**<br/>     * äº§ç”Ÿä¸‹ä¸€ä¸ªID<br/>     *<br/>     * @return<br/>     */<br/>    public synchronized long nextId() {<br/>        long currStmp = getNewstmp();<br/>        if (currStmp &lt; lastStmp) {<br/>            throw new RuntimeException(\"Clock moved backwards.  Refusing to generate id\");<br/>        }<br/><br/>        if (currStmp == lastStmp) {<br/>            //ç›¸åŒæ¯«ç§’å†…ï¼Œåºåˆ—å·è‡ªå¢<br/>            sequence = (sequence + 1) &amp; MAX_SEQUENCE;<br/>            //åŒä¸€æ¯«ç§’çš„åºåˆ—æ•°å·²ç»è¾¾åˆ°æœ€å¤§<br/>            if (sequence == 0L) {<br/>                currStmp = getNextMill();<br/>            }<br/>        } else {<br/>            //ä¸åŒæ¯«ç§’å†…ï¼Œåºåˆ—å·ç½®ä¸º0<br/>            sequence = 0L;<br/>        }<br/><br/>        lastStmp = currStmp;<br/><br/>        return (currStmp - START_STMP) &lt;&lt; TIMESTMP_LEFT //æ—¶é—´æˆ³éƒ¨åˆ†<br/>                | datacenterId &lt;&lt; DATACENTER_LEFT       //æ•°æ®ä¸­å¿ƒéƒ¨åˆ†<br/>                | machineId &lt;&lt; MACHINE_LEFT             //æœºå™¨æ ‡è¯†éƒ¨åˆ†<br/>                | sequence;                             //åºåˆ—å·éƒ¨åˆ†<br/>    }<br/><br/>    private long getNextMill() {<br/>        long mill = getNewstmp();<br/>        while (mill &lt;= lastStmp) {<br/>            mill = getNewstmp();<br/>        }<br/>        return mill;<br/>    }<br/><br/>    private long getNewstmp() {<br/>        return System.currentTimeMillis();<br/>    }<br/><br/>    // public static void main(String[] args) throws ParseException {<br/>    //     // æ—¶é—´æˆ³<br/>    //     // System.out.println(System.currentTimeMillis());<br/>    //     // System.out.println(new Date().getTime());<br/>    //     //<br/>    //     // String dateTime = \"2021-01-01 08:00:00\";<br/>    //     // SimpleDateFormat sdf = new SimpleDateFormat(\"yyyy-MM-dd hh:mm:ss\");<br/>    //     // System.out.println(sdf.parse(dateTime).getTime());<br/>    //<br/>    //     SnowFlake snowFlake = new SnowFlake(1, 1);<br/>    //<br/>    //     long start = System.currentTimeMillis();<br/>    //     for (int i = 0; i &lt; 10; i++) {<br/>    //         System.out.println(snowFlake.nextId());<br/>    //         System.out.println(System.currentTimeMillis() - start);<br/>    //     }<br/>    // }<br/><br/>}<br/>```<br/><br/><br/><br/><br/><br/>### 10. æ·»åŠ  AOP<br/><br/>AOP ç”¨æ¥æ‰“å°æ¥å£æ—¥å¿—ï¼Œæ–¹ä¾¿åæœŸè°ƒè¯•<br/><br/><br/><br/>* Maven ä¸­å¼•å…¥ fastjsonï¼Œå› ä¸º æˆ‘ä»¬çš„ç±»ä¸­è¦ç”¨<br/><br/>```xml<br/> &lt;!--fastjson--&gt;<br/>&lt;dependency&gt;<br/>  &lt;groupId&gt;com.alibaba&lt;/groupId&gt;<br/>  &lt;artifactId&gt;fastjson&lt;/artifactId&gt;<br/>  &lt;version&gt;1.2.70&lt;/version&gt;<br/>&lt;/dependency&gt;<br/>```<br/><br/><br/><br/>* Maven å¼•å…¥ AOP<br/><br/>```xml<br/>&lt;!--å¯¼å…¥aop--&gt;<br/>&lt;dependency&gt;<br/>  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;<br/>  &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;<br/>&lt;/dependency&gt;<br/>```<br/><br/><br/><br/>* æ·»åŠ  RequestContext å·¥å…·ç±»<br/><br/>è¿™ä¸ªæ˜¯åæœŸä¸ºäº†æ‰“å° WebSocket æ—¥å¿—çš„<br/><br/>![image-20210415014912415](https://gitee.com/faro/images/raw/master/img/20210415014912.png)<br/><br/>```java<br/>public class RequestContext implements Serializable {<br/>    private static ThreadLocal&lt;String&gt; remoteAddr = new ThreadLocal&lt;&gt;();<br/><br/>    public static String getRemoteAddr() {<br/>        return remoteAddr.get();<br/>    }<br/><br/>    public static void setRemoteAddr(String remoteAddr) {<br/>        weixindemo.util.RequestContext.remoteAddr.set(remoteAddr);<br/>    }<br/>}<br/>```<br/><br/><br/><br/>* æ–°å»º aspect åŒ…ï¼Œå¹¶æ–°å»º LogAspect ç±»<br/><br/>![image-20210415013942484](https://gitee.com/faro/images/raw/master/img/20210415013942.png)<br/><br/><br/><br/>**LogAspect ä»£ç å¦‚ä¸‹:**<br/><br/>åˆ‡ç‚¹çš„ä»£ç ï¼Œæˆ‘ä»¬è¦ä¾æ®é¡¹ç›®ä¿®æ”¹<br/><br/>![image-20210415015319943](https://gitee.com/faro/images/raw/master/img/20210415015320.png)<br/><br/>```java<br/>@Aspect<br/>@Component<br/>public class LogAspect {<br/>    private final static Logger LOG = LoggerFactory.getLogger(weixindemo.aspect.LogAspect.class);<br/><br/>    @Resource<br/>    private SnowFlake snowFlake;<br/><br/>    /** å®šä¹‰ä¸€ä¸ªåˆ‡ç‚¹ */<br/>    @Pointcut(\"execution(public * weixindemo.controller..*Controller.*(..))\")<br/>    public void controllerPointcut() {}<br/><br/>    // @Resource<br/>    // private SnowFlake snowFlake;<br/><br/>    @Before(\"controllerPointcut()\")<br/>    public void doBefore(JoinPoint joinPoint) throws Throwable {<br/><br/>        // å¢åŠ æ—¥å¿—æµæ°´å·<br/>        MDC.put(\"LOG_ID\", String.valueOf(snowFlake.nextId()));<br/><br/>        // å¼€å§‹æ‰“å°è¯·æ±‚æ—¥å¿—<br/>        ServletRequestAttributes attributes = (ServletRequestAttributes) RequestContextHolder.getRequestAttributes();<br/>        HttpServletRequest request = attributes.getRequest();<br/>        Signature signature = joinPoint.getSignature();<br/>        String name = signature.getName();<br/><br/>        // æ‰“å°è¯·æ±‚ä¿¡æ¯<br/>        LOG.info(\"------------- å¼€å§‹ -------------\");<br/>        LOG.info(\"è¯·æ±‚åœ°å€: {} {}\", request.getRequestURL().toString(), request.getMethod());<br/>        LOG.info(\"ç±»åæ–¹æ³•: {}.{}\", signature.getDeclaringTypeName(), name);<br/>        LOG.info(\"è¿œç¨‹åœ°å€: {}\", request.getRemoteAddr());<br/><br/>        RequestContext.setRemoteAddr(getRemoteIp(request));<br/><br/>        // æ‹¿åˆ°æ‰€æœ‰çš„å‚æ•°<br/>        Object[] args = joinPoint.getArgs();<br/>        // LOG.info(\"è¯·æ±‚å‚æ•°: {}\", JSONObject.toJSONString(args));<br/><br/>        Object[] arguments  = new Object[args.length];<br/>        for (int i = 0; i &lt; args.length; i++) {<br/>            if (args[i] instanceof ServletRequest<br/>                    || args[i] instanceof ServletResponse<br/>                    || args[i] instanceof MultipartFile) {<br/>                continue;<br/>            }<br/>            arguments[i] = args[i];<br/>        }<br/>        // æ’é™¤å­—æ®µï¼Œæ•æ„Ÿå­—æ®µæˆ–å¤ªé•¿çš„å­—æ®µä¸æ˜¾ç¤º<br/>        String[] excludeProperties = {\"password\", \"file\"};<br/>        PropertyPreFilters filters = new PropertyPreFilters();<br/>        PropertyPreFilters.MySimplePropertyPreFilter excludefilter = filters.addFilter();<br/>        excludefilter.addExcludes(excludeProperties);<br/>        LOG.info(\"è¯·æ±‚å‚æ•°: {}\", JSONObject.toJSONString(arguments, excludefilter));<br/>    }<br/><br/>    @Around(\"controllerPointcut()\")<br/>    public Object doAround(ProceedingJoinPoint proceedingJoinPoint) throws Throwable {<br/>        long startTime = System.currentTimeMillis();<br/>        Object result = proceedingJoinPoint.proceed();<br/>        // æ’é™¤å­—æ®µï¼Œæ•æ„Ÿå­—æ®µæˆ–å¤ªé•¿çš„å­—æ®µä¸æ˜¾ç¤º<br/>        String[] excludeProperties = {\"password\", \"file\"};<br/>        PropertyPreFilters filters = new PropertyPreFilters();<br/>        PropertyPreFilters.MySimplePropertyPreFilter excludefilter = filters.addFilter();<br/>        excludefilter.addExcludes(excludeProperties);<br/>        LOG.info(\"è¿”å›ç»“æœ: {}\", JSONObject.toJSONString(result, excludefilter));<br/>        LOG.info(\"------------- ç»“æŸ è€—æ—¶ï¼š{} ms -------------\", System.currentTimeMillis() - startTime);<br/>        return result;<br/>    }<br/><br/>    /**<br/>     * ä½¿ç”¨nginxåšåå‘ä»£ç†ï¼Œéœ€è¦ç”¨è¯¥æ–¹æ³•æ‰èƒ½å–åˆ°çœŸå®çš„è¿œç¨‹IP<br/>     * å½“æˆ‘ä»¬å‘å¸ƒä¸Šçº¿åï¼Œå› ä¸ºå‰ç«¯ã€åç«¯éƒ½æ˜¯ç”¨80ç«¯å£ï¼Œä¼šå†²çª<br/>     * æ‰€ä»¥ç”¨æˆ·è®¿é—®çš„æ—¶å€™ï¼Œéœ€è¦å…ˆå»è®¿é—® nginxï¼Œç„¶åï¼Œè®© nginx å»åå‘ä»£ç†ï¼Œæ‰¾æˆ‘ä»¬è¦è®¿é—®çš„è·¯å¾„<br/>     * @param request<br/>     * @return<br/>     */<br/>    public String getRemoteIp(HttpServletRequest request) {<br/>        String ip = request.getHeader(\"x-forwarded-for\");<br/>        if (ip == null || ip.length() == 0 || \"unknown\".equalsIgnoreCase(ip)) {<br/>            ip = request.getHeader(\"Proxy-Client-IP\");<br/>        }<br/>        if (ip == null || ip.length() == 0 || \"unknown\".equalsIgnoreCase(ip)) {<br/>            ip = request.getHeader(\"WL-Proxy-Client-IP\");<br/>        }<br/>        if (ip == null || ip.length() == 0 || \"unknown\".equalsIgnoreCase(ip)) {<br/>            ip = request.getRemoteAddr();<br/>        }<br/>        return ip;<br/>    }<br/>}<br/>```<br/><br/><br/><br/>### 11. è§£å†³å‰åç«¯ Long ç²¾åº¦ä¸¢å¤±é—®é¢˜<br/><br/>æˆ‘ä»¬åæœŸä¼šç”¨åˆ° MD5 åŠ å¯†ï¼Œåˆ°æ—¶å€™åç«¯ä¼ åˆ°å‰ç«¯çš„æ—¶å€™ï¼Œå› ä¸º javascript number çš„ç²¾åº¦é—®é¢˜ï¼Œä¼šå‡ºç°æ•°æ®ä¸¢å¤±<br/><br/><br/><br/>* é…ç½®æ–‡ä»¶æ–°å¢ JacksonConfig ç±»<br/><br/>![image-20210415020223600](https://gitee.com/faro/images/raw/master/img/20210415020223.png)<br/><br/><br/><br/>* ä»£ç å¦‚ä¸‹<br/><br/>```java<br/>@Configuration<br/>public class JacksonConfig {<br/><br/>    @Bean<br/>    public ObjectMapper jacksonObjectMapper(Jackson2ObjectMapperBuilder builder) {<br/>        ObjectMapper objectMapper = builder.createXmlMapper(false).build();<br/>        SimpleModule simpleModule = new SimpleModule();<br/>        // simpleModule.addSerializer(Long.class, ToStringSerializer.instance);<br/>        simpleModule.addSerializer(Long.class, ToStringSerializer.instance);<br/>        objectMapper.registerModule(simpleModule);<br/>        return objectMapper;<br/>    }<br/>}<br/>```<br/><br/><br/><br/>### 12. æ–°å»º req resp åŒ…<br/><br/>æˆ‘ä»¬è¦å°†è¯·æ±‚ä¸è¿”å›åŒ…è£…<br/><br/>![image-20210415020648707](https://gitee.com/faro/images/raw/master/img/20210415020648.png)<br/><br/><br/><br/>### 13. CommonResp<br/><br/>ä¸ºäº†æ–¹ä¾¿å‰ç«¯è°ƒç”¨ï¼Œåç«¯çš„ respï¼Œæˆ‘ä»¬å†™ä¸€ä¸ªç»Ÿä¸€çš„è¿”å› CommonResp<br/><br/>![image-20210415020805724](https://gitee.com/faro/images/raw/master/img/20210415020805.png)<br/><br/>**ä»£ç å¦‚ä¸‹ï¼š**<br/><br/>```java<br/>@Data<br/>@AllArgsConstructor<br/>@NoArgsConstructor<br/>public class CommonResp&lt;T&gt; {<br/>    /**<br/>     * è¿”å›æ˜¯å¦æˆåŠŸ<br/>     */<br/>    private boolean isSuccess=true;<br/><br/>    /**<br/>     * è¿”å›å¤±è´¥æ—¶ï¼Œè¿”å›çš„é”™è¯¯ä¿¡æ¯<br/>     */<br/>    private String message;<br/><br/>    /**<br/>     * è¿”å›æˆåŠŸçš„æ—¶å€™ï¼Œè¿”å›çš„å†…å®¹<br/>     */<br/>    private T content;<br/>}<br/>```<br/><br/><br/><br/>### 14. è‡ªå®šä¹‰å¼‚å¸¸<br/><br/>* æ–°å»ºå¼‚å¸¸ç±»`BusinessException`å’Œå¼‚å¸¸ä¿¡æ¯æšä¸¾`BusinessExceptionCode`<br/><br/>![image-20210415021357196](https://gitee.com/faro/images/raw/master/img/20210415021357.png)<br/><br/><br/><br/>* `BusinessException`ä»£ç <br/><br/>```java<br/>public class BusinessException extends RuntimeException{<br/>    private BusinessExceptionCode code;<br/><br/>    public BusinessException (BusinessExceptionCode code) {<br/>        /**<br/>         * çˆ¶ç±»æœ‰ä¸ªæˆå‘˜å˜é‡  private String desc<br/>         * éœ€è¦ä¸ºè¿™ä¸ªæˆå‘˜å˜é‡èµ‹å€¼<br/>         */<br/>        super(code.getDesc());<br/>        this.code = code;<br/>    }<br/><br/>    public BusinessExceptionCode getCode() {<br/>        return code;<br/>    }<br/><br/>    public void setCode(BusinessExceptionCode code) {<br/>        this.code = code;<br/>    }<br/><br/>    /**<br/>     * ä¸å†™å…¥å †æ ˆä¿¡æ¯ï¼Œæé«˜æ€§èƒ½<br/>     */<br/>    @Override<br/>    public Throwable fillInStackTrace() {<br/>        return this;<br/>    }<br/>}<br/>```<br/><br/><br/><br/>* `BusinessExceptionCode`ä»£ç <br/><br/>```java<br/>public enum BusinessExceptionCode {<br/>    USER_LOGIN_NAME_EXIST(\"ç™»å½•åå·²å­˜åœ¨\"),<br/>    LOGIN_USER_ERROR(\"ç”¨æˆ·åä¸å­˜åœ¨æˆ–å¯†ç é”™è¯¯\"),<br/>    VOTE_REPEAT(\"æ‚¨å·²ç‚¹èµè¿‡\"),<br/>    ;<br/><br/>    private String desc;<br/><br/>    BusinessExceptionCode(String desc) {<br/>        this.desc = desc;<br/>    }<br/><br/>    public String getDesc() {<br/>        return desc;<br/>    }<br/><br/>    public void setDesc(String desc) {<br/>        this.desc = desc;<br/>    }<br/>}<br/>```<br/><br/><br/><br/><br/><br/>### 13. ç»Ÿä¸€å¼‚å¸¸å¤„ç†<br/><br/>æˆ‘ä»¬æ‰€æœ‰å¼‚å¸¸ï¼Œéƒ½é€šè¿‡è¿™ä¸ªç±»æ¥æ•è·ï¼Œå¹¶ç”Ÿæˆä¸€ä¸ªè¿”å›é”™è¯¯ä¿¡æ¯çš„ CommonResp<br/><br/><br/><br/>* æ–°å»º ControllerExceptionHandler ç±»<br/><br/>![](https://gitee.com/faro/images/raw/master/img/20210415020947.png)<br/><br/><br/><br/>* ä»£ç å¦‚ä¸‹<br/><br/>logger è¦æ ¹æ®é¡¹ç›®æ”¹ä¸€ä¸‹<br/><br/>```java<br/>/**<br/> * ç»Ÿä¸€å¼‚å¸¸å¤„ç†ã€æ•°æ®é¢„å¤„ç†ç­‰<br/> * è¯¥ç±»ç”¨äºæ•è·ç³»ç»Ÿå¼¹å‡ºçš„å¼‚å¸¸<br/> * å°†å¼‚å¸¸åŒ…è£…æˆä¸€ä¸ª CommonResp<br/> * ä»è€Œæ–¹ä¾¿å‰ç«¯è°ƒç”¨ï¼Œæ˜¾ç¤ºé”™è¯¯ä¿¡æ¯<br/> */<br/>@ControllerAdvice<br/>public class ControllerExceptionHandler {<br/>    private static final Logger LOG = LoggerFactory.getLogger(top.faroz.controller.ControllerExceptionHandler.class);<br/><br/>    /**<br/>     * æ ¡éªŒå¼‚å¸¸ç»Ÿä¸€å¤„ç†<br/>     * @param e<br/>     * @return<br/>     */<br/>    @ExceptionHandler(value = BindException.class)<br/>    @ResponseBody<br/>    public CommonResp validExceptionHandler(BindException e) {<br/>        CommonResp commonResp = new CommonResp();<br/>        LOG.warn(\"å‚æ•°æ ¡éªŒå¤±è´¥ï¼š{}\", e.getBindingResult().getAllErrors().get(0).getDefaultMessage());<br/>        commonResp.setSuccess(false);<br/>        commonResp.setMessage(e.getBindingResult().getAllErrors().get(0).getDefaultMessage());<br/>        return commonResp;<br/>    }<br/><br/>    /**<br/>     * æ ¡éªŒå¼‚å¸¸ç»Ÿä¸€å¤„ç†<br/>     * @param e<br/>     * @return<br/>     */<br/>    @ExceptionHandler(value = BusinessException.class)<br/>    @ResponseBody<br/>    public CommonResp validExceptionHandler(BusinessException e) {<br/>        CommonResp commonResp = new CommonResp();<br/>        LOG.warn(\"ä¸šåŠ¡å¼‚å¸¸ï¼š{}\", e.getCode().getDesc());<br/>        commonResp.setSuccess(false);<br/>        commonResp.setMessage(e.getCode().getDesc());<br/>        return commonResp;<br/>    }<br/><br/>    /**<br/>     * æ ¡éªŒå¼‚å¸¸ç»Ÿä¸€å¤„ç†<br/>     * @param e<br/>     * @return<br/>     */<br/>    @ExceptionHandler(value = Exception.class)<br/>    @ResponseBody<br/>    public CommonResp validExceptionHandler(Exception e) {<br/>        CommonResp commonResp = new CommonResp();<br/>        LOG.error(\"ç³»ç»Ÿå¼‚å¸¸ï¼š\", e);<br/>        commonResp.setSuccess(false);<br/>        commonResp.setMessage(\"ç³»ç»Ÿå‡ºç°å¼‚å¸¸ï¼Œè¯·è”ç³»ç®¡ç†å‘˜\");<br/>        return commonResp;<br/>    }<br/>}<br/>```<br/><br/><br/><br/>### 14. æ·»åŠ æ—¥å¿—è®°å½• logback<br/><br/>* åœ¨ resource ä¸‹ï¼Œæ–°å»ºlogback-spring.xml æ–‡ä»¶<br/><br/>![image-20210411004947139](https://gitee.com/faro/images/raw/master/img/20210411004947.png)<br/><br/>* å†™å…¥å†…å®¹<br/><br/>```xml<br/>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;<br/>&lt;configuration&gt;<br/>    &lt;!-- ä¿®æ”¹ä¸€ä¸‹è·¯å¾„--&gt;<br/>    &lt;property name=\"PATH\" value=\"./log\"&gt;&lt;/property&gt;<br/><br/>    &lt;appender name=\"STDOUT\" class=\"ch.qos.logback.core.ConsoleAppender\"&gt;<br/>        &lt;encoder&gt;<br/>            &lt;Pattern&gt;%d{yyyy-MM-dd HH:mm:ss.SSS} %highlight(%-5level) %blue(%-50logger{50}:%-4line) %thread %msg%n&lt;/Pattern&gt;<br/>            &lt;!--&lt;Pattern&gt;%d{ss.SSS} %highlight(%-5level) %blue(%-30logger{30}:%-4line) %thread %green(%-18X{LOG_ID}) %msg%n&lt;/Pattern&gt;--&gt;<br/>        &lt;/encoder&gt;<br/>    &lt;/appender&gt;<br/><br/>    &lt;appender name=\"TRACE_FILE\" class=\"ch.qos.logback.core.rolling.RollingFileAppender\"&gt;<br/>        &lt;file&gt;${PATH}/trace.log&lt;/file&gt;<br/>        &lt;rollingPolicy class=\"ch.qos.logback.core.rolling.TimeBasedRollingPolicy\"&gt;<br/>            &lt;FileNamePattern&gt;${PATH}/trace.%d{yyyy-MM-dd}.%i.log&lt;/FileNamePattern&gt;<br/>            &lt;timeBasedFileNamingAndTriggeringPolicy class=\"ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP\"&gt;<br/>                &lt;maxFileSize&gt;10MB&lt;/maxFileSize&gt;<br/>            &lt;/timeBasedFileNamingAndTriggeringPolicy&gt;<br/>        &lt;/rollingPolicy&gt;<br/>        &lt;layout&gt;<br/>            &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss.SSS} %-5level %-50logger{50}:%-4line %green(%-18X{LOG_ID}) %msg%n&lt;/pattern&gt;<br/>        &lt;/layout&gt;<br/>    &lt;/appender&gt;<br/><br/>    &lt;appender name=\"ERROR_FILE\" class=\"ch.qos.logback.core.rolling.RollingFileAppender\"&gt;<br/>        &lt;file&gt;${PATH}/error.log&lt;/file&gt;<br/>        &lt;rollingPolicy class=\"ch.qos.logback.core.rolling.TimeBasedRollingPolicy\"&gt;<br/>            &lt;FileNamePattern&gt;${PATH}/error.%d{yyyy-MM-dd}.%i.log&lt;/FileNamePattern&gt;<br/>            &lt;timeBasedFileNamingAndTriggeringPolicy class=\"ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP\"&gt;<br/>                &lt;maxFileSize&gt;10MB&lt;/maxFileSize&gt;<br/>            &lt;/timeBasedFileNamingAndTriggeringPolicy&gt;<br/>        &lt;/rollingPolicy&gt;<br/>        &lt;layout&gt;<br/>            &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss.SSS} %-5level %-50logger{50}:%-4line %green(%-18X{LOG_ID}) %msg%n&lt;/pattern&gt;<br/>        &lt;/layout&gt;<br/>        &lt;filter class=\"ch.qos.logback.classic.filter.LevelFilter\"&gt;<br/>            &lt;level&gt;ERROR&lt;/level&gt;<br/>            &lt;onMatch&gt;ACCEPT&lt;/onMatch&gt;<br/>            &lt;onMismatch&gt;DENY&lt;/onMismatch&gt;<br/>        &lt;/filter&gt;<br/>    &lt;/appender&gt;<br/><br/>    &lt;root level=\"ERROR\"&gt;<br/>        &lt;appender-ref ref=\"ERROR_FILE\" /&gt;<br/>    &lt;/root&gt;<br/><br/>    &lt;root level=\"TRACE\"&gt;<br/>        &lt;appender-ref ref=\"TRACE_FILE\" /&gt;<br/>    &lt;/root&gt;<br/><br/>    &lt;root level=\"INFO\"&gt;<br/>        &lt;appender-ref ref=\"STDOUT\" /&gt;<br/>    &lt;/root&gt;<br/>&lt;/configuration&gt;<br/><br/>```<br/><br/><br/><br/>### 15. è‡ªå®šä¹‰ banner<br/><br/>resources ä¸‹æ–°å»º banner.txt<br/><br/>![image-20210415023847796](https://gitee.com/faro/images/raw/master/img/20210415023847.png)<br/><br/><br/><br/>é‡Œé¢æ”¾ä¸Šè‡ªå®šä¹‰ banner<br/><br/>```txt<br/> ********     **     *******     *******         ********<br/>/**/////     ****   /**////**   **/////**       //////** <br/>/**         **//**  /**   /**  **     //**           **  <br/>/*******   **  //** /*******  /**      /**          **   <br/>/**////   **********/**///**  /**      /**         **    <br/>/**      /**//////**/**  //** //**     **         **     <br/>/**      /**     /**/**   //** //*******   ***** ********<br/>//       //      // //     //   ///////   ///// //////// <br/>```<br/><br/><br/><br/><br/></p>","success":true}
2021-04-16 00:59:19.260 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š22 ms -------------
2021-04-16 00:59:31.174 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:59:31.175 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/save POST
2021-04-16 00:59:31.176 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.save
2021-04-16 00:59:31.176 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:59:31.178 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [{"content":"# å®Œæ•´é¡¹ç›®æ­å»ºæµç¨‹è™½è¯´ SpringBoot ç›¸è¾ƒäº SSM æ¡†æ¶ï¼Œå¤§å¤§å‡è½»äº†é…ç½®çš„ç¹çï¼Œä½†æ˜¯ï¼Œè¦æ•´åˆ MyBatis ï¼Œç»Ÿä¸€å¼‚å¸¸å¤„ç†ï¼ŒVueç­‰ä¸€ç³»åˆ—ä¸œè¥¿ï¼Œè¿˜æ˜¯è¦è´¹ä¸€ç•ªåŠ²çš„ã€‚è¿™æ¬¡å°†åˆ›å»ºçš„æ•´ä¸ªæµç¨‹è®°å½•ä¸‹æ¥ï¼Œæ–¹ä¾¿ä»¥åçš„é¡¹ç›®æ­å»ºã€‚è¦æ­å»ºä¸€ä¸ªå®Œæˆçš„å‰åç«¯åˆ†ç¦»é¡¹ç›®ï¼Œåˆ†ä¸ºè¿™ä¹ˆå‡ ä¸ªéƒ¨åˆ†ï¼š==æ•°æ®åº“ã€åç«¯ã€å‰ç«¯==å¦‚æœæ˜¯ä¸ºå¾®ä¿¡å°ç¨‹åºæ­å»ºä¸€ä¸ªåç«¯æœåŠ¡ï¼Œé‚£å°±åªè¦çœ‹åˆ°==æ•°æ®åº“ã€åç«¯==å°±å¯ä»¥äº†## æ•°æ®åº“ä¸€èˆ¬åœ¨æ–°å»ºé¡¹ç›®çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¼šé€‰æ‹©ä¸“é—¨ä¸ºè¿™ä¸ªé¡¹ç›®æ–°å»ºä¸€ä¸ªç”¨æˆ·ï¼Œå¹¶ä¸ºè¿™ä¸ªç”¨æˆ·ï¼Œèµ‹äºˆåªå±äºè¿™ä¸€ä¸ªé¡¹ç›®çš„æ‰€æœ‰æƒé™### 1. **è¿æ¥ admin**åªæœ‰ admin æœ‰æ‰€æœ‰æƒé™æˆ‘çš„æ•°æ®åº“ admin çš„è´¦æˆ·åå’Œå¯†ç æ˜¯ï¼š**è´¦æˆ·ï¼š**admin**å¯†ç ï¼š**123![image-20210411002100312](https://gitee.com/faro/images/raw/master/img/20210411003334.png)### 2. **æ–°å»ºæ•°æ®åº“**å…¶å­—ç¬¦ç±»å‹ä¸€å®šè¦é€‰æ‹©==utf8mb4==ï¼Œè¿™æ‰æ˜¯çœŸæ­£çš„ utf8ï¼Œæ”¯æŒè¡¨æƒ…ç¬¦å·![image-20210411002304858](https://gitee.com/faro/images/raw/master/img/20210411002304.png)### 3. **ä¸ºè¿™ä¸ªæ•°æ®åº“ï¼Œä¸“é—¨å»ºä¸€ä¸ªç”¨æˆ·**å¼€å‘ç¯å¢ƒä¸­ï¼Œå°±å°†å¯†ç å’Œç”¨æˆ·åè®¾ç½®æˆä¸€æ ·çš„ï¼Œè¿™æ ·ä¸ä¼šå¿˜è®°host è®¾ç½®ä¸º localhost![image-20210411002742750](https://gitee.com/faro/images/raw/master/img/20210411002742.png)### 4. **ä¸ºè¿™ä¸ªç”¨æˆ·ï¼Œæˆäºˆå¯¹åº”æ•°æ®åº“çš„å…¨éƒ¨æƒé™**![image-20210411003034426](https://gitee.com/faro/images/raw/master/img/20210411003034.png)![image-20210411002821790](https://gitee.com/faro/images/raw/master/img/20210414201958.png)### 5. **å¯¹å½“å‰ç”¨æˆ·ï¼Œå»ºç«‹è¿æ¥**![image-20210411002945727](https://gitee.com/faro/images/raw/master/img/20210411002945.png)## åç«¯å…³äº Mavenã€tomcat çš„ä¸‹è½½é…ç½®ï¼Œè¿™é‡Œå°±ä¸è´¹ç¬”å¢¨å»è®²è§£äº†ã€‚å¦‚æœ‰éœ€è¦ï¼Œå¯ä»¥è‡ªè¡Œç™¾åº¦æŸ¥æ‰¾ã€‚### 1. æ–°å»º SpringBoot é¡¹ç›®* ç‚¹å‡» `SpringInitiallizr`ï¼Œæ–°å»ºé¡¹ç›®![image-20210414200239335](https://gitee.com/faro/images/raw/master/img/20210414200239.png)* é€‰æ‹©é»˜è®¤ä¾èµ–çš„åŒ…![image-20210414200420395](https://gitee.com/faro/images/raw/master/img/20210414200420.png)![image-20210414200533694](https://gitee.com/faro/images/raw/master/img/20210414200533.png)![image-20210414200611051](https://gitee.com/faro/images/raw/master/img/20210414200611.png)* é€‰æ‹©å­˜æ”¾è·¯å¾„![image-20210414200656633](https://gitee.com/faro/images/raw/master/img/20210414200656.png)* æ–°å»ºå®Œæˆåï¼Œé¡¹ç›®ç›®å½•å¦‚ä¸‹![image-20210414200752152](https://gitee.com/faro/images/raw/master/img/20210414200752.png)### 2. æ›´æ”¹å¯åŠ¨ç±»ä½ç½®* æ–°å»º config åŒ…ï¼Œå°†å¯åŠ¨ç±»æ”¾è¿›å»![image-20210414201018806](https://gitee.com/faro/images/raw/master/img/20210414201018.png)* ä¸ºå¯åŠ¨ç±»æ·»åŠ æ³¨è§£æ³¨è§£å†…çš„ä¿¡æ¯ï¼Œæ˜¯é¡¹ç›®åç§°```java@ComponentScan(\"weixindemo\")```![image-20210414201210978](https://gitee.com/faro/images/raw/master/img/20210414201211.png)### 3. IDEA æ•°æ®åº“é…ç½®* IDEA è¿æ¥æ•°æ®åº“![image-20210414220153821](https://gitee.com/faro/images/raw/master/img/20210414220153.png)![image-20210414221502868](https://gitee.com/faro/images/raw/master/img/20210414221502.png)* æ·»åŠ  sql è„šæœ¬æ–°å»º sql æ–‡ä»¶å¤¹ï¼Œå»ºç«‹`all.sql`æ–‡ä»¶![image-20210414221647283](https://gitee.com/faro/images/raw/master/img/20210414221647.png)æˆ‘ä»¬åœ¨ sql è„šæœ¬ä¸­æ·»åŠ æµ‹è¯•ç”¨æ•°æ®ï¼Œå¹¶æ‰§è¡Œ```sql# æµ‹è¯•è¡¨drop table if exists `test`;create table `test` (  `id` bigint not null comment 'id',  `name` varchar(50) comment 'åç§°',  `password` varchar(50) comment 'å¯†ç ',  primary key (`id`)) engine=innodb default charset=utf8mb4 comment='æµ‹è¯•';insert into `test` (id, name, password) values (1, 'æµ‹è¯•', 'password');       ```å¯ä»¥çœ‹åˆ°ï¼Œæ•°æ®åº“å·²å»ºç«‹![image-20210415000115932](https://gitee.com/faro/images/raw/master/img/20210415000131.png)### 4. é…ç½® MyBatis* åœ¨ `resource`æ–‡ä»¶å¤¹ä¸‹ï¼Œæ–°å»º `mapper`æ–‡ä»¶å¤¹è¿™æ˜¯ç”¨æ¥å­˜æ”¾ MyBatis çš„å®ç°çš„![image-20210414201459632](https://gitee.com/faro/images/raw/master/img/20210414201459.png)* æ–°å»º pojo åŒ…pojo åŒ…ç”¨æ¥å­˜æ”¾å®ä½“ç±»![image-20210415000316772](https://gitee.com/faro/images/raw/master/img/20210415000316.png)* åœ¨é¡¹ç›®ä¸‹ï¼Œæ–°å»º mapper åŒ…ï¼Œç”¨æ¥å­˜æ”¾æ¥å£![image-20210415000711989](https://gitee.com/faro/images/raw/master/img/20210415000712.png)* å°†é…ç½®æ–‡ä»¶åç¼€æ”¹ä¸º`.yml`æˆ‘ä¸ªäººä¹ æƒ¯ä½¿ç”¨`.yml`è¿›è¡Œä½ç½®![image-20210414201610045](https://gitee.com/faro/images/raw/master/img/20210414201610.png)* æ·»åŠ  `Mybatis`é…ç½®è¿™é‡Œï¼Œè¦æ·»åŠ æ•°æ®æºï¼Œå’Œ MyBatis çš„é…ç½®ï¼Œéƒ¨åˆ†åœ°æ–¹ï¼Œè¦æ ¹æ®å®é™…é¡¹ç›®ï¼Œè¿›è¡Œä¿®æ”¹```ymlspring:  datasource:    url: jdbc:mysql://localhost:3306/weixindemo?useUnicode=true&amp;characterEncoding=utf-8    username: weixindemo    password: weixindemo    driver-class-name: com.mysql.cj.jdbc.Driver        # æ•´åˆMybatismybatis:  # ** è¡¨ç¤ºåœ¨mapperä¸‹ä¸ç®¡æœ‰å¤šå°‘æ–‡ä»¶å¤¹ï¼Œéƒ½å¯ä»¥å…¨éƒ¨è¯†åˆ«  mapper-locations: classpath:/mapper/**/*.xml  type-aliases-package: weixindemo.pojo  #  æ‰“å°sqlç›¸å…³çš„æ—¥å¿—ä¿¡æ¯  configuration:    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl```![image-20210415000535841](https://gitee.com/faro/images/raw/master/img/20210415000535.png)* æ·»åŠ ç«¯å£é…ç½®å› ä¸º vue ä¹Ÿæ˜¯ç”¨çš„8080ç«¯å£ï¼Œæˆ‘ä»¬ä¸èƒ½å’Œå®ƒé‡äº†```ymlserver:  port: 8880```* å¯åŠ¨ç±»æ·»åŠ `mapper`æ¥å£æ‰«æè·¯å¾„```java@MapperScan(\"weixindemo.mapper\") //mybatis mapperæ¥å£æ‰«æ```![image-20210415000824262](https://gitee.com/faro/images/raw/master/img/20210415000824.png)### 5. MVC åŒ…å»ºç«‹æˆ‘ä»¬è¿˜è¦å»ºç«‹ ==service==ï¼Œ==util==ï¼Œ==controller==åŒ…![image-20210415001226689](https://gitee.com/faro/images/raw/master/img/20210415001226.png)![image-20210415001237989](https://gitee.com/faro/images/raw/master/img/20210415001238.png)### 5. æµ‹è¯• Mybatis é…ç½®é…ç½®åˆ°è¿™ä¸€æ­¥ï¼Œè¦å¯¹ä¹‹å‰çš„é…ç½®ï¼Œè¿›è¡Œä¸€ä¸ªæµ‹è¯•* pojo ä¸­ï¼Œæ–°å»º Test å®ä½“ç±»![image-20210415001028711](https://gitee.com/faro/images/raw/master/img/20210415001028.png)```java@Data@AllArgsConstructor@NoArgsConstructorpublic class Test {    private Integer id;    private String name;}```* mapper åŒ…ä¸­ï¼Œæ–°å»º TestMapper æ¥å£![image-20210415001403532](https://gitee.com/faro/images/raw/master/img/20210415001420.png)```java@Repository@Mapperpublic interface TestMapper {    List&lt;Test&gt; getList();}```* resources ä¸‹çš„ mapper æ–‡ä»¶å¤¹ä¸­ï¼Œå¢åŠ  TestMapper.xml å®ç°  ![image-20210415002153386](https://gitee.com/faro/images/raw/master/img/20210415002153.png)å…·ä½“å†…å®¹ï¼Œè¦æ ¹æ®å®é™…é¡¹ç›®ä¿®æ”¹```xml&lt;?xml version=\"1.0\" encoding=\"UTF-8\" ?&gt;&lt;!DOCTYPE mapper PUBLIC \"-//mybatis.org//DTD Mapper 3.0//EN\"    \"http://mybatis.org/dtd/mybatis-3-mapper.dtd\"&gt;&lt;!--namespaceè¦å’Œæ¥å£çš„ä½ç½®å’Œåå­—å¯¹åº”--&gt;&lt;mapper namespace=\"weixindemo.mapper.TestMapper\"&gt;    &lt;select id=\"getList\" resultType=\"weixindemo.pojo.Test\"&gt;        select * from test    &lt;/select&gt;&lt;/mapper&gt;```![image-20210415002240288](https://gitee.com/faro/images/raw/master/img/20210415002240.png)* åœ¨ service åŒ…ä¸‹ï¼Œæ–°å»º TestService![](https://gitee.com/faro/images/raw/master/img/20210415002439.png)åˆ«å¿˜äº†åŠ ä¸Š @Service æ³¨è§£```java@Servicepublic class TestService {    @Autowired    private TestMapper mapper;    public List&lt;Test&gt; getList() {        return mapper.getList();    }}```* åœ¨ controlleråŒ…ä¸‹ï¼Œæ–°å»º TestController![image-20210415002611361](https://gitee.com/faro/images/raw/master/img/20210415002611.png)```java@RestControllerpublic class TestController {    @Autowired    private TestService testService;        @RequestMapping(\"/test/list\")    public List&lt;Test&gt; list() {        return testService.getList();    }}```* é‡å¯é¡¹ç›®* æ–°å»º http æ–‡ä»¶ï¼Œç¼–å†™ http æµ‹è¯•è„šæœ¬ï¼Œæ‰§è¡Œ![image-20210415002803589](https://gitee.com/faro/images/raw/master/img/20210415002803.png)```httpGET http://localhost:8880/test/listAccept: application/json###```æœ€åæˆåŠŸä»æ¥å£ä¸­è·å–æ•°æ®åº“ä¸­çš„æ•°æ®ï¼Œè¯´æ˜æˆ‘ä»¬ä¹‹å‰é…ç½®çš„éƒ½æ²¡æœ‰é”™è¯¯ï¼Œå¯ä»¥è¿›è¡Œä¸‹é¢çš„æ“ä½œ![image-20210415003021769](https://gitee.com/faro/images/raw/master/img/20210415003021.png)### 6. MyBatis ä»£ç ç”Ÿæˆå™¨æˆ‘ä»¬ä¸å¯èƒ½å»å†™æ‰€æœ‰æŒä¹…å±‚çš„å®ç°ï¼Œä¸šåŠ¡ä¸­ï¼Œè¿™éƒ¨åˆ†éƒ½æ˜¯è‡ªåŠ¨ç”Ÿæˆçš„* å¯¼å…¥ Maven ä¾èµ–æ³¨æ„ï¼Œ==æ˜¯æ”¾åœ¨`plugiuns`ä¸‹é¢çš„==```xml&lt;!-- mybatis generator è‡ªåŠ¨ç”Ÿæˆä»£ç æ’ä»¶ --&gt;            &lt;plugin&gt;                &lt;groupId&gt;org.mybatis.generator&lt;/groupId&gt;                &lt;artifactId&gt;mybatis-generator-maven-plugin&lt;/artifactId&gt;                &lt;version&gt;1.4.0&lt;/version&gt;                &lt;configuration&gt;                    &lt;configurationFile&gt;src/main/resources/generator/generator-config.xml&lt;/configurationFile&gt;                    &lt;overwrite&gt;true&lt;/overwrite&gt;                    &lt;verbose&gt;true&lt;/verbose&gt;                &lt;/configuration&gt;                &lt;dependencies&gt;                    &lt;dependency&gt;                        &lt;groupId&gt;mysql&lt;/groupId&gt;                        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;                        &lt;version&gt;8.0.22&lt;/version&gt;                    &lt;/dependency&gt;                &lt;/dependencies&gt;            &lt;/plugin&gt;```* å»ºç«‹ä»£ç”Ÿæˆå™¨ä½ç½®pomæ–‡ä»¶ä¸­ï¼Œæ˜¾ç¤ºäº†è¦åˆ›å»ºçš„ä»£ç ç”Ÿæˆå™¨çš„ä½ç½®`src/main/resources/generator/generator-config.xml````xml&lt;configurationFile&gt;  src/main/resources/generator/generator-config.xml&lt;/configurationFile&gt;```![image-20210323131202189](https://gitee.com/faro/images/raw/master/img/20210323131202.png)* ä»£ç ç”Ÿæˆå™¨ä»£ç ä»`jdbcConnection`å¼€å§‹ï¼Œåˆ«å¿˜äº†==æ ¹æ®é¡¹ç›®è¿›è¡Œä¿®æ”¹==```xml&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;&lt;!DOCTYPE generatorConfiguration        PUBLIC \"-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN\"        \"http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd\"&gt;&lt;generatorConfiguration&gt;    &lt;context id=\"Mysql\" targetRuntime=\"MyBatis3\" defaultModelType=\"flat\"&gt;        &lt;!-- è‡ªåŠ¨æ£€æŸ¥å…³é”®å­—ï¼Œä¸ºå…³é”®å­—å¢åŠ åå¼•å· --&gt;        &lt;property name=\"autoDelimitKeywords\" value=\"true\"/&gt;        &lt;property name=\"beginningDelimiter\" value=\"`\"/&gt;        &lt;property name=\"endingDelimiter\" value=\"`\"/&gt;        &lt;!--è¦†ç›–ç”ŸæˆXMLæ–‡ä»¶--&gt;        &lt;plugin type=\"org.mybatis.generator.plugins.UnmergeableXmlMappersPlugin\" /&gt;        &lt;!-- ç”Ÿæˆçš„å®ä½“ç±»æ·»åŠ toString()æ–¹æ³• --&gt;        &lt;plugin type=\"org.mybatis.generator.plugins.ToStringPlugin\"/&gt;        &lt;!-- ä¸ç”Ÿæˆæ³¨é‡Š --&gt;        &lt;commentGenerator&gt;            &lt;property name=\"suppressAllComments\" value=\"true\"/&gt;        &lt;/commentGenerator&gt;        &lt;jdbcConnection driverClass=\"com.mysql.cj.jdbc.Driver\"                        connectionURL=\"jdbc:mysql://localhost:3306/wiki?useUnicode=true&amp;characterEncoding=utf-8\"                        userId=\"wiki\"                        password=\"123456\"&gt;        &lt;/jdbcConnection&gt;        &lt;!-- domainç±»çš„ä½ç½® --&gt;        &lt;javaModelGenerator targetProject=\"src/main/java\"                            targetPackage=\"top.faroz.pojo\"/&gt;        &lt;!-- mapper xmlçš„ä½ç½® --&gt;        &lt;sqlMapGenerator targetProject=\"src/main/resources\"                         targetPackage=\"mapper\"/&gt;        &lt;!-- mapperç±»çš„ä½ç½® --&gt;        &lt;javaClientGenerator targetProject=\"src/main/java\"                             targetPackage=\"top.faroz.mapper\"                             type=\"XMLMAPPER\"/&gt;        &lt;table tableName=\"demo\" domainObjectName=\"Demo\"/&gt;        &lt;!--&lt;table tableName=\"ebook\"/&gt;--&gt;        &lt;!--&lt;table tableName=\"category\"/&gt;--&gt;        &lt;!--&lt;table tableName=\"doc\"/&gt;--&gt;        &lt;!--&lt;table tableName=\"content\"/&gt;--&gt;        &lt;!--&lt;table tableName=\"user\"/&gt;--&gt;        &lt;!--&lt;table tableName=\"ebook_snapshot\"/&gt;--&gt;    &lt;/context&gt;&lt;/generatorConfiguration&gt;```* æ–°å»ºä¸€ä¸ªmavenå¯åŠ¨é¡¹![image-20210411015300856](https://gitee.com/faro/images/raw/master/img/20210411015300.png)![image-20210411015346116](https://gitee.com/faro/images/raw/master/img/20210411015346.png)```bashmybatis-generator:generate -e```![image-20210411015516818](https://gitee.com/faro/images/raw/master/img/20210411015516.png)### 7. æµ‹è¯•ä»£ç ç”Ÿæˆå™¨ä»£ç ç”Ÿæˆå™¨çš„å·¥ä½œåŸç†ï¼Œæ˜¯ä»æ•°æ®åº“ä¸­å–å‡ºè¡¨ä¿¡æ¯ï¼Œç„¶åæ ¹æ®è¡¨ä¿¡æ¯ï¼Œå»æ„é€ æŒä¹…å±‚ä»£ç ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬è¦å†å»å»ºä¸€ä¸ªè¡¨* all.sql æ·»åŠ  demo è¡¨çš„å¢åŠ  SQL è¯­å¥ï¼Œå¹¶æ‰§è¡Œ```sql# demoåˆ—è¡¨drop table if exists `demo`;create table `demo` (    `id` bigint not null comment 'id',    `name` varchar(50) comment 'åç§°',    primary key (`id`)) engine=innodb default charset =utf8mb4 comment 'æµ‹è¯•';insert into `demo` (id,name) values(2,'æµ‹è¯•2');```* åœ¨ä»£ç ç”Ÿæˆå™¨æœ€åçš„éƒ¨åˆ†ï¼Œå¡«ä¸Šè¦ç”Ÿæˆçš„è¡¨å![image-20210415012438872](https://gitee.com/faro/images/raw/master/img/20210415012439.png)* æ‰§è¡Œ![image-20210415012552449](https://gitee.com/faro/images/raw/master/img/20210415012552.png)* æ‰§è¡ŒæˆåŠŸï¼Œä¼šç”Ÿæˆ 4 ä¸ªæ–°æ–‡ä»¶![image-20210415012630004](https://gitee.com/faro/images/raw/master/img/20210415012630.png)* æˆ‘ä»¬æ¨¡ä»¿ Testï¼Œå»å†™ Demoçš„ Service å’Œ Controller ä»£ç ```java@RestControllerpublic class DemoController {    @Autowired    private DemoService demoService;    @RequestMapping(\"/demo/list\")    public List&lt;Demo&gt; list() {        return demoService.getList();    }}``````java@Servicepublic class DemoService {    @Resource    private DemoMapper demoMapper;    public List&lt;Demo&gt; getList() {        List&lt;Demo&gt; list = demoMapper.selectByExample(null);        return list;    }}```* æ·»åŠ  demo çš„ http æµ‹è¯•è„šæœ¬```httpGET http://localhost:8880/demo/listAccept: application/json###```æµ‹è¯•æˆåŠŸï¼Œè¯´æ˜æˆ‘ä»¬ç”¨ä»£ç ç”Ÿæˆå™¨ç”Ÿæˆçš„ä»£ç æ²¡æœ‰é—®é¢˜![image-20210415013323695](https://gitee.com/faro/images/raw/master/img/20210415013323.png)### 8. è§£å†³å‰åç«¯è·¨åŸŸé—®é¢˜è™½ç„¶ç°åœ¨è¿˜æ²¡æœ‰æ„å»ºå‰ç«¯é¡¹ç›®ï¼Œä½†æ˜¯åé¢ï¼Œä¼šå‡ºç°è·¨åŸŸé—®é¢˜* æ–°å»º CorsConfig ç±»![image-20210415013643183](https://gitee.com/faro/images/raw/master/img/20210415013643.png)* ä»£ç å¦‚ä¸‹ä¸ç”¨æ”¹åŠ¨ï¼Œç›´æ¥ç”¨ï¼Œåˆ«å¿˜äº†åŠ ä¸Š==@Configuration==æ³¨è§£```java@Configurationpublic class CorsConfig implements WebMvcConfigurer {    @Override    public void addCorsMappings(CorsRegistry registry) {        registry.addMapping(\"/**\")                .allowedOriginPatterns(\"*\")                .allowedHeaders(CorsConfiguration.ALL)                .allowedMethods(CorsConfiguration.ALL)                .allowCredentials(true)                .maxAge(3600); // 1å°æ—¶å†…ä¸éœ€è¦å†é¢„æ£€ï¼ˆå‘OPTIONSè¯·æ±‚ï¼‰    }}```### 9. æ·»åŠ é›ªèŠ±ç®—æ³•å·¥å…·ç±»é›ªèŠ±ç®—æ³•ï¼Œç”¨æ¥ç”Ÿæˆå”¯ä¸€ ID* æ–°å»º SnowFlake å·¥å…·ç±»![image-20210415014504164](https://gitee.com/faro/images/raw/master/img/20210415014504.png)* ä»£ç å¦‚ä¸‹åˆ«å¿˜äº†åŠ ä¸Š @Component æ³¨è§£```java@Componentpublic class SnowFlake {    /**     * èµ·å§‹çš„æ—¶é—´æˆ³     */    private final static long START_STMP = 1609459200000L; // 2021-01-01 00:00:00    /**     * æ¯ä¸€éƒ¨åˆ†å ç”¨çš„ä½æ•°     */    private final static long SEQUENCE_BIT = 12; //åºåˆ—å·å ç”¨çš„ä½æ•°    private final static long MACHINE_BIT = 5;   //æœºå™¨æ ‡è¯†å ç”¨çš„ä½æ•°    private final static long DATACENTER_BIT = 5;//æ•°æ®ä¸­å¿ƒå ç”¨çš„ä½æ•°    /**     * æ¯ä¸€éƒ¨åˆ†çš„æœ€å¤§å€¼     */    private final static long MAX_DATACENTER_NUM = -1L ^ (-1L &lt;&lt; DATACENTER_BIT);    private final static long MAX_MACHINE_NUM = -1L ^ (-1L &lt;&lt; MACHINE_BIT);    private final static long MAX_SEQUENCE = -1L ^ (-1L &lt;&lt; SEQUENCE_BIT);    /**     * æ¯ä¸€éƒ¨åˆ†å‘å·¦çš„ä½ç§»     */    private final static long MACHINE_LEFT = SEQUENCE_BIT;    private final static long DATACENTER_LEFT = SEQUENCE_BIT + MACHINE_BIT;    private final static long TIMESTMP_LEFT = DATACENTER_LEFT + DATACENTER_BIT;    private long datacenterId = 1;  //æ•°æ®ä¸­å¿ƒ    private long machineId = 1;     //æœºå™¨æ ‡è¯†    private long sequence = 0L; //åºåˆ—å·    private long lastStmp = -1L;//ä¸Šä¸€æ¬¡æ—¶é—´æˆ³    public SnowFlake() {    }    public SnowFlake(long datacenterId, long machineId) {        if (datacenterId &gt; MAX_DATACENTER_NUM || datacenterId &lt; 0) {            throw new IllegalArgumentException(\"datacenterId can't be greater than MAX_DATACENTER_NUM or less than 0\");        }        if (machineId &gt; MAX_MACHINE_NUM || machineId &lt; 0) {            throw new IllegalArgumentException(\"machineId can't be greater than MAX_MACHINE_NUM or less than 0\");        }        this.datacenterId = datacenterId;        this.machineId = machineId;    }    /**     * äº§ç”Ÿä¸‹ä¸€ä¸ªID     *     * @return     */    public synchronized long nextId() {        long currStmp = getNewstmp();        if (currStmp &lt; lastStmp) {            throw new RuntimeException(\"Clock moved backwards.  Refusing to generate id\");        }        if (currStmp == lastStmp) {            //ç›¸åŒæ¯«ç§’å†…ï¼Œåºåˆ—å·è‡ªå¢            sequence = (sequence + 1) &amp; MAX_SEQUENCE;            //åŒä¸€æ¯«ç§’çš„åºåˆ—æ•°å·²ç»è¾¾åˆ°æœ€å¤§            if (sequence == 0L) {                currStmp = getNextMill();            }        } else {            //ä¸åŒæ¯«ç§’å†…ï¼Œåºåˆ—å·ç½®ä¸º0            sequence = 0L;        }        lastStmp = currStmp;        return (currStmp - START_STMP) &lt;&lt; TIMESTMP_LEFT //æ—¶é—´æˆ³éƒ¨åˆ†                | datacenterId &lt;&lt; DATACENTER_LEFT       //æ•°æ®ä¸­å¿ƒéƒ¨åˆ†                | machineId &lt;&lt; MACHINE_LEFT             //æœºå™¨æ ‡è¯†éƒ¨åˆ†                | sequence;                             //åºåˆ—å·éƒ¨åˆ†    }    private long getNextMill() {        long mill = getNewstmp();        while (mill &lt;= lastStmp) {            mill = getNewstmp();        }        return mill;    }    private long getNewstmp() {        return System.currentTimeMillis();    }    // public static void main(String[] args) throws ParseException {    //     // æ—¶é—´æˆ³    //     // System.out.println(System.currentTimeMillis());    //     // System.out.println(new Date().getTime());    //     //    //     // String dateTime = \"2021-01-01 08:00:00\";    //     // SimpleDateFormat sdf = new SimpleDateFormat(\"yyyy-MM-dd hh:mm:ss\");    //     // System.out.println(sdf.parse(dateTime).getTime());    //    //     SnowFlake snowFlake = new SnowFlake(1, 1);    //    //     long start = System.currentTimeMillis();    //     for (int i = 0; i &lt; 10; i++) {    //         System.out.println(snowFlake.nextId());    //         System.out.println(System.currentTimeMillis() - start);    //     }    // }}```### 10. æ·»åŠ  AOPAOP ç”¨æ¥æ‰“å°æ¥å£æ—¥å¿—ï¼Œæ–¹ä¾¿åæœŸè°ƒè¯•* Maven ä¸­å¼•å…¥ fastjsonï¼Œå› ä¸º æˆ‘ä»¬çš„ç±»ä¸­è¦ç”¨```xml &lt;!--fastjson--&gt;&lt;dependency&gt;  &lt;groupId&gt;com.alibaba&lt;/groupId&gt;  &lt;artifactId&gt;fastjson&lt;/artifactId&gt;  &lt;version&gt;1.2.70&lt;/version&gt;&lt;/dependency&gt;```* Maven å¼•å…¥ AOP```xml&lt;!--å¯¼å…¥aop--&gt;&lt;dependency&gt;  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;  &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;&lt;/dependency&gt;```* æ·»åŠ  RequestContext å·¥å…·ç±»è¿™ä¸ªæ˜¯åæœŸä¸ºäº†æ‰“å° WebSocket æ—¥å¿—çš„![image-20210415014912415](https://gitee.com/faro/images/raw/master/img/20210415014912.png)```javapublic class RequestContext implements Serializable {    private static ThreadLocal&lt;String&gt; remoteAddr = new ThreadLocal&lt;&gt;();    public static String getRemoteAddr() {        return remoteAddr.get();    }    public static void setRemoteAddr(String remoteAddr) {        weixindemo.util.RequestContext.remoteAddr.set(remoteAddr);    }}```* æ–°å»º aspect åŒ…ï¼Œå¹¶æ–°å»º LogAspect ç±»![image-20210415013942484](https://gitee.com/faro/images/raw/master/img/20210415013942.png)**LogAspect ä»£ç å¦‚ä¸‹:**åˆ‡ç‚¹çš„ä»£ç ï¼Œæˆ‘ä»¬è¦ä¾æ®é¡¹ç›®ä¿®æ”¹![image-20210415015319943](https://gitee.com/faro/images/raw/master/img/20210415015320.png)```java@Aspect@Componentpublic class LogAspect {    private final static Logger LOG = LoggerFactory.getLogger(weixindemo.aspect.LogAspect.class);    @Resource    private SnowFlake snowFlake;    /** å®šä¹‰ä¸€ä¸ªåˆ‡ç‚¹ */    @Pointcut(\"execution(public * weixindemo.controller..*Controller.*(..))\")    public void controllerPointcut() {}    // @Resource    // private SnowFlake snowFlake;    @Before(\"controllerPointcut()\")    public void doBefore(JoinPoint joinPoint) throws Throwable {        // å¢åŠ æ—¥å¿—æµæ°´å·        MDC.put(\"LOG_ID\", String.valueOf(snowFlake.nextId()));        // å¼€å§‹æ‰“å°è¯·æ±‚æ—¥å¿—        ServletRequestAttributes attributes = (ServletRequestAttributes) RequestContextHolder.getRequestAttributes();        HttpServletRequest request = attributes.getRequest();        Signature signature = joinPoint.getSignature();        String name = signature.getName();        // æ‰“å°è¯·æ±‚ä¿¡æ¯        LOG.info(\"------------- å¼€å§‹ -------------\");        LOG.info(\"è¯·æ±‚åœ°å€: {} {}\", request.getRequestURL().toString(), request.getMethod());        LOG.info(\"ç±»åæ–¹æ³•: {}.{}\", signature.getDeclaringTypeName(), name);        LOG.info(\"è¿œç¨‹åœ°å€: {}\", request.getRemoteAddr());        RequestContext.setRemoteAddr(getRemoteIp(request));        // æ‹¿åˆ°æ‰€æœ‰çš„å‚æ•°        Object[] args = joinPoint.getArgs();        // LOG.info(\"è¯·æ±‚å‚æ•°: {}\", JSONObject.toJSONString(args));        Object[] arguments  = new Object[args.length];        for (int i = 0; i &lt; args.length; i++) {            if (args[i] instanceof ServletRequest                    || args[i] instanceof ServletResponse                    || args[i] instanceof MultipartFile) {                continue;            }            arguments[i] = args[i];        }        // æ’é™¤å­—æ®µï¼Œæ•æ„Ÿå­—æ®µæˆ–å¤ªé•¿çš„å­—æ®µä¸æ˜¾ç¤º        String[] excludeProperties = {\"password\", \"file\"};        PropertyPreFilters filters = new PropertyPreFilters();        PropertyPreFilters.MySimplePropertyPreFilter excludefilter = filters.addFilter();        excludefilter.addExcludes(excludeProperties);        LOG.info(\"è¯·æ±‚å‚æ•°: {}\", JSONObject.toJSONString(arguments, excludefilter));    }    @Around(\"controllerPointcut()\")    public Object doAround(ProceedingJoinPoint proceedingJoinPoint) throws Throwable {        long startTime = System.currentTimeMillis();        Object result = proceedingJoinPoint.proceed();        // æ’é™¤å­—æ®µï¼Œæ•æ„Ÿå­—æ®µæˆ–å¤ªé•¿çš„å­—æ®µä¸æ˜¾ç¤º        String[] excludeProperties = {\"password\", \"file\"};        PropertyPreFilters filters = new PropertyPreFilters();        PropertyPreFilters.MySimplePropertyPreFilter excludefilter = filters.addFilter();        excludefilter.addExcludes(excludeProperties);        LOG.info(\"è¿”å›ç»“æœ: {}\", JSONObject.toJSONString(result, excludefilter));        LOG.info(\"------------- ç»“æŸ è€—æ—¶ï¼š{} ms -------------\", System.currentTimeMillis() - startTime);        return result;    }    /**     * ä½¿ç”¨nginxåšåå‘ä»£ç†ï¼Œéœ€è¦ç”¨è¯¥æ–¹æ³•æ‰èƒ½å–åˆ°çœŸå®çš„è¿œç¨‹IP     * å½“æˆ‘ä»¬å‘å¸ƒä¸Šçº¿åï¼Œå› ä¸ºå‰ç«¯ã€åç«¯éƒ½æ˜¯ç”¨80ç«¯å£ï¼Œä¼šå†²çª     * æ‰€ä»¥ç”¨æˆ·è®¿é—®çš„æ—¶å€™ï¼Œéœ€è¦å…ˆå»è®¿é—® nginxï¼Œç„¶åï¼Œè®© nginx å»åå‘ä»£ç†ï¼Œæ‰¾æˆ‘ä»¬è¦è®¿é—®çš„è·¯å¾„     * @param request     * @return     */    public String getRemoteIp(HttpServletRequest request) {        String ip = request.getHeader(\"x-forwarded-for\");        if (ip == null || ip.length() == 0 || \"unknown\".equalsIgnoreCase(ip)) {            ip = request.getHeader(\"Proxy-Client-IP\");        }        if (ip == null || ip.length() == 0 || \"unknown\".equalsIgnoreCase(ip)) {            ip = request.getHeader(\"WL-Proxy-Client-IP\");        }        if (ip == null || ip.length() == 0 || \"unknown\".equalsIgnoreCase(ip)) {            ip = request.getRemoteAddr();        }        return ip;    }}```### 11. è§£å†³å‰åç«¯ Long ç²¾åº¦ä¸¢å¤±é—®é¢˜æˆ‘ä»¬åæœŸä¼šç”¨åˆ° MD5 åŠ å¯†ï¼Œåˆ°æ—¶å€™åç«¯ä¼ åˆ°å‰ç«¯çš„æ—¶å€™ï¼Œå› ä¸º javascript number çš„ç²¾åº¦é—®é¢˜ï¼Œä¼šå‡ºç°æ•°æ®ä¸¢å¤±* é…ç½®æ–‡ä»¶æ–°å¢ JacksonConfig ç±»![image-20210415020223600](https://gitee.com/faro/images/raw/master/img/20210415020223.png)* ä»£ç å¦‚ä¸‹```java@Configurationpublic class JacksonConfig {    @Bean    public ObjectMapper jacksonObjectMapper(Jackson2ObjectMapperBuilder builder) {        ObjectMapper objectMapper = builder.createXmlMapper(false).build();        SimpleModule simpleModule = new SimpleModule();        // simpleModule.addSerializer(Long.class, ToStringSerializer.instance);        simpleModule.addSerializer(Long.class, ToStringSerializer.instance);        objectMapper.registerModule(simpleModule);        return objectMapper;    }}```### 12. æ–°å»º req resp åŒ…æˆ‘ä»¬è¦å°†è¯·æ±‚ä¸è¿”å›åŒ…è£…![image-20210415020648707](https://gitee.com/faro/images/raw/master/img/20210415020648.png)### 13. CommonRespä¸ºäº†æ–¹ä¾¿å‰ç«¯è°ƒç”¨ï¼Œåç«¯çš„ respï¼Œæˆ‘ä»¬å†™ä¸€ä¸ªç»Ÿä¸€çš„è¿”å› CommonResp![image-20210415020805724](https://gitee.com/faro/images/raw/master/img/20210415020805.png)**ä»£ç å¦‚ä¸‹ï¼š**```java@Data@AllArgsConstructor@NoArgsConstructorpublic class CommonResp&lt;T&gt; {    /**     * è¿”å›æ˜¯å¦æˆåŠŸ     */    private boolean isSuccess=true;    /**     * è¿”å›å¤±è´¥æ—¶ï¼Œè¿”å›çš„é”™è¯¯ä¿¡æ¯     */    private String message;    /**     * è¿”å›æˆåŠŸçš„æ—¶å€™ï¼Œè¿”å›çš„å†…å®¹     */    private T content;}```### 14. è‡ªå®šä¹‰å¼‚å¸¸* æ–°å»ºå¼‚å¸¸ç±»`BusinessException`å’Œå¼‚å¸¸ä¿¡æ¯æšä¸¾`BusinessExceptionCode`![image-20210415021357196](https://gitee.com/faro/images/raw/master/img/20210415021357.png)* `BusinessException`ä»£ç ```javapublic class BusinessException extends RuntimeException{    private BusinessExceptionCode code;    public BusinessException (BusinessExceptionCode code) {        /**         * çˆ¶ç±»æœ‰ä¸ªæˆå‘˜å˜é‡  private String desc         * éœ€è¦ä¸ºè¿™ä¸ªæˆå‘˜å˜é‡èµ‹å€¼         */        super(code.getDesc());        this.code = code;    }    public BusinessExceptionCode getCode() {        return code;    }    public void setCode(BusinessExceptionCode code) {        this.code = code;    }    /**     * ä¸å†™å…¥å †æ ˆä¿¡æ¯ï¼Œæé«˜æ€§èƒ½     */    @Override    public Throwable fillInStackTrace() {        return this;    }}```* `BusinessExceptionCode`ä»£ç ```javapublic enum BusinessExceptionCode {    USER_LOGIN_NAME_EXIST(\"ç™»å½•åå·²å­˜åœ¨\"),    LOGIN_USER_ERROR(\"ç”¨æˆ·åä¸å­˜åœ¨æˆ–å¯†ç é”™è¯¯\"),    VOTE_REPEAT(\"æ‚¨å·²ç‚¹èµè¿‡\"),    ;    private String desc;    BusinessExceptionCode(String desc) {        this.desc = desc;    }    public String getDesc() {        return desc;    }    public void setDesc(String desc) {        this.desc = desc;    }}```### 13. ç»Ÿä¸€å¼‚å¸¸å¤„ç†æˆ‘ä»¬æ‰€æœ‰å¼‚å¸¸ï¼Œéƒ½é€šè¿‡è¿™ä¸ªç±»æ¥æ•è·ï¼Œå¹¶ç”Ÿæˆä¸€ä¸ªè¿”å›é”™è¯¯ä¿¡æ¯çš„ CommonResp* æ–°å»º ControllerExceptionHandler ç±»![](https://gitee.com/faro/images/raw/master/img/20210415020947.png)* ä»£ç å¦‚ä¸‹logger è¦æ ¹æ®é¡¹ç›®æ”¹ä¸€ä¸‹```java/** * ç»Ÿä¸€å¼‚å¸¸å¤„ç†ã€æ•°æ®é¢„å¤„ç†ç­‰ * è¯¥ç±»ç”¨äºæ•è·ç³»ç»Ÿå¼¹å‡ºçš„å¼‚å¸¸ * å°†å¼‚å¸¸åŒ…è£…æˆä¸€ä¸ª CommonResp * ä»è€Œæ–¹ä¾¿å‰ç«¯è°ƒç”¨ï¼Œæ˜¾ç¤ºé”™è¯¯ä¿¡æ¯ */@ControllerAdvicepublic class ControllerExceptionHandler {    private static final Logger LOG = LoggerFactory.getLogger(top.faroz.controller.ControllerExceptionHandler.class);    /**     * æ ¡éªŒå¼‚å¸¸ç»Ÿä¸€å¤„ç†     * @param e     * @return     */    @ExceptionHandler(value = BindException.class)    @ResponseBody    public CommonResp validExceptionHandler(BindException e) {        CommonResp commonResp = new CommonResp();        LOG.warn(\"å‚æ•°æ ¡éªŒå¤±è´¥ï¼š{}\", e.getBindingResult().getAllErrors().get(0).getDefaultMessage());        commonResp.setSuccess(false);        commonResp.setMessage(e.getBindingResult().getAllErrors().get(0).getDefaultMessage());        return commonResp;    }    /**     * æ ¡éªŒå¼‚å¸¸ç»Ÿä¸€å¤„ç†     * @param e     * @return     */    @ExceptionHandler(value = BusinessException.class)    @ResponseBody    public CommonResp validExceptionHandler(BusinessException e) {        CommonResp commonResp = new CommonResp();        LOG.warn(\"ä¸šåŠ¡å¼‚å¸¸ï¼š{}\", e.getCode().getDesc());        commonResp.setSuccess(false);        commonResp.setMessage(e.getCode().getDesc());        return commonResp;    }    /**     * æ ¡éªŒå¼‚å¸¸ç»Ÿä¸€å¤„ç†     * @param e     * @return     */    @ExceptionHandler(value = Exception.class)    @ResponseBody    public CommonResp validExceptionHandler(Exception e) {        CommonResp commonResp = new CommonResp();        LOG.error(\"ç³»ç»Ÿå¼‚å¸¸ï¼š\", e);        commonResp.setSuccess(false);        commonResp.setMessage(\"ç³»ç»Ÿå‡ºç°å¼‚å¸¸ï¼Œè¯·è”ç³»ç®¡ç†å‘˜\");        return commonResp;    }}```### 14. æ·»åŠ æ—¥å¿—è®°å½• logback* åœ¨ resource ä¸‹ï¼Œæ–°å»ºlogback-spring.xml æ–‡ä»¶![image-20210411004947139](https://gitee.com/faro/images/raw/master/img/20210411004947.png)* å†™å…¥å†…å®¹```xml&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;&lt;configuration&gt;    &lt;!-- ä¿®æ”¹ä¸€ä¸‹è·¯å¾„--&gt;    &lt;property name=\"PATH\" value=\"./log\"&gt;&lt;/property&gt;    &lt;appender name=\"STDOUT\" class=\"ch.qos.logback.core.ConsoleAppender\"&gt;        &lt;encoder&gt;            &lt;Pattern&gt;%d{yyyy-MM-dd HH:mm:ss.SSS} %highlight(%-5level) %blue(%-50logger{50}:%-4line) %thread %msg%n&lt;/Pattern&gt;            &lt;!--&lt;Pattern&gt;%d{ss.SSS} %highlight(%-5level) %blue(%-30logger{30}:%-4line) %thread %green(%-18X{LOG_ID}) %msg%n&lt;/Pattern&gt;--&gt;        &lt;/encoder&gt;    &lt;/appender&gt;    &lt;appender name=\"TRACE_FILE\" class=\"ch.qos.logback.core.rolling.RollingFileAppender\"&gt;        &lt;file&gt;${PATH}/trace.log&lt;/file&gt;        &lt;rollingPolicy class=\"ch.qos.logback.core.rolling.TimeBasedRollingPolicy\"&gt;            &lt;FileNamePattern&gt;${PATH}/trace.%d{yyyy-MM-dd}.%i.log&lt;/FileNamePattern&gt;            &lt;timeBasedFileNamingAndTriggeringPolicy class=\"ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP\"&gt;                &lt;maxFileSize&gt;10MB&lt;/maxFileSize&gt;            &lt;/timeBasedFileNamingAndTriggeringPolicy&gt;        &lt;/rollingPolicy&gt;        &lt;layout&gt;            &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss.SSS} %-5level %-50logger{50}:%-4line %green(%-18X{LOG_ID}) %msg%n&lt;/pattern&gt;        &lt;/layout&gt;    &lt;/appender&gt;    &lt;appender name=\"ERROR_FILE\" class=\"ch.qos.logback.core.rolling.RollingFileAppender\"&gt;        &lt;file&gt;${PATH}/error.log&lt;/file&gt;        &lt;rollingPolicy class=\"ch.qos.logback.core.rolling.TimeBasedRollingPolicy\"&gt;            &lt;FileNamePattern&gt;${PATH}/error.%d{yyyy-MM-dd}.%i.log&lt;/FileNamePattern&gt;            &lt;timeBasedFileNamingAndTriggeringPolicy class=\"ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP\"&gt;                &lt;maxFileSize&gt;10MB&lt;/maxFileSize&gt;            &lt;/timeBasedFileNamingAndTriggeringPolicy&gt;        &lt;/rollingPolicy&gt;        &lt;layout&gt;            &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss.SSS} %-5level %-50logger{50}:%-4line %green(%-18X{LOG_ID}) %msg%n&lt;/pattern&gt;        &lt;/layout&gt;        &lt;filter class=\"ch.qos.logback.classic.filter.LevelFilter\"&gt;            &lt;level&gt;ERROR&lt;/level&gt;            &lt;onMatch&gt;ACCEPT&lt;/onMatch&gt;            &lt;onMismatch&gt;DENY&lt;/onMismatch&gt;        &lt;/filter&gt;    &lt;/appender&gt;    &lt;root level=\"ERROR\"&gt;        &lt;appender-ref ref=\"ERROR_FILE\" /&gt;    &lt;/root&gt;    &lt;root level=\"TRACE\"&gt;        &lt;appender-ref ref=\"TRACE_FILE\" /&gt;    &lt;/root&gt;    &lt;root level=\"INFO\"&gt;        &lt;appender-ref ref=\"STDOUT\" /&gt;    &lt;/root&gt;&lt;/configuration&gt;```### 15. è‡ªå®šä¹‰ bannerresources ä¸‹æ–°å»º banner.txt![image-20210415023847796](https://gitee.com/faro/images/raw/master/img/20210415023847.png)é‡Œé¢æ”¾ä¸Šè‡ªå®šä¹‰ banner```txt ********     **     *******     *******         ********/**/////     ****   /**////**   **/////**       //////** /**         **//**  /**   /**  **     //**           **  /*******   **  //** /*******  /**      /**          **   /**////   **********/**///**  /**      /**         **    /**      /**//////**/**  //** //**     **         **     /**      /**     /**/**   //** //*******   ***** ********//       //      // //     //   ///////   ///// //////// ```","description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0}]
2021-04-16 00:59:31.208 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"id":1},"success":true}
2021-04-16 00:59:31.209 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š35 ms -------------
2021-04-16 00:59:36.071 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:59:36.071 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/list GET
2021-04-16 00:59:36.072 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.list
2021-04-16 00:59:36.072 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:59:36.072 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":4}]
2021-04-16 00:59:36.077 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"list":[{"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Vue å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":2,"name":"Vue å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Python å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":3,"name":"Python å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Mysql å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":4,"name":"Mysql å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0}],"total":7},"success":true}
2021-04-16 00:59:36.077 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2021-04-16 00:59:37.101 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:59:37.102 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2021-04-16 00:59:37.102 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:59:37.102 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.findContent
2021-04-16 00:59:37.102 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find/1 GET
2021-04-16 00:59:37.102 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.find
2021-04-16 00:59:37.102 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:59:37.102 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [1]
2021-04-16 00:59:37.102 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:59:37.103 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [1]
2021-04-16 00:59:37.104 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},"success":true}
2021-04-16 00:59:37.105 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š3 ms -------------
2021-04-16 00:59:37.108 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":"# å®Œæ•´é¡¹ç›®æ­å»ºæµç¨‹è™½è¯´ SpringBoot ç›¸è¾ƒäº SSM æ¡†æ¶ï¼Œå¤§å¤§å‡è½»äº†é…ç½®çš„ç¹çï¼Œä½†æ˜¯ï¼Œè¦æ•´åˆ MyBatis ï¼Œç»Ÿä¸€å¼‚å¸¸å¤„ç†ï¼ŒVueç­‰ä¸€ç³»åˆ—ä¸œè¥¿ï¼Œè¿˜æ˜¯è¦è´¹ä¸€ç•ªåŠ²çš„ã€‚è¿™æ¬¡å°†åˆ›å»ºçš„æ•´ä¸ªæµç¨‹è®°å½•ä¸‹æ¥ï¼Œæ–¹ä¾¿ä»¥åçš„é¡¹ç›®æ­å»ºã€‚è¦æ­å»ºä¸€ä¸ªå®Œæˆçš„å‰åç«¯åˆ†ç¦»é¡¹ç›®ï¼Œåˆ†ä¸ºè¿™ä¹ˆå‡ ä¸ªéƒ¨åˆ†ï¼š==æ•°æ®åº“ã€åç«¯ã€å‰ç«¯==å¦‚æœæ˜¯ä¸ºå¾®ä¿¡å°ç¨‹åºæ­å»ºä¸€ä¸ªåç«¯æœåŠ¡ï¼Œé‚£å°±åªè¦çœ‹åˆ°==æ•°æ®åº“ã€åç«¯==å°±å¯ä»¥äº†## æ•°æ®åº“ä¸€èˆ¬åœ¨æ–°å»ºé¡¹ç›®çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¼šé€‰æ‹©ä¸“é—¨ä¸ºè¿™ä¸ªé¡¹ç›®æ–°å»ºä¸€ä¸ªç”¨æˆ·ï¼Œå¹¶ä¸ºè¿™ä¸ªç”¨æˆ·ï¼Œèµ‹äºˆåªå±äºè¿™ä¸€ä¸ªé¡¹ç›®çš„æ‰€æœ‰æƒé™### 1. **è¿æ¥ admin**åªæœ‰ admin æœ‰æ‰€æœ‰æƒé™æˆ‘çš„æ•°æ®åº“ admin çš„è´¦æˆ·åå’Œå¯†ç æ˜¯ï¼š**è´¦æˆ·ï¼š**admin**å¯†ç ï¼š**123![image-20210411002100312](https://gitee.com/faro/images/raw/master/img/20210411003334.png)### 2. **æ–°å»ºæ•°æ®åº“**å…¶å­—ç¬¦ç±»å‹ä¸€å®šè¦é€‰æ‹©==utf8mb4==ï¼Œè¿™æ‰æ˜¯çœŸæ­£çš„ utf8ï¼Œæ”¯æŒè¡¨æƒ…ç¬¦å·![image-20210411002304858](https://gitee.com/faro/images/raw/master/img/20210411002304.png)### 3. **ä¸ºè¿™ä¸ªæ•°æ®åº“ï¼Œä¸“é—¨å»ºä¸€ä¸ªç”¨æˆ·**å¼€å‘ç¯å¢ƒä¸­ï¼Œå°±å°†å¯†ç å’Œç”¨æˆ·åè®¾ç½®æˆä¸€æ ·çš„ï¼Œè¿™æ ·ä¸ä¼šå¿˜è®°host è®¾ç½®ä¸º localhost![image-20210411002742750](https://gitee.com/faro/images/raw/master/img/20210411002742.png)### 4. **ä¸ºè¿™ä¸ªç”¨æˆ·ï¼Œæˆäºˆå¯¹åº”æ•°æ®åº“çš„å…¨éƒ¨æƒé™**![image-20210411003034426](https://gitee.com/faro/images/raw/master/img/20210411003034.png)![image-20210411002821790](https://gitee.com/faro/images/raw/master/img/20210414201958.png)### 5. **å¯¹å½“å‰ç”¨æˆ·ï¼Œå»ºç«‹è¿æ¥**![image-20210411002945727](https://gitee.com/faro/images/raw/master/img/20210411002945.png)## åç«¯å…³äº Mavenã€tomcat çš„ä¸‹è½½é…ç½®ï¼Œè¿™é‡Œå°±ä¸è´¹ç¬”å¢¨å»è®²è§£äº†ã€‚å¦‚æœ‰éœ€è¦ï¼Œå¯ä»¥è‡ªè¡Œç™¾åº¦æŸ¥æ‰¾ã€‚### 1. æ–°å»º SpringBoot é¡¹ç›®* ç‚¹å‡» `SpringInitiallizr`ï¼Œæ–°å»ºé¡¹ç›®![image-20210414200239335](https://gitee.com/faro/images/raw/master/img/20210414200239.png)* é€‰æ‹©é»˜è®¤ä¾èµ–çš„åŒ…![image-20210414200420395](https://gitee.com/faro/images/raw/master/img/20210414200420.png)![image-20210414200533694](https://gitee.com/faro/images/raw/master/img/20210414200533.png)![image-20210414200611051](https://gitee.com/faro/images/raw/master/img/20210414200611.png)* é€‰æ‹©å­˜æ”¾è·¯å¾„![image-20210414200656633](https://gitee.com/faro/images/raw/master/img/20210414200656.png)* æ–°å»ºå®Œæˆåï¼Œé¡¹ç›®ç›®å½•å¦‚ä¸‹![image-20210414200752152](https://gitee.com/faro/images/raw/master/img/20210414200752.png)### 2. æ›´æ”¹å¯åŠ¨ç±»ä½ç½®* æ–°å»º config åŒ…ï¼Œå°†å¯åŠ¨ç±»æ”¾è¿›å»![image-20210414201018806](https://gitee.com/faro/images/raw/master/img/20210414201018.png)* ä¸ºå¯åŠ¨ç±»æ·»åŠ æ³¨è§£æ³¨è§£å†…çš„ä¿¡æ¯ï¼Œæ˜¯é¡¹ç›®åç§°```java@ComponentScan(\"weixindemo\")```![image-20210414201210978](https://gitee.com/faro/images/raw/master/img/20210414201211.png)### 3. IDEA æ•°æ®åº“é…ç½®* IDEA è¿æ¥æ•°æ®åº“![image-20210414220153821](https://gitee.com/faro/images/raw/master/img/20210414220153.png)![image-20210414221502868](https://gitee.com/faro/images/raw/master/img/20210414221502.png)* æ·»åŠ  sql è„šæœ¬æ–°å»º sql æ–‡ä»¶å¤¹ï¼Œå»ºç«‹`all.sql`æ–‡ä»¶![image-20210414221647283](https://gitee.com/faro/images/raw/master/img/20210414221647.png)æˆ‘ä»¬åœ¨ sql è„šæœ¬ä¸­æ·»åŠ æµ‹è¯•ç”¨æ•°æ®ï¼Œå¹¶æ‰§è¡Œ```sql# æµ‹è¯•è¡¨drop table if exists `test`;create table `test` (  `id` bigint not null comment 'id',  `name` varchar(50) comment 'åç§°',  `password` varchar(50) comment 'å¯†ç ',  primary key (`id`)) engine=innodb default charset=utf8mb4 comment='æµ‹è¯•';insert into `test` (id, name, password) values (1, 'æµ‹è¯•', 'password');       ```å¯ä»¥çœ‹åˆ°ï¼Œæ•°æ®åº“å·²å»ºç«‹![image-20210415000115932](https://gitee.com/faro/images/raw/master/img/20210415000131.png)### 4. é…ç½® MyBatis* åœ¨ `resource`æ–‡ä»¶å¤¹ä¸‹ï¼Œæ–°å»º `mapper`æ–‡ä»¶å¤¹è¿™æ˜¯ç”¨æ¥å­˜æ”¾ MyBatis çš„å®ç°çš„![image-20210414201459632](https://gitee.com/faro/images/raw/master/img/20210414201459.png)* æ–°å»º pojo åŒ…pojo åŒ…ç”¨æ¥å­˜æ”¾å®ä½“ç±»![image-20210415000316772](https://gitee.com/faro/images/raw/master/img/20210415000316.png)* åœ¨é¡¹ç›®ä¸‹ï¼Œæ–°å»º mapper åŒ…ï¼Œç”¨æ¥å­˜æ”¾æ¥å£![image-20210415000711989](https://gitee.com/faro/images/raw/master/img/20210415000712.png)* å°†é…ç½®æ–‡ä»¶åç¼€æ”¹ä¸º`.yml`æˆ‘ä¸ªäººä¹ æƒ¯ä½¿ç”¨`.yml`è¿›è¡Œä½ç½®![image-20210414201610045](https://gitee.com/faro/images/raw/master/img/20210414201610.png)* æ·»åŠ  `Mybatis`é…ç½®è¿™é‡Œï¼Œè¦æ·»åŠ æ•°æ®æºï¼Œå’Œ MyBatis çš„é…ç½®ï¼Œéƒ¨åˆ†åœ°æ–¹ï¼Œè¦æ ¹æ®å®é™…é¡¹ç›®ï¼Œè¿›è¡Œä¿®æ”¹```ymlspring:  datasource:    url: jdbc:mysql://localhost:3306/weixindemo?useUnicode=true&amp;characterEncoding=utf-8    username: weixindemo    password: weixindemo    driver-class-name: com.mysql.cj.jdbc.Driver        # æ•´åˆMybatismybatis:  # ** è¡¨ç¤ºåœ¨mapperä¸‹ä¸ç®¡æœ‰å¤šå°‘æ–‡ä»¶å¤¹ï¼Œéƒ½å¯ä»¥å…¨éƒ¨è¯†åˆ«  mapper-locations: classpath:/mapper/**/*.xml  type-aliases-package: weixindemo.pojo  #  æ‰“å°sqlç›¸å…³çš„æ—¥å¿—ä¿¡æ¯  configuration:    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl```![image-20210415000535841](https://gitee.com/faro/images/raw/master/img/20210415000535.png)* æ·»åŠ ç«¯å£é…ç½®å› ä¸º vue ä¹Ÿæ˜¯ç”¨çš„8080ç«¯å£ï¼Œæˆ‘ä»¬ä¸èƒ½å’Œå®ƒé‡äº†```ymlserver:  port: 8880```* å¯åŠ¨ç±»æ·»åŠ `mapper`æ¥å£æ‰«æè·¯å¾„```java@MapperScan(\"weixindemo.mapper\") //mybatis mapperæ¥å£æ‰«æ```![image-20210415000824262](https://gitee.com/faro/images/raw/master/img/20210415000824.png)### 5. MVC åŒ…å»ºç«‹æˆ‘ä»¬è¿˜è¦å»ºç«‹ ==service==ï¼Œ==util==ï¼Œ==controller==åŒ…![image-20210415001226689](https://gitee.com/faro/images/raw/master/img/20210415001226.png)![image-20210415001237989](https://gitee.com/faro/images/raw/master/img/20210415001238.png)### 5. æµ‹è¯• Mybatis é…ç½®é…ç½®åˆ°è¿™ä¸€æ­¥ï¼Œè¦å¯¹ä¹‹å‰çš„é…ç½®ï¼Œè¿›è¡Œä¸€ä¸ªæµ‹è¯•* pojo ä¸­ï¼Œæ–°å»º Test å®ä½“ç±»![image-20210415001028711](https://gitee.com/faro/images/raw/master/img/20210415001028.png)```java@Data@AllArgsConstructor@NoArgsConstructorpublic class Test {    private Integer id;    private String name;}```* mapper åŒ…ä¸­ï¼Œæ–°å»º TestMapper æ¥å£![image-20210415001403532](https://gitee.com/faro/images/raw/master/img/20210415001420.png)```java@Repository@Mapperpublic interface TestMapper {    List&lt;Test&gt; getList();}```* resources ä¸‹çš„ mapper æ–‡ä»¶å¤¹ä¸­ï¼Œå¢åŠ  TestMapper.xml å®ç°  ![image-20210415002153386](https://gitee.com/faro/images/raw/master/img/20210415002153.png)å…·ä½“å†…å®¹ï¼Œè¦æ ¹æ®å®é™…é¡¹ç›®ä¿®æ”¹```xml&lt;?xml version=\"1.0\" encoding=\"UTF-8\" ?&gt;&lt;!DOCTYPE mapper PUBLIC \"-//mybatis.org//DTD Mapper 3.0//EN\"    \"http://mybatis.org/dtd/mybatis-3-mapper.dtd\"&gt;&lt;!--namespaceè¦å’Œæ¥å£çš„ä½ç½®å’Œåå­—å¯¹åº”--&gt;&lt;mapper namespace=\"weixindemo.mapper.TestMapper\"&gt;    &lt;select id=\"getList\" resultType=\"weixindemo.pojo.Test\"&gt;        select * from test    &lt;/select&gt;&lt;/mapper&gt;```![image-20210415002240288](https://gitee.com/faro/images/raw/master/img/20210415002240.png)* åœ¨ service åŒ…ä¸‹ï¼Œæ–°å»º TestService![](https://gitee.com/faro/images/raw/master/img/20210415002439.png)åˆ«å¿˜äº†åŠ ä¸Š @Service æ³¨è§£```java@Servicepublic class TestService {    @Autowired    private TestMapper mapper;    public List&lt;Test&gt; getList() {        return mapper.getList();    }}```* åœ¨ controlleråŒ…ä¸‹ï¼Œæ–°å»º TestController![image-20210415002611361](https://gitee.com/faro/images/raw/master/img/20210415002611.png)```java@RestControllerpublic class TestController {    @Autowired    private TestService testService;        @RequestMapping(\"/test/list\")    public List&lt;Test&gt; list() {        return testService.getList();    }}```* é‡å¯é¡¹ç›®* æ–°å»º http æ–‡ä»¶ï¼Œç¼–å†™ http æµ‹è¯•è„šæœ¬ï¼Œæ‰§è¡Œ![image-20210415002803589](https://gitee.com/faro/images/raw/master/img/20210415002803.png)```httpGET http://localhost:8880/test/listAccept: application/json###```æœ€åæˆåŠŸä»æ¥å£ä¸­è·å–æ•°æ®åº“ä¸­çš„æ•°æ®ï¼Œè¯´æ˜æˆ‘ä»¬ä¹‹å‰é…ç½®çš„éƒ½æ²¡æœ‰é”™è¯¯ï¼Œå¯ä»¥è¿›è¡Œä¸‹é¢çš„æ“ä½œ![image-20210415003021769](https://gitee.com/faro/images/raw/master/img/20210415003021.png)### 6. MyBatis ä»£ç ç”Ÿæˆå™¨æˆ‘ä»¬ä¸å¯èƒ½å»å†™æ‰€æœ‰æŒä¹…å±‚çš„å®ç°ï¼Œä¸šåŠ¡ä¸­ï¼Œè¿™éƒ¨åˆ†éƒ½æ˜¯è‡ªåŠ¨ç”Ÿæˆçš„* å¯¼å…¥ Maven ä¾èµ–æ³¨æ„ï¼Œ==æ˜¯æ”¾åœ¨`plugiuns`ä¸‹é¢çš„==```xml&lt;!-- mybatis generator è‡ªåŠ¨ç”Ÿæˆä»£ç æ’ä»¶ --&gt;            &lt;plugin&gt;                &lt;groupId&gt;org.mybatis.generator&lt;/groupId&gt;                &lt;artifactId&gt;mybatis-generator-maven-plugin&lt;/artifactId&gt;                &lt;version&gt;1.4.0&lt;/version&gt;                &lt;configuration&gt;                    &lt;configurationFile&gt;src/main/resources/generator/generator-config.xml&lt;/configurationFile&gt;                    &lt;overwrite&gt;true&lt;/overwrite&gt;                    &lt;verbose&gt;true&lt;/verbose&gt;                &lt;/configuration&gt;                &lt;dependencies&gt;                    &lt;dependency&gt;                        &lt;groupId&gt;mysql&lt;/groupId&gt;                        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;                        &lt;version&gt;8.0.22&lt;/version&gt;                    &lt;/dependency&gt;                &lt;/dependencies&gt;            &lt;/plugin&gt;```* å»ºç«‹ä»£ç”Ÿæˆå™¨ä½ç½®pomæ–‡ä»¶ä¸­ï¼Œæ˜¾ç¤ºäº†è¦åˆ›å»ºçš„ä»£ç ç”Ÿæˆå™¨çš„ä½ç½®`src/main/resources/generator/generator-config.xml````xml&lt;configurationFile&gt;  src/main/resources/generator/generator-config.xml&lt;/configurationFile&gt;```![image-20210323131202189](https://gitee.com/faro/images/raw/master/img/20210323131202.png)* ä»£ç ç”Ÿæˆå™¨ä»£ç ä»`jdbcConnection`å¼€å§‹ï¼Œåˆ«å¿˜äº†==æ ¹æ®é¡¹ç›®è¿›è¡Œä¿®æ”¹==```xml&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;&lt;!DOCTYPE generatorConfiguration        PUBLIC \"-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN\"        \"http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd\"&gt;&lt;generatorConfiguration&gt;    &lt;context id=\"Mysql\" targetRuntime=\"MyBatis3\" defaultModelType=\"flat\"&gt;        &lt;!-- è‡ªåŠ¨æ£€æŸ¥å…³é”®å­—ï¼Œä¸ºå…³é”®å­—å¢åŠ åå¼•å· --&gt;        &lt;property name=\"autoDelimitKeywords\" value=\"true\"/&gt;        &lt;property name=\"beginningDelimiter\" value=\"`\"/&gt;        &lt;property name=\"endingDelimiter\" value=\"`\"/&gt;        &lt;!--è¦†ç›–ç”ŸæˆXMLæ–‡ä»¶--&gt;        &lt;plugin type=\"org.mybatis.generator.plugins.UnmergeableXmlMappersPlugin\" /&gt;        &lt;!-- ç”Ÿæˆçš„å®ä½“ç±»æ·»åŠ toString()æ–¹æ³• --&gt;        &lt;plugin type=\"org.mybatis.generator.plugins.ToStringPlugin\"/&gt;        &lt;!-- ä¸ç”Ÿæˆæ³¨é‡Š --&gt;        &lt;commentGenerator&gt;            &lt;property name=\"suppressAllComments\" value=\"true\"/&gt;        &lt;/commentGenerator&gt;        &lt;jdbcConnection driverClass=\"com.mysql.cj.jdbc.Driver\"                        connectionURL=\"jdbc:mysql://localhost:3306/wiki?useUnicode=true&amp;characterEncoding=utf-8\"                        userId=\"wiki\"                        password=\"123456\"&gt;        &lt;/jdbcConnection&gt;        &lt;!-- domainç±»çš„ä½ç½® --&gt;        &lt;javaModelGenerator targetProject=\"src/main/java\"                            targetPackage=\"top.faroz.pojo\"/&gt;        &lt;!-- mapper xmlçš„ä½ç½® --&gt;        &lt;sqlMapGenerator targetProject=\"src/main/resources\"                         targetPackage=\"mapper\"/&gt;        &lt;!-- mapperç±»çš„ä½ç½® --&gt;        &lt;javaClientGenerator targetProject=\"src/main/java\"                             targetPackage=\"top.faroz.mapper\"                             type=\"XMLMAPPER\"/&gt;        &lt;table tableName=\"demo\" domainObjectName=\"Demo\"/&gt;        &lt;!--&lt;table tableName=\"ebook\"/&gt;--&gt;        &lt;!--&lt;table tableName=\"category\"/&gt;--&gt;        &lt;!--&lt;table tableName=\"doc\"/&gt;--&gt;        &lt;!--&lt;table tableName=\"content\"/&gt;--&gt;        &lt;!--&lt;table tableName=\"user\"/&gt;--&gt;        &lt;!--&lt;table tableName=\"ebook_snapshot\"/&gt;--&gt;    &lt;/context&gt;&lt;/generatorConfiguration&gt;```* æ–°å»ºä¸€ä¸ªmavenå¯åŠ¨é¡¹![image-20210411015300856](https://gitee.com/faro/images/raw/master/img/20210411015300.png)![image-20210411015346116](https://gitee.com/faro/images/raw/master/img/20210411015346.png)```bashmybatis-generator:generate -e```![image-20210411015516818](https://gitee.com/faro/images/raw/master/img/20210411015516.png)### 7. æµ‹è¯•ä»£ç ç”Ÿæˆå™¨ä»£ç ç”Ÿæˆå™¨çš„å·¥ä½œåŸç†ï¼Œæ˜¯ä»æ•°æ®åº“ä¸­å–å‡ºè¡¨ä¿¡æ¯ï¼Œç„¶åæ ¹æ®è¡¨ä¿¡æ¯ï¼Œå»æ„é€ æŒä¹…å±‚ä»£ç ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬è¦å†å»å»ºä¸€ä¸ªè¡¨* all.sql æ·»åŠ  demo è¡¨çš„å¢åŠ  SQL è¯­å¥ï¼Œå¹¶æ‰§è¡Œ```sql# demoåˆ—è¡¨drop table if exists `demo`;create table `demo` (    `id` bigint not null comment 'id',    `name` varchar(50) comment 'åç§°',    primary key (`id`)) engine=innodb default charset =utf8mb4 comment 'æµ‹è¯•';insert into `demo` (id,name) values(2,'æµ‹è¯•2');```* åœ¨ä»£ç ç”Ÿæˆå™¨æœ€åçš„éƒ¨åˆ†ï¼Œå¡«ä¸Šè¦ç”Ÿæˆçš„è¡¨å![image-20210415012438872](https://gitee.com/faro/images/raw/master/img/20210415012439.png)* æ‰§è¡Œ![image-20210415012552449](https://gitee.com/faro/images/raw/master/img/20210415012552.png)* æ‰§è¡ŒæˆåŠŸï¼Œä¼šç”Ÿæˆ 4 ä¸ªæ–°æ–‡ä»¶![image-20210415012630004](https://gitee.com/faro/images/raw/master/img/20210415012630.png)* æˆ‘ä»¬æ¨¡ä»¿ Testï¼Œå»å†™ Demoçš„ Service å’Œ Controller ä»£ç ```java@RestControllerpublic class DemoController {    @Autowired    private DemoService demoService;    @RequestMapping(\"/demo/list\")    public List&lt;Demo&gt; list() {        return demoService.getList();    }}``````java@Servicepublic class DemoService {    @Resource    private DemoMapper demoMapper;    public List&lt;Demo&gt; getList() {        List&lt;Demo&gt; list = demoMapper.selectByExample(null);        return list;    }}```* æ·»åŠ  demo çš„ http æµ‹è¯•è„šæœ¬```httpGET http://localhost:8880/demo/listAccept: application/json###```æµ‹è¯•æˆåŠŸï¼Œè¯´æ˜æˆ‘ä»¬ç”¨ä»£ç ç”Ÿæˆå™¨ç”Ÿæˆçš„ä»£ç æ²¡æœ‰é—®é¢˜![image-20210415013323695](https://gitee.com/faro/images/raw/master/img/20210415013323.png)### 8. è§£å†³å‰åç«¯è·¨åŸŸé—®é¢˜è™½ç„¶ç°åœ¨è¿˜æ²¡æœ‰æ„å»ºå‰ç«¯é¡¹ç›®ï¼Œä½†æ˜¯åé¢ï¼Œä¼šå‡ºç°è·¨åŸŸé—®é¢˜* æ–°å»º CorsConfig ç±»![image-20210415013643183](https://gitee.com/faro/images/raw/master/img/20210415013643.png)* ä»£ç å¦‚ä¸‹ä¸ç”¨æ”¹åŠ¨ï¼Œç›´æ¥ç”¨ï¼Œåˆ«å¿˜äº†åŠ ä¸Š==@Configuration==æ³¨è§£```java@Configurationpublic class CorsConfig implements WebMvcConfigurer {    @Override    public void addCorsMappings(CorsRegistry registry) {        registry.addMapping(\"/**\")                .allowedOriginPatterns(\"*\")                .allowedHeaders(CorsConfiguration.ALL)                .allowedMethods(CorsConfiguration.ALL)                .allowCredentials(true)                .maxAge(3600); // 1å°æ—¶å†…ä¸éœ€è¦å†é¢„æ£€ï¼ˆå‘OPTIONSè¯·æ±‚ï¼‰    }}```### 9. æ·»åŠ é›ªèŠ±ç®—æ³•å·¥å…·ç±»é›ªèŠ±ç®—æ³•ï¼Œç”¨æ¥ç”Ÿæˆå”¯ä¸€ ID* æ–°å»º SnowFlake å·¥å…·ç±»![image-20210415014504164](https://gitee.com/faro/images/raw/master/img/20210415014504.png)* ä»£ç å¦‚ä¸‹åˆ«å¿˜äº†åŠ ä¸Š @Component æ³¨è§£```java@Componentpublic class SnowFlake {    /**     * èµ·å§‹çš„æ—¶é—´æˆ³     */    private final static long START_STMP = 1609459200000L; // 2021-01-01 00:00:00    /**     * æ¯ä¸€éƒ¨åˆ†å ç”¨çš„ä½æ•°     */    private final static long SEQUENCE_BIT = 12; //åºåˆ—å·å ç”¨çš„ä½æ•°    private final static long MACHINE_BIT = 5;   //æœºå™¨æ ‡è¯†å ç”¨çš„ä½æ•°    private final static long DATACENTER_BIT = 5;//æ•°æ®ä¸­å¿ƒå ç”¨çš„ä½æ•°    /**     * æ¯ä¸€éƒ¨åˆ†çš„æœ€å¤§å€¼     */    private final static long MAX_DATACENTER_NUM = -1L ^ (-1L &lt;&lt; DATACENTER_BIT);    private final static long MAX_MACHINE_NUM = -1L ^ (-1L &lt;&lt; MACHINE_BIT);    private final static long MAX_SEQUENCE = -1L ^ (-1L &lt;&lt; SEQUENCE_BIT);    /**     * æ¯ä¸€éƒ¨åˆ†å‘å·¦çš„ä½ç§»     */    private final static long MACHINE_LEFT = SEQUENCE_BIT;    private final static long DATACENTER_LEFT = SEQUENCE_BIT + MACHINE_BIT;    private final static long TIMESTMP_LEFT = DATACENTER_LEFT + DATACENTER_BIT;    private long datacenterId = 1;  //æ•°æ®ä¸­å¿ƒ    private long machineId = 1;     //æœºå™¨æ ‡è¯†    private long sequence = 0L; //åºåˆ—å·    private long lastStmp = -1L;//ä¸Šä¸€æ¬¡æ—¶é—´æˆ³    public SnowFlake() {    }    public SnowFlake(long datacenterId, long machineId) {        if (datacenterId &gt; MAX_DATACENTER_NUM || datacenterId &lt; 0) {            throw new IllegalArgumentException(\"datacenterId can't be greater than MAX_DATACENTER_NUM or less than 0\");        }        if (machineId &gt; MAX_MACHINE_NUM || machineId &lt; 0) {            throw new IllegalArgumentException(\"machineId can't be greater than MAX_MACHINE_NUM or less than 0\");        }        this.datacenterId = datacenterId;        this.machineId = machineId;    }    /**     * äº§ç”Ÿä¸‹ä¸€ä¸ªID     *     * @return     */    public synchronized long nextId() {        long currStmp = getNewstmp();        if (currStmp &lt; lastStmp) {            throw new RuntimeException(\"Clock moved backwards.  Refusing to generate id\");        }        if (currStmp == lastStmp) {            //ç›¸åŒæ¯«ç§’å†…ï¼Œåºåˆ—å·è‡ªå¢            sequence = (sequence + 1) &amp; MAX_SEQUENCE;            //åŒä¸€æ¯«ç§’çš„åºåˆ—æ•°å·²ç»è¾¾åˆ°æœ€å¤§            if (sequence == 0L) {                currStmp = getNextMill();            }        } else {            //ä¸åŒæ¯«ç§’å†…ï¼Œåºåˆ—å·ç½®ä¸º0            sequence = 0L;        }        lastStmp = currStmp;        return (currStmp - START_STMP) &lt;&lt; TIMESTMP_LEFT //æ—¶é—´æˆ³éƒ¨åˆ†                | datacenterId &lt;&lt; DATACENTER_LEFT       //æ•°æ®ä¸­å¿ƒéƒ¨åˆ†                | machineId &lt;&lt; MACHINE_LEFT             //æœºå™¨æ ‡è¯†éƒ¨åˆ†                | sequence;                             //åºåˆ—å·éƒ¨åˆ†    }    private long getNextMill() {        long mill = getNewstmp();        while (mill &lt;= lastStmp) {            mill = getNewstmp();        }        return mill;    }    private long getNewstmp() {        return System.currentTimeMillis();    }    // public static void main(String[] args) throws ParseException {    //     // æ—¶é—´æˆ³    //     // System.out.println(System.currentTimeMillis());    //     // System.out.println(new Date().getTime());    //     //    //     // String dateTime = \"2021-01-01 08:00:00\";    //     // SimpleDateFormat sdf = new SimpleDateFormat(\"yyyy-MM-dd hh:mm:ss\");    //     // System.out.println(sdf.parse(dateTime).getTime());    //    //     SnowFlake snowFlake = new SnowFlake(1, 1);    //    //     long start = System.currentTimeMillis();    //     for (int i = 0; i &lt; 10; i++) {    //         System.out.println(snowFlake.nextId());    //         System.out.println(System.currentTimeMillis() - start);    //     }    // }}```### 10. æ·»åŠ  AOPAOP ç”¨æ¥æ‰“å°æ¥å£æ—¥å¿—ï¼Œæ–¹ä¾¿åæœŸè°ƒè¯•* Maven ä¸­å¼•å…¥ fastjsonï¼Œå› ä¸º æˆ‘ä»¬çš„ç±»ä¸­è¦ç”¨```xml &lt;!--fastjson--&gt;&lt;dependency&gt;  &lt;groupId&gt;com.alibaba&lt;/groupId&gt;  &lt;artifactId&gt;fastjson&lt;/artifactId&gt;  &lt;version&gt;1.2.70&lt;/version&gt;&lt;/dependency&gt;```* Maven å¼•å…¥ AOP```xml&lt;!--å¯¼å…¥aop--&gt;&lt;dependency&gt;  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;  &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;&lt;/dependency&gt;```* æ·»åŠ  RequestContext å·¥å…·ç±»è¿™ä¸ªæ˜¯åæœŸä¸ºäº†æ‰“å° WebSocket æ—¥å¿—çš„![image-20210415014912415](https://gitee.com/faro/images/raw/master/img/20210415014912.png)```javapublic class RequestContext implements Serializable {    private static ThreadLocal&lt;String&gt; remoteAddr = new ThreadLocal&lt;&gt;();    public static String getRemoteAddr() {        return remoteAddr.get();    }    public static void setRemoteAddr(String remoteAddr) {        weixindemo.util.RequestContext.remoteAddr.set(remoteAddr);    }}```* æ–°å»º aspect åŒ…ï¼Œå¹¶æ–°å»º LogAspect ç±»![image-20210415013942484](https://gitee.com/faro/images/raw/master/img/20210415013942.png)**LogAspect ä»£ç å¦‚ä¸‹:**åˆ‡ç‚¹çš„ä»£ç ï¼Œæˆ‘ä»¬è¦ä¾æ®é¡¹ç›®ä¿®æ”¹![image-20210415015319943](https://gitee.com/faro/images/raw/master/img/20210415015320.png)```java@Aspect@Componentpublic class LogAspect {    private final static Logger LOG = LoggerFactory.getLogger(weixindemo.aspect.LogAspect.class);    @Resource    private SnowFlake snowFlake;    /** å®šä¹‰ä¸€ä¸ªåˆ‡ç‚¹ */    @Pointcut(\"execution(public * weixindemo.controller..*Controller.*(..))\")    public void controllerPointcut() {}    // @Resource    // private SnowFlake snowFlake;    @Before(\"controllerPointcut()\")    public void doBefore(JoinPoint joinPoint) throws Throwable {        // å¢åŠ æ—¥å¿—æµæ°´å·        MDC.put(\"LOG_ID\", String.valueOf(snowFlake.nextId()));        // å¼€å§‹æ‰“å°è¯·æ±‚æ—¥å¿—        ServletRequestAttributes attributes = (ServletRequestAttributes) RequestContextHolder.getRequestAttributes();        HttpServletRequest request = attributes.getRequest();        Signature signature = joinPoint.getSignature();        String name = signature.getName();        // æ‰“å°è¯·æ±‚ä¿¡æ¯        LOG.info(\"------------- å¼€å§‹ -------------\");        LOG.info(\"è¯·æ±‚åœ°å€: {} {}\", request.getRequestURL().toString(), request.getMethod());        LOG.info(\"ç±»åæ–¹æ³•: {}.{}\", signature.getDeclaringTypeName(), name);        LOG.info(\"è¿œç¨‹åœ°å€: {}\", request.getRemoteAddr());        RequestContext.setRemoteAddr(getRemoteIp(request));        // æ‹¿åˆ°æ‰€æœ‰çš„å‚æ•°        Object[] args = joinPoint.getArgs();        // LOG.info(\"è¯·æ±‚å‚æ•°: {}\", JSONObject.toJSONString(args));        Object[] arguments  = new Object[args.length];        for (int i = 0; i &lt; args.length; i++) {            if (args[i] instanceof ServletRequest                    || args[i] instanceof ServletResponse                    || args[i] instanceof MultipartFile) {                continue;            }            arguments[i] = args[i];        }        // æ’é™¤å­—æ®µï¼Œæ•æ„Ÿå­—æ®µæˆ–å¤ªé•¿çš„å­—æ®µä¸æ˜¾ç¤º        String[] excludeProperties = {\"password\", \"file\"};        PropertyPreFilters filters = new PropertyPreFilters();        PropertyPreFilters.MySimplePropertyPreFilter excludefilter = filters.addFilter();        excludefilter.addExcludes(excludeProperties);        LOG.info(\"è¯·æ±‚å‚æ•°: {}\", JSONObject.toJSONString(arguments, excludefilter));    }    @Around(\"controllerPointcut()\")    public Object doAround(ProceedingJoinPoint proceedingJoinPoint) throws Throwable {        long startTime = System.currentTimeMillis();        Object result = proceedingJoinPoint.proceed();        // æ’é™¤å­—æ®µï¼Œæ•æ„Ÿå­—æ®µæˆ–å¤ªé•¿çš„å­—æ®µä¸æ˜¾ç¤º        String[] excludeProperties = {\"password\", \"file\"};        PropertyPreFilters filters = new PropertyPreFilters();        PropertyPreFilters.MySimplePropertyPreFilter excludefilter = filters.addFilter();        excludefilter.addExcludes(excludeProperties);        LOG.info(\"è¿”å›ç»“æœ: {}\", JSONObject.toJSONString(result, excludefilter));        LOG.info(\"------------- ç»“æŸ è€—æ—¶ï¼š{} ms -------------\", System.currentTimeMillis() - startTime);        return result;    }    /**     * ä½¿ç”¨nginxåšåå‘ä»£ç†ï¼Œéœ€è¦ç”¨è¯¥æ–¹æ³•æ‰èƒ½å–åˆ°çœŸå®çš„è¿œç¨‹IP     * å½“æˆ‘ä»¬å‘å¸ƒä¸Šçº¿åï¼Œå› ä¸ºå‰ç«¯ã€åç«¯éƒ½æ˜¯ç”¨80ç«¯å£ï¼Œä¼šå†²çª     * æ‰€ä»¥ç”¨æˆ·è®¿é—®çš„æ—¶å€™ï¼Œéœ€è¦å…ˆå»è®¿é—® nginxï¼Œç„¶åï¼Œè®© nginx å»åå‘ä»£ç†ï¼Œæ‰¾æˆ‘ä»¬è¦è®¿é—®çš„è·¯å¾„     * @param request     * @return     */    public String getRemoteIp(HttpServletRequest request) {        String ip = request.getHeader(\"x-forwarded-for\");        if (ip == null || ip.length() == 0 || \"unknown\".equalsIgnoreCase(ip)) {            ip = request.getHeader(\"Proxy-Client-IP\");        }        if (ip == null || ip.length() == 0 || \"unknown\".equalsIgnoreCase(ip)) {            ip = request.getHeader(\"WL-Proxy-Client-IP\");        }        if (ip == null || ip.length() == 0 || \"unknown\".equalsIgnoreCase(ip)) {            ip = request.getRemoteAddr();        }        return ip;    }}```### 11. è§£å†³å‰åç«¯ Long ç²¾åº¦ä¸¢å¤±é—®é¢˜æˆ‘ä»¬åæœŸä¼šç”¨åˆ° MD5 åŠ å¯†ï¼Œåˆ°æ—¶å€™åç«¯ä¼ åˆ°å‰ç«¯çš„æ—¶å€™ï¼Œå› ä¸º javascript number çš„ç²¾åº¦é—®é¢˜ï¼Œä¼šå‡ºç°æ•°æ®ä¸¢å¤±* é…ç½®æ–‡ä»¶æ–°å¢ JacksonConfig ç±»![image-20210415020223600](https://gitee.com/faro/images/raw/master/img/20210415020223.png)* ä»£ç å¦‚ä¸‹```java@Configurationpublic class JacksonConfig {    @Bean    public ObjectMapper jacksonObjectMapper(Jackson2ObjectMapperBuilder builder) {        ObjectMapper objectMapper = builder.createXmlMapper(false).build();        SimpleModule simpleModule = new SimpleModule();        // simpleModule.addSerializer(Long.class, ToStringSerializer.instance);        simpleModule.addSerializer(Long.class, ToStringSerializer.instance);        objectMapper.registerModule(simpleModule);        return objectMapper;    }}```### 12. æ–°å»º req resp åŒ…æˆ‘ä»¬è¦å°†è¯·æ±‚ä¸è¿”å›åŒ…è£…![image-20210415020648707](https://gitee.com/faro/images/raw/master/img/20210415020648.png)### 13. CommonRespä¸ºäº†æ–¹ä¾¿å‰ç«¯è°ƒç”¨ï¼Œåç«¯çš„ respï¼Œæˆ‘ä»¬å†™ä¸€ä¸ªç»Ÿä¸€çš„è¿”å› CommonResp![image-20210415020805724](https://gitee.com/faro/images/raw/master/img/20210415020805.png)**ä»£ç å¦‚ä¸‹ï¼š**```java@Data@AllArgsConstructor@NoArgsConstructorpublic class CommonResp&lt;T&gt; {    /**     * è¿”å›æ˜¯å¦æˆåŠŸ     */    private boolean isSuccess=true;    /**     * è¿”å›å¤±è´¥æ—¶ï¼Œè¿”å›çš„é”™è¯¯ä¿¡æ¯     */    private String message;    /**     * è¿”å›æˆåŠŸçš„æ—¶å€™ï¼Œè¿”å›çš„å†…å®¹     */    private T content;}```### 14. è‡ªå®šä¹‰å¼‚å¸¸* æ–°å»ºå¼‚å¸¸ç±»`BusinessException`å’Œå¼‚å¸¸ä¿¡æ¯æšä¸¾`BusinessExceptionCode`![image-20210415021357196](https://gitee.com/faro/images/raw/master/img/20210415021357.png)* `BusinessException`ä»£ç ```javapublic class BusinessException extends RuntimeException{    private BusinessExceptionCode code;    public BusinessException (BusinessExceptionCode code) {        /**         * çˆ¶ç±»æœ‰ä¸ªæˆå‘˜å˜é‡  private String desc         * éœ€è¦ä¸ºè¿™ä¸ªæˆå‘˜å˜é‡èµ‹å€¼         */        super(code.getDesc());        this.code = code;    }    public BusinessExceptionCode getCode() {        return code;    }    public void setCode(BusinessExceptionCode code) {        this.code = code;    }    /**     * ä¸å†™å…¥å †æ ˆä¿¡æ¯ï¼Œæé«˜æ€§èƒ½     */    @Override    public Throwable fillInStackTrace() {        return this;    }}```* `BusinessExceptionCode`ä»£ç ```javapublic enum BusinessExceptionCode {    USER_LOGIN_NAME_EXIST(\"ç™»å½•åå·²å­˜åœ¨\"),    LOGIN_USER_ERROR(\"ç”¨æˆ·åä¸å­˜åœ¨æˆ–å¯†ç é”™è¯¯\"),    VOTE_REPEAT(\"æ‚¨å·²ç‚¹èµè¿‡\"),    ;    private String desc;    BusinessExceptionCode(String desc) {        this.desc = desc;    }    public String getDesc() {        return desc;    }    public void setDesc(String desc) {        this.desc = desc;    }}```### 13. ç»Ÿä¸€å¼‚å¸¸å¤„ç†æˆ‘ä»¬æ‰€æœ‰å¼‚å¸¸ï¼Œéƒ½é€šè¿‡è¿™ä¸ªç±»æ¥æ•è·ï¼Œå¹¶ç”Ÿæˆä¸€ä¸ªè¿”å›é”™è¯¯ä¿¡æ¯çš„ CommonResp* æ–°å»º ControllerExceptionHandler ç±»![](https://gitee.com/faro/images/raw/master/img/20210415020947.png)* ä»£ç å¦‚ä¸‹logger è¦æ ¹æ®é¡¹ç›®æ”¹ä¸€ä¸‹```java/** * ç»Ÿä¸€å¼‚å¸¸å¤„ç†ã€æ•°æ®é¢„å¤„ç†ç­‰ * è¯¥ç±»ç”¨äºæ•è·ç³»ç»Ÿå¼¹å‡ºçš„å¼‚å¸¸ * å°†å¼‚å¸¸åŒ…è£…æˆä¸€ä¸ª CommonResp * ä»è€Œæ–¹ä¾¿å‰ç«¯è°ƒç”¨ï¼Œæ˜¾ç¤ºé”™è¯¯ä¿¡æ¯ */@ControllerAdvicepublic class ControllerExceptionHandler {    private static final Logger LOG = LoggerFactory.getLogger(top.faroz.controller.ControllerExceptionHandler.class);    /**     * æ ¡éªŒå¼‚å¸¸ç»Ÿä¸€å¤„ç†     * @param e     * @return     */    @ExceptionHandler(value = BindException.class)    @ResponseBody    public CommonResp validExceptionHandler(BindException e) {        CommonResp commonResp = new CommonResp();        LOG.warn(\"å‚æ•°æ ¡éªŒå¤±è´¥ï¼š{}\", e.getBindingResult().getAllErrors().get(0).getDefaultMessage());        commonResp.setSuccess(false);        commonResp.setMessage(e.getBindingResult().getAllErrors().get(0).getDefaultMessage());        return commonResp;    }    /**     * æ ¡éªŒå¼‚å¸¸ç»Ÿä¸€å¤„ç†     * @param e     * @return     */    @ExceptionHandler(value = BusinessException.class)    @ResponseBody    public CommonResp validExceptionHandler(BusinessException e) {        CommonResp commonResp = new CommonResp();        LOG.warn(\"ä¸šåŠ¡å¼‚å¸¸ï¼š{}\", e.getCode().getDesc());        commonResp.setSuccess(false);        commonResp.setMessage(e.getCode().getDesc());        return commonResp;    }    /**     * æ ¡éªŒå¼‚å¸¸ç»Ÿä¸€å¤„ç†     * @param e     * @return     */    @ExceptionHandler(value = Exception.class)    @ResponseBody    public CommonResp validExceptionHandler(Exception e) {        CommonResp commonResp = new CommonResp();        LOG.error(\"ç³»ç»Ÿå¼‚å¸¸ï¼š\", e);        commonResp.setSuccess(false);        commonResp.setMessage(\"ç³»ç»Ÿå‡ºç°å¼‚å¸¸ï¼Œè¯·è”ç³»ç®¡ç†å‘˜\");        return commonResp;    }}```### 14. æ·»åŠ æ—¥å¿—è®°å½• logback* åœ¨ resource ä¸‹ï¼Œæ–°å»ºlogback-spring.xml æ–‡ä»¶![image-20210411004947139](https://gitee.com/faro/images/raw/master/img/20210411004947.png)* å†™å…¥å†…å®¹```xml&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;&lt;configuration&gt;    &lt;!-- ä¿®æ”¹ä¸€ä¸‹è·¯å¾„--&gt;    &lt;property name=\"PATH\" value=\"./log\"&gt;&lt;/property&gt;    &lt;appender name=\"STDOUT\" class=\"ch.qos.logback.core.ConsoleAppender\"&gt;        &lt;encoder&gt;            &lt;Pattern&gt;%d{yyyy-MM-dd HH:mm:ss.SSS} %highlight(%-5level) %blue(%-50logger{50}:%-4line) %thread %msg%n&lt;/Pattern&gt;            &lt;!--&lt;Pattern&gt;%d{ss.SSS} %highlight(%-5level) %blue(%-30logger{30}:%-4line) %thread %green(%-18X{LOG_ID}) %msg%n&lt;/Pattern&gt;--&gt;        &lt;/encoder&gt;    &lt;/appender&gt;    &lt;appender name=\"TRACE_FILE\" class=\"ch.qos.logback.core.rolling.RollingFileAppender\"&gt;        &lt;file&gt;${PATH}/trace.log&lt;/file&gt;        &lt;rollingPolicy class=\"ch.qos.logback.core.rolling.TimeBasedRollingPolicy\"&gt;            &lt;FileNamePattern&gt;${PATH}/trace.%d{yyyy-MM-dd}.%i.log&lt;/FileNamePattern&gt;            &lt;timeBasedFileNamingAndTriggeringPolicy class=\"ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP\"&gt;                &lt;maxFileSize&gt;10MB&lt;/maxFileSize&gt;            &lt;/timeBasedFileNamingAndTriggeringPolicy&gt;        &lt;/rollingPolicy&gt;        &lt;layout&gt;            &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss.SSS} %-5level %-50logger{50}:%-4line %green(%-18X{LOG_ID}) %msg%n&lt;/pattern&gt;        &lt;/layout&gt;    &lt;/appender&gt;    &lt;appender name=\"ERROR_FILE\" class=\"ch.qos.logback.core.rolling.RollingFileAppender\"&gt;        &lt;file&gt;${PATH}/error.log&lt;/file&gt;        &lt;rollingPolicy class=\"ch.qos.logback.core.rolling.TimeBasedRollingPolicy\"&gt;            &lt;FileNamePattern&gt;${PATH}/error.%d{yyyy-MM-dd}.%i.log&lt;/FileNamePattern&gt;            &lt;timeBasedFileNamingAndTriggeringPolicy class=\"ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP\"&gt;                &lt;maxFileSize&gt;10MB&lt;/maxFileSize&gt;            &lt;/timeBasedFileNamingAndTriggeringPolicy&gt;        &lt;/rollingPolicy&gt;        &lt;layout&gt;            &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss.SSS} %-5level %-50logger{50}:%-4line %green(%-18X{LOG_ID}) %msg%n&lt;/pattern&gt;        &lt;/layout&gt;        &lt;filter class=\"ch.qos.logback.classic.filter.LevelFilter\"&gt;            &lt;level&gt;ERROR&lt;/level&gt;            &lt;onMatch&gt;ACCEPT&lt;/onMatch&gt;            &lt;onMismatch&gt;DENY&lt;/onMismatch&gt;        &lt;/filter&gt;    &lt;/appender&gt;    &lt;root level=\"ERROR\"&gt;        &lt;appender-ref ref=\"ERROR_FILE\" /&gt;    &lt;/root&gt;    &lt;root level=\"TRACE\"&gt;        &lt;appender-ref ref=\"TRACE_FILE\" /&gt;    &lt;/root&gt;    &lt;root level=\"INFO\"&gt;        &lt;appender-ref ref=\"STDOUT\" /&gt;    &lt;/root&gt;&lt;/configuration&gt;```### 15. è‡ªå®šä¹‰ bannerresources ä¸‹æ–°å»º banner.txt![image-20210415023847796](https://gitee.com/faro/images/raw/master/img/20210415023847.png)é‡Œé¢æ”¾ä¸Šè‡ªå®šä¹‰ banner```txt ********     **     *******     *******         ********/**/////     ****   /**////**   **/////**       //////** /**         **//**  /**   /**  **     //**           **  /*******   **  //** /*******  /**      /**          **   /**////   **********/**///**  /**      /**         **    /**      /**//////**/**  //** //**     **         **     /**      /**     /**/**   //** //*******   ***** ********//       //      // //     //   ///////   ///// //////// ```","success":true}
2021-04-16 00:59:37.110 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š9 ms -------------
2021-04-16 00:59:45.524 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:59:45.524 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/list GET
2021-04-16 00:59:45.525 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.list
2021-04-16 00:59:45.525 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:59:45.525 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":5}]
2021-04-16 00:59:45.533 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"list":[{"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Vue å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":2,"name":"Vue å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Python å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":3,"name":"Python å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Mysql å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":4,"name":"Mysql å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"c++çœŸçš„å¾ˆå®¹æ˜“ï¼Œä¸ä¼šæœ‰äººä¸ä¼šå§ï¼Ÿ","docCount":0,"id":5,"name":"21 å¤©å­¦ä¼šC++","viewCount":0,"voteCount":0}],"total":7},"success":true}
2021-04-16 00:59:45.533 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š9 ms -------------
2021-04-16 00:59:46.124 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:59:46.124 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/list GET
2021-04-16 00:59:46.125 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.list
2021-04-16 00:59:46.125 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:59:46.125 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":5}]
2021-04-16 00:59:46.130 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"list":[{"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Vue å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":2,"name":"Vue å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Python å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":3,"name":"Python å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Mysql å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":4,"name":"Mysql å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"c++çœŸçš„å¾ˆå®¹æ˜“ï¼Œä¸ä¼šæœ‰äººä¸ä¼šå§ï¼Ÿ","docCount":0,"id":5,"name":"21 å¤©å­¦ä¼šC++","viewCount":0,"voteCount":0}],"total":7},"success":true}
2021-04-16 00:59:46.130 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2021-04-16 00:59:48.568 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:59:48.568 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/list GET
2021-04-16 00:59:48.569 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.list
2021-04-16 00:59:48.569 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:59:48.569 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":4}]
2021-04-16 00:59:48.575 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"list":[{"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Vue å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":2,"name":"Vue å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Python å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":3,"name":"Python å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Mysql å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":4,"name":"Mysql å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0}],"total":7},"success":true}
2021-04-16 00:59:48.575 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2021-04-16 00:59:48.933 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 00:59:48.933 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/list GET
2021-04-16 00:59:48.934 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.list
2021-04-16 00:59:48.934 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 00:59:48.935 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":4}]
2021-04-16 00:59:48.939 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"list":[{"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Vue å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":2,"name":"Vue å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Python å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":3,"name":"Python å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Mysql å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":4,"name":"Mysql å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0}],"total":7},"success":true}
2021-04-16 00:59:48.939 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2021-04-16 01:00:05.605 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 01:00:05.605 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find/1 GET
2021-04-16 01:00:05.606 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.find
2021-04-16 01:00:05.606 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 01:00:05.606 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [1]
2021-04-16 01:00:05.606 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 01:00:05.607 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2021-04-16 01:00:05.607 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.findContent
2021-04-16 01:00:05.608 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 01:00:05.608 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},"success":true}
2021-04-16 01:00:05.608 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [1]
2021-04-16 01:00:05.608 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š3 ms -------------
2021-04-16 01:00:05.613 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":"# å®Œæ•´é¡¹ç›®æ­å»ºæµç¨‹è™½è¯´ SpringBoot ç›¸è¾ƒäº SSM æ¡†æ¶ï¼Œå¤§å¤§å‡è½»äº†é…ç½®çš„ç¹çï¼Œä½†æ˜¯ï¼Œè¦æ•´åˆ MyBatis ï¼Œç»Ÿä¸€å¼‚å¸¸å¤„ç†ï¼ŒVueç­‰ä¸€ç³»åˆ—ä¸œè¥¿ï¼Œè¿˜æ˜¯è¦è´¹ä¸€ç•ªåŠ²çš„ã€‚è¿™æ¬¡å°†åˆ›å»ºçš„æ•´ä¸ªæµç¨‹è®°å½•ä¸‹æ¥ï¼Œæ–¹ä¾¿ä»¥åçš„é¡¹ç›®æ­å»ºã€‚è¦æ­å»ºä¸€ä¸ªå®Œæˆçš„å‰åç«¯åˆ†ç¦»é¡¹ç›®ï¼Œåˆ†ä¸ºè¿™ä¹ˆå‡ ä¸ªéƒ¨åˆ†ï¼š==æ•°æ®åº“ã€åç«¯ã€å‰ç«¯==å¦‚æœæ˜¯ä¸ºå¾®ä¿¡å°ç¨‹åºæ­å»ºä¸€ä¸ªåç«¯æœåŠ¡ï¼Œé‚£å°±åªè¦çœ‹åˆ°==æ•°æ®åº“ã€åç«¯==å°±å¯ä»¥äº†## æ•°æ®åº“ä¸€èˆ¬åœ¨æ–°å»ºé¡¹ç›®çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¼šé€‰æ‹©ä¸“é—¨ä¸ºè¿™ä¸ªé¡¹ç›®æ–°å»ºä¸€ä¸ªç”¨æˆ·ï¼Œå¹¶ä¸ºè¿™ä¸ªç”¨æˆ·ï¼Œèµ‹äºˆåªå±äºè¿™ä¸€ä¸ªé¡¹ç›®çš„æ‰€æœ‰æƒé™### 1. **è¿æ¥ admin**åªæœ‰ admin æœ‰æ‰€æœ‰æƒé™æˆ‘çš„æ•°æ®åº“ admin çš„è´¦æˆ·åå’Œå¯†ç æ˜¯ï¼š**è´¦æˆ·ï¼š**admin**å¯†ç ï¼š**123![image-20210411002100312](https://gitee.com/faro/images/raw/master/img/20210411003334.png)### 2. **æ–°å»ºæ•°æ®åº“**å…¶å­—ç¬¦ç±»å‹ä¸€å®šè¦é€‰æ‹©==utf8mb4==ï¼Œè¿™æ‰æ˜¯çœŸæ­£çš„ utf8ï¼Œæ”¯æŒè¡¨æƒ…ç¬¦å·![image-20210411002304858](https://gitee.com/faro/images/raw/master/img/20210411002304.png)### 3. **ä¸ºè¿™ä¸ªæ•°æ®åº“ï¼Œä¸“é—¨å»ºä¸€ä¸ªç”¨æˆ·**å¼€å‘ç¯å¢ƒä¸­ï¼Œå°±å°†å¯†ç å’Œç”¨æˆ·åè®¾ç½®æˆä¸€æ ·çš„ï¼Œè¿™æ ·ä¸ä¼šå¿˜è®°host è®¾ç½®ä¸º localhost![image-20210411002742750](https://gitee.com/faro/images/raw/master/img/20210411002742.png)### 4. **ä¸ºè¿™ä¸ªç”¨æˆ·ï¼Œæˆäºˆå¯¹åº”æ•°æ®åº“çš„å…¨éƒ¨æƒé™**![image-20210411003034426](https://gitee.com/faro/images/raw/master/img/20210411003034.png)![image-20210411002821790](https://gitee.com/faro/images/raw/master/img/20210414201958.png)### 5. **å¯¹å½“å‰ç”¨æˆ·ï¼Œå»ºç«‹è¿æ¥**![image-20210411002945727](https://gitee.com/faro/images/raw/master/img/20210411002945.png)## åç«¯å…³äº Mavenã€tomcat çš„ä¸‹è½½é…ç½®ï¼Œè¿™é‡Œå°±ä¸è´¹ç¬”å¢¨å»è®²è§£äº†ã€‚å¦‚æœ‰éœ€è¦ï¼Œå¯ä»¥è‡ªè¡Œç™¾åº¦æŸ¥æ‰¾ã€‚### 1. æ–°å»º SpringBoot é¡¹ç›®* ç‚¹å‡» `SpringInitiallizr`ï¼Œæ–°å»ºé¡¹ç›®![image-20210414200239335](https://gitee.com/faro/images/raw/master/img/20210414200239.png)* é€‰æ‹©é»˜è®¤ä¾èµ–çš„åŒ…![image-20210414200420395](https://gitee.com/faro/images/raw/master/img/20210414200420.png)![image-20210414200533694](https://gitee.com/faro/images/raw/master/img/20210414200533.png)![image-20210414200611051](https://gitee.com/faro/images/raw/master/img/20210414200611.png)* é€‰æ‹©å­˜æ”¾è·¯å¾„![image-20210414200656633](https://gitee.com/faro/images/raw/master/img/20210414200656.png)* æ–°å»ºå®Œæˆåï¼Œé¡¹ç›®ç›®å½•å¦‚ä¸‹![image-20210414200752152](https://gitee.com/faro/images/raw/master/img/20210414200752.png)### 2. æ›´æ”¹å¯åŠ¨ç±»ä½ç½®* æ–°å»º config åŒ…ï¼Œå°†å¯åŠ¨ç±»æ”¾è¿›å»![image-20210414201018806](https://gitee.com/faro/images/raw/master/img/20210414201018.png)* ä¸ºå¯åŠ¨ç±»æ·»åŠ æ³¨è§£æ³¨è§£å†…çš„ä¿¡æ¯ï¼Œæ˜¯é¡¹ç›®åç§°```java@ComponentScan(\"weixindemo\")```![image-20210414201210978](https://gitee.com/faro/images/raw/master/img/20210414201211.png)### 3. IDEA æ•°æ®åº“é…ç½®* IDEA è¿æ¥æ•°æ®åº“![image-20210414220153821](https://gitee.com/faro/images/raw/master/img/20210414220153.png)![image-20210414221502868](https://gitee.com/faro/images/raw/master/img/20210414221502.png)* æ·»åŠ  sql è„šæœ¬æ–°å»º sql æ–‡ä»¶å¤¹ï¼Œå»ºç«‹`all.sql`æ–‡ä»¶![image-20210414221647283](https://gitee.com/faro/images/raw/master/img/20210414221647.png)æˆ‘ä»¬åœ¨ sql è„šæœ¬ä¸­æ·»åŠ æµ‹è¯•ç”¨æ•°æ®ï¼Œå¹¶æ‰§è¡Œ```sql# æµ‹è¯•è¡¨drop table if exists `test`;create table `test` (  `id` bigint not null comment 'id',  `name` varchar(50) comment 'åç§°',  `password` varchar(50) comment 'å¯†ç ',  primary key (`id`)) engine=innodb default charset=utf8mb4 comment='æµ‹è¯•';insert into `test` (id, name, password) values (1, 'æµ‹è¯•', 'password');       ```å¯ä»¥çœ‹åˆ°ï¼Œæ•°æ®åº“å·²å»ºç«‹![image-20210415000115932](https://gitee.com/faro/images/raw/master/img/20210415000131.png)### 4. é…ç½® MyBatis* åœ¨ `resource`æ–‡ä»¶å¤¹ä¸‹ï¼Œæ–°å»º `mapper`æ–‡ä»¶å¤¹è¿™æ˜¯ç”¨æ¥å­˜æ”¾ MyBatis çš„å®ç°çš„![image-20210414201459632](https://gitee.com/faro/images/raw/master/img/20210414201459.png)* æ–°å»º pojo åŒ…pojo åŒ…ç”¨æ¥å­˜æ”¾å®ä½“ç±»![image-20210415000316772](https://gitee.com/faro/images/raw/master/img/20210415000316.png)* åœ¨é¡¹ç›®ä¸‹ï¼Œæ–°å»º mapper åŒ…ï¼Œç”¨æ¥å­˜æ”¾æ¥å£![image-20210415000711989](https://gitee.com/faro/images/raw/master/img/20210415000712.png)* å°†é…ç½®æ–‡ä»¶åç¼€æ”¹ä¸º`.yml`æˆ‘ä¸ªäººä¹ æƒ¯ä½¿ç”¨`.yml`è¿›è¡Œä½ç½®![image-20210414201610045](https://gitee.com/faro/images/raw/master/img/20210414201610.png)* æ·»åŠ  `Mybatis`é…ç½®è¿™é‡Œï¼Œè¦æ·»åŠ æ•°æ®æºï¼Œå’Œ MyBatis çš„é…ç½®ï¼Œéƒ¨åˆ†åœ°æ–¹ï¼Œè¦æ ¹æ®å®é™…é¡¹ç›®ï¼Œè¿›è¡Œä¿®æ”¹```ymlspring:  datasource:    url: jdbc:mysql://localhost:3306/weixindemo?useUnicode=true&amp;characterEncoding=utf-8    username: weixindemo    password: weixindemo    driver-class-name: com.mysql.cj.jdbc.Driver        # æ•´åˆMybatismybatis:  # ** è¡¨ç¤ºåœ¨mapperä¸‹ä¸ç®¡æœ‰å¤šå°‘æ–‡ä»¶å¤¹ï¼Œéƒ½å¯ä»¥å…¨éƒ¨è¯†åˆ«  mapper-locations: classpath:/mapper/**/*.xml  type-aliases-package: weixindemo.pojo  #  æ‰“å°sqlç›¸å…³çš„æ—¥å¿—ä¿¡æ¯  configuration:    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl```![image-20210415000535841](https://gitee.com/faro/images/raw/master/img/20210415000535.png)* æ·»åŠ ç«¯å£é…ç½®å› ä¸º vue ä¹Ÿæ˜¯ç”¨çš„8080ç«¯å£ï¼Œæˆ‘ä»¬ä¸èƒ½å’Œå®ƒé‡äº†```ymlserver:  port: 8880```* å¯åŠ¨ç±»æ·»åŠ `mapper`æ¥å£æ‰«æè·¯å¾„```java@MapperScan(\"weixindemo.mapper\") //mybatis mapperæ¥å£æ‰«æ```![image-20210415000824262](https://gitee.com/faro/images/raw/master/img/20210415000824.png)### 5. MVC åŒ…å»ºç«‹æˆ‘ä»¬è¿˜è¦å»ºç«‹ ==service==ï¼Œ==util==ï¼Œ==controller==åŒ…![image-20210415001226689](https://gitee.com/faro/images/raw/master/img/20210415001226.png)![image-20210415001237989](https://gitee.com/faro/images/raw/master/img/20210415001238.png)### 5. æµ‹è¯• Mybatis é…ç½®é…ç½®åˆ°è¿™ä¸€æ­¥ï¼Œè¦å¯¹ä¹‹å‰çš„é…ç½®ï¼Œè¿›è¡Œä¸€ä¸ªæµ‹è¯•* pojo ä¸­ï¼Œæ–°å»º Test å®ä½“ç±»![image-20210415001028711](https://gitee.com/faro/images/raw/master/img/20210415001028.png)```java@Data@AllArgsConstructor@NoArgsConstructorpublic class Test {    private Integer id;    private String name;}```* mapper åŒ…ä¸­ï¼Œæ–°å»º TestMapper æ¥å£![image-20210415001403532](https://gitee.com/faro/images/raw/master/img/20210415001420.png)```java@Repository@Mapperpublic interface TestMapper {    List&lt;Test&gt; getList();}```* resources ä¸‹çš„ mapper æ–‡ä»¶å¤¹ä¸­ï¼Œå¢åŠ  TestMapper.xml å®ç°  ![image-20210415002153386](https://gitee.com/faro/images/raw/master/img/20210415002153.png)å…·ä½“å†…å®¹ï¼Œè¦æ ¹æ®å®é™…é¡¹ç›®ä¿®æ”¹```xml&lt;?xml version=\"1.0\" encoding=\"UTF-8\" ?&gt;&lt;!DOCTYPE mapper PUBLIC \"-//mybatis.org//DTD Mapper 3.0//EN\"    \"http://mybatis.org/dtd/mybatis-3-mapper.dtd\"&gt;&lt;!--namespaceè¦å’Œæ¥å£çš„ä½ç½®å’Œåå­—å¯¹åº”--&gt;&lt;mapper namespace=\"weixindemo.mapper.TestMapper\"&gt;    &lt;select id=\"getList\" resultType=\"weixindemo.pojo.Test\"&gt;        select * from test    &lt;/select&gt;&lt;/mapper&gt;```![image-20210415002240288](https://gitee.com/faro/images/raw/master/img/20210415002240.png)* åœ¨ service åŒ…ä¸‹ï¼Œæ–°å»º TestService![](https://gitee.com/faro/images/raw/master/img/20210415002439.png)åˆ«å¿˜äº†åŠ ä¸Š @Service æ³¨è§£```java@Servicepublic class TestService {    @Autowired    private TestMapper mapper;    public List&lt;Test&gt; getList() {        return mapper.getList();    }}```* åœ¨ controlleråŒ…ä¸‹ï¼Œæ–°å»º TestController![image-20210415002611361](https://gitee.com/faro/images/raw/master/img/20210415002611.png)```java@RestControllerpublic class TestController {    @Autowired    private TestService testService;        @RequestMapping(\"/test/list\")    public List&lt;Test&gt; list() {        return testService.getList();    }}```* é‡å¯é¡¹ç›®* æ–°å»º http æ–‡ä»¶ï¼Œç¼–å†™ http æµ‹è¯•è„šæœ¬ï¼Œæ‰§è¡Œ![image-20210415002803589](https://gitee.com/faro/images/raw/master/img/20210415002803.png)```httpGET http://localhost:8880/test/listAccept: application/json###```æœ€åæˆåŠŸä»æ¥å£ä¸­è·å–æ•°æ®åº“ä¸­çš„æ•°æ®ï¼Œè¯´æ˜æˆ‘ä»¬ä¹‹å‰é…ç½®çš„éƒ½æ²¡æœ‰é”™è¯¯ï¼Œå¯ä»¥è¿›è¡Œä¸‹é¢çš„æ“ä½œ![image-20210415003021769](https://gitee.com/faro/images/raw/master/img/20210415003021.png)### 6. MyBatis ä»£ç ç”Ÿæˆå™¨æˆ‘ä»¬ä¸å¯èƒ½å»å†™æ‰€æœ‰æŒä¹…å±‚çš„å®ç°ï¼Œä¸šåŠ¡ä¸­ï¼Œè¿™éƒ¨åˆ†éƒ½æ˜¯è‡ªåŠ¨ç”Ÿæˆçš„* å¯¼å…¥ Maven ä¾èµ–æ³¨æ„ï¼Œ==æ˜¯æ”¾åœ¨`plugiuns`ä¸‹é¢çš„==```xml&lt;!-- mybatis generator è‡ªåŠ¨ç”Ÿæˆä»£ç æ’ä»¶ --&gt;            &lt;plugin&gt;                &lt;groupId&gt;org.mybatis.generator&lt;/groupId&gt;                &lt;artifactId&gt;mybatis-generator-maven-plugin&lt;/artifactId&gt;                &lt;version&gt;1.4.0&lt;/version&gt;                &lt;configuration&gt;                    &lt;configurationFile&gt;src/main/resources/generator/generator-config.xml&lt;/configurationFile&gt;                    &lt;overwrite&gt;true&lt;/overwrite&gt;                    &lt;verbose&gt;true&lt;/verbose&gt;                &lt;/configuration&gt;                &lt;dependencies&gt;                    &lt;dependency&gt;                        &lt;groupId&gt;mysql&lt;/groupId&gt;                        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;                        &lt;version&gt;8.0.22&lt;/version&gt;                    &lt;/dependency&gt;                &lt;/dependencies&gt;            &lt;/plugin&gt;```* å»ºç«‹ä»£ç”Ÿæˆå™¨ä½ç½®pomæ–‡ä»¶ä¸­ï¼Œæ˜¾ç¤ºäº†è¦åˆ›å»ºçš„ä»£ç ç”Ÿæˆå™¨çš„ä½ç½®`src/main/resources/generator/generator-config.xml````xml&lt;configurationFile&gt;  src/main/resources/generator/generator-config.xml&lt;/configurationFile&gt;```![image-20210323131202189](https://gitee.com/faro/images/raw/master/img/20210323131202.png)* ä»£ç ç”Ÿæˆå™¨ä»£ç ä»`jdbcConnection`å¼€å§‹ï¼Œåˆ«å¿˜äº†==æ ¹æ®é¡¹ç›®è¿›è¡Œä¿®æ”¹==```xml&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;&lt;!DOCTYPE generatorConfiguration        PUBLIC \"-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN\"        \"http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd\"&gt;&lt;generatorConfiguration&gt;    &lt;context id=\"Mysql\" targetRuntime=\"MyBatis3\" defaultModelType=\"flat\"&gt;        &lt;!-- è‡ªåŠ¨æ£€æŸ¥å…³é”®å­—ï¼Œä¸ºå…³é”®å­—å¢åŠ åå¼•å· --&gt;        &lt;property name=\"autoDelimitKeywords\" value=\"true\"/&gt;        &lt;property name=\"beginningDelimiter\" value=\"`\"/&gt;        &lt;property name=\"endingDelimiter\" value=\"`\"/&gt;        &lt;!--è¦†ç›–ç”ŸæˆXMLæ–‡ä»¶--&gt;        &lt;plugin type=\"org.mybatis.generator.plugins.UnmergeableXmlMappersPlugin\" /&gt;        &lt;!-- ç”Ÿæˆçš„å®ä½“ç±»æ·»åŠ toString()æ–¹æ³• --&gt;        &lt;plugin type=\"org.mybatis.generator.plugins.ToStringPlugin\"/&gt;        &lt;!-- ä¸ç”Ÿæˆæ³¨é‡Š --&gt;        &lt;commentGenerator&gt;            &lt;property name=\"suppressAllComments\" value=\"true\"/&gt;        &lt;/commentGenerator&gt;        &lt;jdbcConnection driverClass=\"com.mysql.cj.jdbc.Driver\"                        connectionURL=\"jdbc:mysql://localhost:3306/wiki?useUnicode=true&amp;characterEncoding=utf-8\"                        userId=\"wiki\"                        password=\"123456\"&gt;        &lt;/jdbcConnection&gt;        &lt;!-- domainç±»çš„ä½ç½® --&gt;        &lt;javaModelGenerator targetProject=\"src/main/java\"                            targetPackage=\"top.faroz.pojo\"/&gt;        &lt;!-- mapper xmlçš„ä½ç½® --&gt;        &lt;sqlMapGenerator targetProject=\"src/main/resources\"                         targetPackage=\"mapper\"/&gt;        &lt;!-- mapperç±»çš„ä½ç½® --&gt;        &lt;javaClientGenerator targetProject=\"src/main/java\"                             targetPackage=\"top.faroz.mapper\"                             type=\"XMLMAPPER\"/&gt;        &lt;table tableName=\"demo\" domainObjectName=\"Demo\"/&gt;        &lt;!--&lt;table tableName=\"ebook\"/&gt;--&gt;        &lt;!--&lt;table tableName=\"category\"/&gt;--&gt;        &lt;!--&lt;table tableName=\"doc\"/&gt;--&gt;        &lt;!--&lt;table tableName=\"content\"/&gt;--&gt;        &lt;!--&lt;table tableName=\"user\"/&gt;--&gt;        &lt;!--&lt;table tableName=\"ebook_snapshot\"/&gt;--&gt;    &lt;/context&gt;&lt;/generatorConfiguration&gt;```* æ–°å»ºä¸€ä¸ªmavenå¯åŠ¨é¡¹![image-20210411015300856](https://gitee.com/faro/images/raw/master/img/20210411015300.png)![image-20210411015346116](https://gitee.com/faro/images/raw/master/img/20210411015346.png)```bashmybatis-generator:generate -e```![image-20210411015516818](https://gitee.com/faro/images/raw/master/img/20210411015516.png)### 7. æµ‹è¯•ä»£ç ç”Ÿæˆå™¨ä»£ç ç”Ÿæˆå™¨çš„å·¥ä½œåŸç†ï¼Œæ˜¯ä»æ•°æ®åº“ä¸­å–å‡ºè¡¨ä¿¡æ¯ï¼Œç„¶åæ ¹æ®è¡¨ä¿¡æ¯ï¼Œå»æ„é€ æŒä¹…å±‚ä»£ç ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬è¦å†å»å»ºä¸€ä¸ªè¡¨* all.sql æ·»åŠ  demo è¡¨çš„å¢åŠ  SQL è¯­å¥ï¼Œå¹¶æ‰§è¡Œ```sql# demoåˆ—è¡¨drop table if exists `demo`;create table `demo` (    `id` bigint not null comment 'id',    `name` varchar(50) comment 'åç§°',    primary key (`id`)) engine=innodb default charset =utf8mb4 comment 'æµ‹è¯•';insert into `demo` (id,name) values(2,'æµ‹è¯•2');```* åœ¨ä»£ç ç”Ÿæˆå™¨æœ€åçš„éƒ¨åˆ†ï¼Œå¡«ä¸Šè¦ç”Ÿæˆçš„è¡¨å![image-20210415012438872](https://gitee.com/faro/images/raw/master/img/20210415012439.png)* æ‰§è¡Œ![image-20210415012552449](https://gitee.com/faro/images/raw/master/img/20210415012552.png)* æ‰§è¡ŒæˆåŠŸï¼Œä¼šç”Ÿæˆ 4 ä¸ªæ–°æ–‡ä»¶![image-20210415012630004](https://gitee.com/faro/images/raw/master/img/20210415012630.png)* æˆ‘ä»¬æ¨¡ä»¿ Testï¼Œå»å†™ Demoçš„ Service å’Œ Controller ä»£ç ```java@RestControllerpublic class DemoController {    @Autowired    private DemoService demoService;    @RequestMapping(\"/demo/list\")    public List&lt;Demo&gt; list() {        return demoService.getList();    }}``````java@Servicepublic class DemoService {    @Resource    private DemoMapper demoMapper;    public List&lt;Demo&gt; getList() {        List&lt;Demo&gt; list = demoMapper.selectByExample(null);        return list;    }}```* æ·»åŠ  demo çš„ http æµ‹è¯•è„šæœ¬```httpGET http://localhost:8880/demo/listAccept: application/json###```æµ‹è¯•æˆåŠŸï¼Œè¯´æ˜æˆ‘ä»¬ç”¨ä»£ç ç”Ÿæˆå™¨ç”Ÿæˆçš„ä»£ç æ²¡æœ‰é—®é¢˜![image-20210415013323695](https://gitee.com/faro/images/raw/master/img/20210415013323.png)### 8. è§£å†³å‰åç«¯è·¨åŸŸé—®é¢˜è™½ç„¶ç°åœ¨è¿˜æ²¡æœ‰æ„å»ºå‰ç«¯é¡¹ç›®ï¼Œä½†æ˜¯åé¢ï¼Œä¼šå‡ºç°è·¨åŸŸé—®é¢˜* æ–°å»º CorsConfig ç±»![image-20210415013643183](https://gitee.com/faro/images/raw/master/img/20210415013643.png)* ä»£ç å¦‚ä¸‹ä¸ç”¨æ”¹åŠ¨ï¼Œç›´æ¥ç”¨ï¼Œåˆ«å¿˜äº†åŠ ä¸Š==@Configuration==æ³¨è§£```java@Configurationpublic class CorsConfig implements WebMvcConfigurer {    @Override    public void addCorsMappings(CorsRegistry registry) {        registry.addMapping(\"/**\")                .allowedOriginPatterns(\"*\")                .allowedHeaders(CorsConfiguration.ALL)                .allowedMethods(CorsConfiguration.ALL)                .allowCredentials(true)                .maxAge(3600); // 1å°æ—¶å†…ä¸éœ€è¦å†é¢„æ£€ï¼ˆå‘OPTIONSè¯·æ±‚ï¼‰    }}```### 9. æ·»åŠ é›ªèŠ±ç®—æ³•å·¥å…·ç±»é›ªèŠ±ç®—æ³•ï¼Œç”¨æ¥ç”Ÿæˆå”¯ä¸€ ID* æ–°å»º SnowFlake å·¥å…·ç±»![image-20210415014504164](https://gitee.com/faro/images/raw/master/img/20210415014504.png)* ä»£ç å¦‚ä¸‹åˆ«å¿˜äº†åŠ ä¸Š @Component æ³¨è§£```java@Componentpublic class SnowFlake {    /**     * èµ·å§‹çš„æ—¶é—´æˆ³     */    private final static long START_STMP = 1609459200000L; // 2021-01-01 00:00:00    /**     * æ¯ä¸€éƒ¨åˆ†å ç”¨çš„ä½æ•°     */    private final static long SEQUENCE_BIT = 12; //åºåˆ—å·å ç”¨çš„ä½æ•°    private final static long MACHINE_BIT = 5;   //æœºå™¨æ ‡è¯†å ç”¨çš„ä½æ•°    private final static long DATACENTER_BIT = 5;//æ•°æ®ä¸­å¿ƒå ç”¨çš„ä½æ•°    /**     * æ¯ä¸€éƒ¨åˆ†çš„æœ€å¤§å€¼     */    private final static long MAX_DATACENTER_NUM = -1L ^ (-1L &lt;&lt; DATACENTER_BIT);    private final static long MAX_MACHINE_NUM = -1L ^ (-1L &lt;&lt; MACHINE_BIT);    private final static long MAX_SEQUENCE = -1L ^ (-1L &lt;&lt; SEQUENCE_BIT);    /**     * æ¯ä¸€éƒ¨åˆ†å‘å·¦çš„ä½ç§»     */    private final static long MACHINE_LEFT = SEQUENCE_BIT;    private final static long DATACENTER_LEFT = SEQUENCE_BIT + MACHINE_BIT;    private final static long TIMESTMP_LEFT = DATACENTER_LEFT + DATACENTER_BIT;    private long datacenterId = 1;  //æ•°æ®ä¸­å¿ƒ    private long machineId = 1;     //æœºå™¨æ ‡è¯†    private long sequence = 0L; //åºåˆ—å·    private long lastStmp = -1L;//ä¸Šä¸€æ¬¡æ—¶é—´æˆ³    public SnowFlake() {    }    public SnowFlake(long datacenterId, long machineId) {        if (datacenterId &gt; MAX_DATACENTER_NUM || datacenterId &lt; 0) {            throw new IllegalArgumentException(\"datacenterId can't be greater than MAX_DATACENTER_NUM or less than 0\");        }        if (machineId &gt; MAX_MACHINE_NUM || machineId &lt; 0) {            throw new IllegalArgumentException(\"machineId can't be greater than MAX_MACHINE_NUM or less than 0\");        }        this.datacenterId = datacenterId;        this.machineId = machineId;    }    /**     * äº§ç”Ÿä¸‹ä¸€ä¸ªID     *     * @return     */    public synchronized long nextId() {        long currStmp = getNewstmp();        if (currStmp &lt; lastStmp) {            throw new RuntimeException(\"Clock moved backwards.  Refusing to generate id\");        }        if (currStmp == lastStmp) {            //ç›¸åŒæ¯«ç§’å†…ï¼Œåºåˆ—å·è‡ªå¢            sequence = (sequence + 1) &amp; MAX_SEQUENCE;            //åŒä¸€æ¯«ç§’çš„åºåˆ—æ•°å·²ç»è¾¾åˆ°æœ€å¤§            if (sequence == 0L) {                currStmp = getNextMill();            }        } else {            //ä¸åŒæ¯«ç§’å†…ï¼Œåºåˆ—å·ç½®ä¸º0            sequence = 0L;        }        lastStmp = currStmp;        return (currStmp - START_STMP) &lt;&lt; TIMESTMP_LEFT //æ—¶é—´æˆ³éƒ¨åˆ†                | datacenterId &lt;&lt; DATACENTER_LEFT       //æ•°æ®ä¸­å¿ƒéƒ¨åˆ†                | machineId &lt;&lt; MACHINE_LEFT             //æœºå™¨æ ‡è¯†éƒ¨åˆ†                | sequence;                             //åºåˆ—å·éƒ¨åˆ†    }    private long getNextMill() {        long mill = getNewstmp();        while (mill &lt;= lastStmp) {            mill = getNewstmp();        }        return mill;    }    private long getNewstmp() {        return System.currentTimeMillis();    }    // public static void main(String[] args) throws ParseException {    //     // æ—¶é—´æˆ³    //     // System.out.println(System.currentTimeMillis());    //     // System.out.println(new Date().getTime());    //     //    //     // String dateTime = \"2021-01-01 08:00:00\";    //     // SimpleDateFormat sdf = new SimpleDateFormat(\"yyyy-MM-dd hh:mm:ss\");    //     // System.out.println(sdf.parse(dateTime).getTime());    //    //     SnowFlake snowFlake = new SnowFlake(1, 1);    //    //     long start = System.currentTimeMillis();    //     for (int i = 0; i &lt; 10; i++) {    //         System.out.println(snowFlake.nextId());    //         System.out.println(System.currentTimeMillis() - start);    //     }    // }}```### 10. æ·»åŠ  AOPAOP ç”¨æ¥æ‰“å°æ¥å£æ—¥å¿—ï¼Œæ–¹ä¾¿åæœŸè°ƒè¯•* Maven ä¸­å¼•å…¥ fastjsonï¼Œå› ä¸º æˆ‘ä»¬çš„ç±»ä¸­è¦ç”¨```xml &lt;!--fastjson--&gt;&lt;dependency&gt;  &lt;groupId&gt;com.alibaba&lt;/groupId&gt;  &lt;artifactId&gt;fastjson&lt;/artifactId&gt;  &lt;version&gt;1.2.70&lt;/version&gt;&lt;/dependency&gt;```* Maven å¼•å…¥ AOP```xml&lt;!--å¯¼å…¥aop--&gt;&lt;dependency&gt;  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;  &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;&lt;/dependency&gt;```* æ·»åŠ  RequestContext å·¥å…·ç±»è¿™ä¸ªæ˜¯åæœŸä¸ºäº†æ‰“å° WebSocket æ—¥å¿—çš„![image-20210415014912415](https://gitee.com/faro/images/raw/master/img/20210415014912.png)```javapublic class RequestContext implements Serializable {    private static ThreadLocal&lt;String&gt; remoteAddr = new ThreadLocal&lt;&gt;();    public static String getRemoteAddr() {        return remoteAddr.get();    }    public static void setRemoteAddr(String remoteAddr) {        weixindemo.util.RequestContext.remoteAddr.set(remoteAddr);    }}```* æ–°å»º aspect åŒ…ï¼Œå¹¶æ–°å»º LogAspect ç±»![image-20210415013942484](https://gitee.com/faro/images/raw/master/img/20210415013942.png)**LogAspect ä»£ç å¦‚ä¸‹:**åˆ‡ç‚¹çš„ä»£ç ï¼Œæˆ‘ä»¬è¦ä¾æ®é¡¹ç›®ä¿®æ”¹![image-20210415015319943](https://gitee.com/faro/images/raw/master/img/20210415015320.png)```java@Aspect@Componentpublic class LogAspect {    private final static Logger LOG = LoggerFactory.getLogger(weixindemo.aspect.LogAspect.class);    @Resource    private SnowFlake snowFlake;    /** å®šä¹‰ä¸€ä¸ªåˆ‡ç‚¹ */    @Pointcut(\"execution(public * weixindemo.controller..*Controller.*(..))\")    public void controllerPointcut() {}    // @Resource    // private SnowFlake snowFlake;    @Before(\"controllerPointcut()\")    public void doBefore(JoinPoint joinPoint) throws Throwable {        // å¢åŠ æ—¥å¿—æµæ°´å·        MDC.put(\"LOG_ID\", String.valueOf(snowFlake.nextId()));        // å¼€å§‹æ‰“å°è¯·æ±‚æ—¥å¿—        ServletRequestAttributes attributes = (ServletRequestAttributes) RequestContextHolder.getRequestAttributes();        HttpServletRequest request = attributes.getRequest();        Signature signature = joinPoint.getSignature();        String name = signature.getName();        // æ‰“å°è¯·æ±‚ä¿¡æ¯        LOG.info(\"------------- å¼€å§‹ -------------\");        LOG.info(\"è¯·æ±‚åœ°å€: {} {}\", request.getRequestURL().toString(), request.getMethod());        LOG.info(\"ç±»åæ–¹æ³•: {}.{}\", signature.getDeclaringTypeName(), name);        LOG.info(\"è¿œç¨‹åœ°å€: {}\", request.getRemoteAddr());        RequestContext.setRemoteAddr(getRemoteIp(request));        // æ‹¿åˆ°æ‰€æœ‰çš„å‚æ•°        Object[] args = joinPoint.getArgs();        // LOG.info(\"è¯·æ±‚å‚æ•°: {}\", JSONObject.toJSONString(args));        Object[] arguments  = new Object[args.length];        for (int i = 0; i &lt; args.length; i++) {            if (args[i] instanceof ServletRequest                    || args[i] instanceof ServletResponse                    || args[i] instanceof MultipartFile) {                continue;            }            arguments[i] = args[i];        }        // æ’é™¤å­—æ®µï¼Œæ•æ„Ÿå­—æ®µæˆ–å¤ªé•¿çš„å­—æ®µä¸æ˜¾ç¤º        String[] excludeProperties = {\"password\", \"file\"};        PropertyPreFilters filters = new PropertyPreFilters();        PropertyPreFilters.MySimplePropertyPreFilter excludefilter = filters.addFilter();        excludefilter.addExcludes(excludeProperties);        LOG.info(\"è¯·æ±‚å‚æ•°: {}\", JSONObject.toJSONString(arguments, excludefilter));    }    @Around(\"controllerPointcut()\")    public Object doAround(ProceedingJoinPoint proceedingJoinPoint) throws Throwable {        long startTime = System.currentTimeMillis();        Object result = proceedingJoinPoint.proceed();        // æ’é™¤å­—æ®µï¼Œæ•æ„Ÿå­—æ®µæˆ–å¤ªé•¿çš„å­—æ®µä¸æ˜¾ç¤º        String[] excludeProperties = {\"password\", \"file\"};        PropertyPreFilters filters = new PropertyPreFilters();        PropertyPreFilters.MySimplePropertyPreFilter excludefilter = filters.addFilter();        excludefilter.addExcludes(excludeProperties);        LOG.info(\"è¿”å›ç»“æœ: {}\", JSONObject.toJSONString(result, excludefilter));        LOG.info(\"------------- ç»“æŸ è€—æ—¶ï¼š{} ms -------------\", System.currentTimeMillis() - startTime);        return result;    }    /**     * ä½¿ç”¨nginxåšåå‘ä»£ç†ï¼Œéœ€è¦ç”¨è¯¥æ–¹æ³•æ‰èƒ½å–åˆ°çœŸå®çš„è¿œç¨‹IP     * å½“æˆ‘ä»¬å‘å¸ƒä¸Šçº¿åï¼Œå› ä¸ºå‰ç«¯ã€åç«¯éƒ½æ˜¯ç”¨80ç«¯å£ï¼Œä¼šå†²çª     * æ‰€ä»¥ç”¨æˆ·è®¿é—®çš„æ—¶å€™ï¼Œéœ€è¦å…ˆå»è®¿é—® nginxï¼Œç„¶åï¼Œè®© nginx å»åå‘ä»£ç†ï¼Œæ‰¾æˆ‘ä»¬è¦è®¿é—®çš„è·¯å¾„     * @param request     * @return     */    public String getRemoteIp(HttpServletRequest request) {        String ip = request.getHeader(\"x-forwarded-for\");        if (ip == null || ip.length() == 0 || \"unknown\".equalsIgnoreCase(ip)) {            ip = request.getHeader(\"Proxy-Client-IP\");        }        if (ip == null || ip.length() == 0 || \"unknown\".equalsIgnoreCase(ip)) {            ip = request.getHeader(\"WL-Proxy-Client-IP\");        }        if (ip == null || ip.length() == 0 || \"unknown\".equalsIgnoreCase(ip)) {            ip = request.getRemoteAddr();        }        return ip;    }}```### 11. è§£å†³å‰åç«¯ Long ç²¾åº¦ä¸¢å¤±é—®é¢˜æˆ‘ä»¬åæœŸä¼šç”¨åˆ° MD5 åŠ å¯†ï¼Œåˆ°æ—¶å€™åç«¯ä¼ åˆ°å‰ç«¯çš„æ—¶å€™ï¼Œå› ä¸º javascript number çš„ç²¾åº¦é—®é¢˜ï¼Œä¼šå‡ºç°æ•°æ®ä¸¢å¤±* é…ç½®æ–‡ä»¶æ–°å¢ JacksonConfig ç±»![image-20210415020223600](https://gitee.com/faro/images/raw/master/img/20210415020223.png)* ä»£ç å¦‚ä¸‹```java@Configurationpublic class JacksonConfig {    @Bean    public ObjectMapper jacksonObjectMapper(Jackson2ObjectMapperBuilder builder) {        ObjectMapper objectMapper = builder.createXmlMapper(false).build();        SimpleModule simpleModule = new SimpleModule();        // simpleModule.addSerializer(Long.class, ToStringSerializer.instance);        simpleModule.addSerializer(Long.class, ToStringSerializer.instance);        objectMapper.registerModule(simpleModule);        return objectMapper;    }}```### 12. æ–°å»º req resp åŒ…æˆ‘ä»¬è¦å°†è¯·æ±‚ä¸è¿”å›åŒ…è£…![image-20210415020648707](https://gitee.com/faro/images/raw/master/img/20210415020648.png)### 13. CommonRespä¸ºäº†æ–¹ä¾¿å‰ç«¯è°ƒç”¨ï¼Œåç«¯çš„ respï¼Œæˆ‘ä»¬å†™ä¸€ä¸ªç»Ÿä¸€çš„è¿”å› CommonResp![image-20210415020805724](https://gitee.com/faro/images/raw/master/img/20210415020805.png)**ä»£ç å¦‚ä¸‹ï¼š**```java@Data@AllArgsConstructor@NoArgsConstructorpublic class CommonResp&lt;T&gt; {    /**     * è¿”å›æ˜¯å¦æˆåŠŸ     */    private boolean isSuccess=true;    /**     * è¿”å›å¤±è´¥æ—¶ï¼Œè¿”å›çš„é”™è¯¯ä¿¡æ¯     */    private String message;    /**     * è¿”å›æˆåŠŸçš„æ—¶å€™ï¼Œè¿”å›çš„å†…å®¹     */    private T content;}```### 14. è‡ªå®šä¹‰å¼‚å¸¸* æ–°å»ºå¼‚å¸¸ç±»`BusinessException`å’Œå¼‚å¸¸ä¿¡æ¯æšä¸¾`BusinessExceptionCode`![image-20210415021357196](https://gitee.com/faro/images/raw/master/img/20210415021357.png)* `BusinessException`ä»£ç ```javapublic class BusinessException extends RuntimeException{    private BusinessExceptionCode code;    public BusinessException (BusinessExceptionCode code) {        /**         * çˆ¶ç±»æœ‰ä¸ªæˆå‘˜å˜é‡  private String desc         * éœ€è¦ä¸ºè¿™ä¸ªæˆå‘˜å˜é‡èµ‹å€¼         */        super(code.getDesc());        this.code = code;    }    public BusinessExceptionCode getCode() {        return code;    }    public void setCode(BusinessExceptionCode code) {        this.code = code;    }    /**     * ä¸å†™å…¥å †æ ˆä¿¡æ¯ï¼Œæé«˜æ€§èƒ½     */    @Override    public Throwable fillInStackTrace() {        return this;    }}```* `BusinessExceptionCode`ä»£ç ```javapublic enum BusinessExceptionCode {    USER_LOGIN_NAME_EXIST(\"ç™»å½•åå·²å­˜åœ¨\"),    LOGIN_USER_ERROR(\"ç”¨æˆ·åä¸å­˜åœ¨æˆ–å¯†ç é”™è¯¯\"),    VOTE_REPEAT(\"æ‚¨å·²ç‚¹èµè¿‡\"),    ;    private String desc;    BusinessExceptionCode(String desc) {        this.desc = desc;    }    public String getDesc() {        return desc;    }    public void setDesc(String desc) {        this.desc = desc;    }}```### 13. ç»Ÿä¸€å¼‚å¸¸å¤„ç†æˆ‘ä»¬æ‰€æœ‰å¼‚å¸¸ï¼Œéƒ½é€šè¿‡è¿™ä¸ªç±»æ¥æ•è·ï¼Œå¹¶ç”Ÿæˆä¸€ä¸ªè¿”å›é”™è¯¯ä¿¡æ¯çš„ CommonResp* æ–°å»º ControllerExceptionHandler ç±»![](https://gitee.com/faro/images/raw/master/img/20210415020947.png)* ä»£ç å¦‚ä¸‹logger è¦æ ¹æ®é¡¹ç›®æ”¹ä¸€ä¸‹```java/** * ç»Ÿä¸€å¼‚å¸¸å¤„ç†ã€æ•°æ®é¢„å¤„ç†ç­‰ * è¯¥ç±»ç”¨äºæ•è·ç³»ç»Ÿå¼¹å‡ºçš„å¼‚å¸¸ * å°†å¼‚å¸¸åŒ…è£…æˆä¸€ä¸ª CommonResp * ä»è€Œæ–¹ä¾¿å‰ç«¯è°ƒç”¨ï¼Œæ˜¾ç¤ºé”™è¯¯ä¿¡æ¯ */@ControllerAdvicepublic class ControllerExceptionHandler {    private static final Logger LOG = LoggerFactory.getLogger(top.faroz.controller.ControllerExceptionHandler.class);    /**     * æ ¡éªŒå¼‚å¸¸ç»Ÿä¸€å¤„ç†     * @param e     * @return     */    @ExceptionHandler(value = BindException.class)    @ResponseBody    public CommonResp validExceptionHandler(BindException e) {        CommonResp commonResp = new CommonResp();        LOG.warn(\"å‚æ•°æ ¡éªŒå¤±è´¥ï¼š{}\", e.getBindingResult().getAllErrors().get(0).getDefaultMessage());        commonResp.setSuccess(false);        commonResp.setMessage(e.getBindingResult().getAllErrors().get(0).getDefaultMessage());        return commonResp;    }    /**     * æ ¡éªŒå¼‚å¸¸ç»Ÿä¸€å¤„ç†     * @param e     * @return     */    @ExceptionHandler(value = BusinessException.class)    @ResponseBody    public CommonResp validExceptionHandler(BusinessException e) {        CommonResp commonResp = new CommonResp();        LOG.warn(\"ä¸šåŠ¡å¼‚å¸¸ï¼š{}\", e.getCode().getDesc());        commonResp.setSuccess(false);        commonResp.setMessage(e.getCode().getDesc());        return commonResp;    }    /**     * æ ¡éªŒå¼‚å¸¸ç»Ÿä¸€å¤„ç†     * @param e     * @return     */    @ExceptionHandler(value = Exception.class)    @ResponseBody    public CommonResp validExceptionHandler(Exception e) {        CommonResp commonResp = new CommonResp();        LOG.error(\"ç³»ç»Ÿå¼‚å¸¸ï¼š\", e);        commonResp.setSuccess(false);        commonResp.setMessage(\"ç³»ç»Ÿå‡ºç°å¼‚å¸¸ï¼Œè¯·è”ç³»ç®¡ç†å‘˜\");        return commonResp;    }}```### 14. æ·»åŠ æ—¥å¿—è®°å½• logback* åœ¨ resource ä¸‹ï¼Œæ–°å»ºlogback-spring.xml æ–‡ä»¶![image-20210411004947139](https://gitee.com/faro/images/raw/master/img/20210411004947.png)* å†™å…¥å†…å®¹```xml&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;&lt;configuration&gt;    &lt;!-- ä¿®æ”¹ä¸€ä¸‹è·¯å¾„--&gt;    &lt;property name=\"PATH\" value=\"./log\"&gt;&lt;/property&gt;    &lt;appender name=\"STDOUT\" class=\"ch.qos.logback.core.ConsoleAppender\"&gt;        &lt;encoder&gt;            &lt;Pattern&gt;%d{yyyy-MM-dd HH:mm:ss.SSS} %highlight(%-5level) %blue(%-50logger{50}:%-4line) %thread %msg%n&lt;/Pattern&gt;            &lt;!--&lt;Pattern&gt;%d{ss.SSS} %highlight(%-5level) %blue(%-30logger{30}:%-4line) %thread %green(%-18X{LOG_ID}) %msg%n&lt;/Pattern&gt;--&gt;        &lt;/encoder&gt;    &lt;/appender&gt;    &lt;appender name=\"TRACE_FILE\" class=\"ch.qos.logback.core.rolling.RollingFileAppender\"&gt;        &lt;file&gt;${PATH}/trace.log&lt;/file&gt;        &lt;rollingPolicy class=\"ch.qos.logback.core.rolling.TimeBasedRollingPolicy\"&gt;            &lt;FileNamePattern&gt;${PATH}/trace.%d{yyyy-MM-dd}.%i.log&lt;/FileNamePattern&gt;            &lt;timeBasedFileNamingAndTriggeringPolicy class=\"ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP\"&gt;                &lt;maxFileSize&gt;10MB&lt;/maxFileSize&gt;            &lt;/timeBasedFileNamingAndTriggeringPolicy&gt;        &lt;/rollingPolicy&gt;        &lt;layout&gt;            &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss.SSS} %-5level %-50logger{50}:%-4line %green(%-18X{LOG_ID}) %msg%n&lt;/pattern&gt;        &lt;/layout&gt;    &lt;/appender&gt;    &lt;appender name=\"ERROR_FILE\" class=\"ch.qos.logback.core.rolling.RollingFileAppender\"&gt;        &lt;file&gt;${PATH}/error.log&lt;/file&gt;        &lt;rollingPolicy class=\"ch.qos.logback.core.rolling.TimeBasedRollingPolicy\"&gt;            &lt;FileNamePattern&gt;${PATH}/error.%d{yyyy-MM-dd}.%i.log&lt;/FileNamePattern&gt;            &lt;timeBasedFileNamingAndTriggeringPolicy class=\"ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP\"&gt;                &lt;maxFileSize&gt;10MB&lt;/maxFileSize&gt;            &lt;/timeBasedFileNamingAndTriggeringPolicy&gt;        &lt;/rollingPolicy&gt;        &lt;layout&gt;            &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss.SSS} %-5level %-50logger{50}:%-4line %green(%-18X{LOG_ID}) %msg%n&lt;/pattern&gt;        &lt;/layout&gt;        &lt;filter class=\"ch.qos.logback.classic.filter.LevelFilter\"&gt;            &lt;level&gt;ERROR&lt;/level&gt;            &lt;onMatch&gt;ACCEPT&lt;/onMatch&gt;            &lt;onMismatch&gt;DENY&lt;/onMismatch&gt;        &lt;/filter&gt;    &lt;/appender&gt;    &lt;root level=\"ERROR\"&gt;        &lt;appender-ref ref=\"ERROR_FILE\" /&gt;    &lt;/root&gt;    &lt;root level=\"TRACE\"&gt;        &lt;appender-ref ref=\"TRACE_FILE\" /&gt;    &lt;/root&gt;    &lt;root level=\"INFO\"&gt;        &lt;appender-ref ref=\"STDOUT\" /&gt;    &lt;/root&gt;&lt;/configuration&gt;```### 15. è‡ªå®šä¹‰ bannerresources ä¸‹æ–°å»º banner.txt![image-20210415023847796](https://gitee.com/faro/images/raw/master/img/20210415023847.png)é‡Œé¢æ”¾ä¸Šè‡ªå®šä¹‰ banner```txt ********     **     *******     *******         ********/**/////     ****   /**////**   **/////**       //////** /**         **//**  /**   /**  **     //**           **  /*******   **  //** /*******  /**      /**          **   /**////   **********/**///**  /**      /**         **    /**      /**//////**/**  //** //**     **         **     /**      /**     /**/**   //** //*******   ***** ********//       //      // //     //   ///////   ///// //////// ```","success":true}
2021-04-16 01:00:05.618 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š12 ms -------------
2021-04-16 01:00:25.280 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 01:00:25.281 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/user/list GET
2021-04-16 01:00:25.281 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.UserController.list
2021-04-16 01:00:25.282 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 01:00:25.282 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":1000}]
2021-04-16 01:00:25.288 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"list":[{"id":2,"loginName":"admin","name":"ç®¡ç†å‘˜"},{"id":37798874252972032,"loginName":"guest","name":"ä¸€èˆ¬ç”¨æˆ·"}],"total":2},"success":true}
2021-04-16 01:00:25.289 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š9 ms -------------
2021-04-16 01:00:25.769 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 01:00:25.769 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/user/list GET
2021-04-16 01:00:25.769 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.UserController.list
2021-04-16 01:00:25.769 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 01:00:25.769 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":1000}]
2021-04-16 01:00:25.774 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"list":[{"id":2,"loginName":"admin","name":"ç®¡ç†å‘˜"},{"id":37798874252972032,"loginName":"guest","name":"ä¸€èˆ¬ç”¨æˆ·"}],"total":2},"success":true}
2021-04-16 01:00:25.774 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2021-04-16 01:00:31.572 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 01:00:31.573 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/user/list GET
2021-04-16 01:00:31.573 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.UserController.list
2021-04-16 01:00:31.573 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 01:00:31.573 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":1000}]
2021-04-16 01:00:31.577 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"list":[{"id":2,"loginName":"admin","name":"ç®¡ç†å‘˜"},{"id":37798874252972032,"loginName":"guest","name":"ä¸€èˆ¬ç”¨æˆ·"}],"total":2},"success":true}
2021-04-16 01:00:31.577 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2021-04-16 01:00:31.843 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 01:00:31.844 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/user/list GET
2021-04-16 01:00:31.844 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.UserController.list
2021-04-16 01:00:31.844 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 01:00:31.844 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":1000}]
2021-04-16 01:00:31.847 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"list":[{"id":2,"loginName":"admin","name":"ç®¡ç†å‘˜"},{"id":37798874252972032,"loginName":"guest","name":"ä¸€èˆ¬ç”¨æˆ·"}],"total":2},"success":true}
2021-04-16 01:00:31.847 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2021-04-16 01:00:32.670 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 01:00:32.670 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/list GET
2021-04-16 01:00:32.670 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.list
2021-04-16 01:00:32.671 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 01:00:32.671 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":5}]
2021-04-16 01:00:32.675 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"list":[{"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Vue å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":2,"name":"Vue å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Python å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":3,"name":"Python å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Mysql å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":4,"name":"Mysql å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"c++çœŸçš„å¾ˆå®¹æ˜“ï¼Œä¸ä¼šæœ‰äººä¸ä¼šå§ï¼Ÿ","docCount":0,"id":5,"name":"21 å¤©å­¦ä¼šC++","viewCount":0,"voteCount":0}],"total":7},"success":true}
2021-04-16 01:00:32.675 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2021-04-16 01:00:32.904 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 01:00:32.904 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/list GET
2021-04-16 01:00:32.904 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.list
2021-04-16 01:00:32.905 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 01:00:32.905 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":5}]
2021-04-16 01:00:32.908 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"list":[{"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Vue å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":2,"name":"Vue å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Python å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":3,"name":"Python å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Mysql å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":4,"name":"Mysql å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"c++çœŸçš„å¾ˆå®¹æ˜“ï¼Œä¸ä¼šæœ‰äººä¸ä¼šå§ï¼Ÿ","docCount":0,"id":5,"name":"21 å¤©å­¦ä¼šC++","viewCount":0,"voteCount":0}],"total":7},"success":true}
2021-04-16 01:00:32.909 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2021-04-16 01:00:34.544 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 01:00:34.544 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/list GET
2021-04-16 01:00:34.545 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.list
2021-04-16 01:00:34.545 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 01:00:34.545 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":4}]
2021-04-16 01:00:34.554 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"list":[{"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Vue å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":2,"name":"Vue å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Python å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":3,"name":"Python å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Mysql å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":4,"name":"Mysql å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0}],"total":7},"success":true}
2021-04-16 01:00:34.554 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š10 ms -------------
2021-04-16 01:00:34.880 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 01:00:34.880 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/list GET
2021-04-16 01:00:34.880 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.list
2021-04-16 01:00:34.880 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 01:00:34.881 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":4}]
2021-04-16 01:00:34.885 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"list":[{"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Vue å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":2,"name":"Vue å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Python å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":3,"name":"Python å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Mysql å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":4,"name":"Mysql å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0}],"total":7},"success":true}
2021-04-16 01:00:34.885 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2021-04-16 01:00:37.586 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 01:00:37.586 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/list GET
2021-04-16 01:00:37.586 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.list
2021-04-16 01:00:37.587 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 01:00:37.587 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [{"page":2,"size":4}]
2021-04-16 01:00:37.592 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"list":[{"description":"c++çœŸçš„å¾ˆå®¹æ˜“ï¼Œä¸ä¼šæœ‰äººä¸ä¼šå§ï¼Ÿ","docCount":0,"id":5,"name":"21 å¤©å­¦ä¼šC++","viewCount":0,"voteCount":0},{"description":"å¡é‡Œå¤æ‹‰æ–‡ç« é“¾æ¥","docCount":0,"id":36754863593492480,"name":"å¡é‡Œå¤æ‹‰","viewCount":0,"voteCount":0},{"description":" python,2å¤©å°±å¤Ÿäº†","docCount":0,"id":36776384114331648,"name":"2å¤©å­¦ä¼špython","viewCount":0,"voteCount":0}],"total":7},"success":true}
2021-04-16 01:00:37.592 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2021-04-16 01:00:44.077 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 01:00:44.077 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/list GET
2021-04-16 01:00:44.078 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.list
2021-04-16 01:00:44.078 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 01:00:44.079 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":4}]
2021-04-16 01:00:44.083 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"list":[{"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Vue å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":2,"name":"Vue å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Python å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":3,"name":"Python å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Mysql å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":4,"name":"Mysql å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0}],"total":7},"success":true}
2021-04-16 01:00:44.084 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2021-04-16 01:00:47.471 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 01:00:47.472 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/user/list GET
2021-04-16 01:00:47.472 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.UserController.list
2021-04-16 01:00:47.472 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 01:00:47.472 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":1000}]
2021-04-16 01:00:47.477 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"list":[{"id":2,"loginName":"admin","name":"ç®¡ç†å‘˜"},{"id":37798874252972032,"loginName":"guest","name":"ä¸€èˆ¬ç”¨æˆ·"}],"total":2},"success":true}
2021-04-16 01:00:47.477 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2021-04-16 01:00:47.988 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 01:00:47.988 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/user/list GET
2021-04-16 01:00:47.988 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.UserController.list
2021-04-16 01:00:47.988 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 01:00:47.989 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":1000}]
2021-04-16 01:00:47.992 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"list":[{"id":2,"loginName":"admin","name":"ç®¡ç†å‘˜"},{"id":37798874252972032,"loginName":"guest","name":"ä¸€èˆ¬ç”¨æˆ·"}],"total":2},"success":true}
2021-04-16 01:00:47.992 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2021-04-16 01:00:48.754 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 01:00:48.754 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/list GET
2021-04-16 01:00:48.754 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.list
2021-04-16 01:00:48.755 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 01:00:48.755 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":5}]
2021-04-16 01:00:48.759 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"list":[{"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Vue å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":2,"name":"Vue å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Python å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":3,"name":"Python å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Mysql å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":4,"name":"Mysql å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"c++çœŸçš„å¾ˆå®¹æ˜“ï¼Œä¸ä¼šæœ‰äººä¸ä¼šå§ï¼Ÿ","docCount":0,"id":5,"name":"21 å¤©å­¦ä¼šC++","viewCount":0,"voteCount":0}],"total":7},"success":true}
2021-04-16 01:00:48.759 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2021-04-16 01:00:49.304 INFO  blog.aspect.LogAspect                             :55   [32m                  [0;39m ------------- å¼€å§‹ -------------
2021-04-16 01:00:49.305 INFO  blog.aspect.LogAspect                             :56   [32m                  [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/list GET
2021-04-16 01:00:49.305 INFO  blog.aspect.LogAspect                             :57   [32m                  [0;39m ç±»åæ–¹æ³•: blog.controller.DocController.list
2021-04-16 01:00:49.305 INFO  blog.aspect.LogAspect                             :58   [32m                  [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2021-04-16 01:00:49.305 INFO  blog.aspect.LogAspect                             :80   [32m                  [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":5}]
2021-04-16 01:00:49.308 INFO  blog.aspect.LogAspect                             :92   [32m                  [0;39m è¿”å›ç»“æœ: {"content":{"list":[{"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Vue å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":2,"name":"Vue å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Python å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":3,"name":"Python å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Mysql å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æ¶","docCount":0,"id":4,"name":"Mysql å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"c++çœŸçš„å¾ˆå®¹æ˜“ï¼Œä¸ä¼šæœ‰äººä¸ä¼šå§ï¼Ÿ","docCount":0,"id":5,"name":"21 å¤©å­¦ä¼šC++","viewCount":0,"voteCount":0}],"total":7},"success":true}
2021-04-16 01:00:49.308 INFO  blog.aspect.LogAspect                             :93   [32m                  [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2021-04-16 01:03:35.540 INFO  io.lettuce.core.protocol.ConnectionWatchdog       :171  [32m                  [0;39m Reconnecting, last destination was r-uf6ljbcdaxobsifyctpd.redis.rds.aliyuncs.com/47.103.172.100:6379
2021-04-16 01:03:35.611 INFO  io.lettuce.core.protocol.ReconnectionHandler      :164  [32m                  [0;39m Reconnected to r-uf6ljbcdaxobsifyctpd.redis.rds.aliyuncs.com:6379
